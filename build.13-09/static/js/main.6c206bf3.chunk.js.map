{"version":3,"sources":["helpers/authFunctions.ts","services/DiscoClubService.ts","reducers/settings.ts","hooks/useBuildTarget.ts","pages/login/Login.tsx","components/CopyIdToClipboard.tsx","pages/video-feed/VideoFeed.tsx","hooks/useResetFormCloseModal.ts","components/editable-context/EditableContext.ts","components/editable-context/EditableCell.tsx","components/editable-context/EditableRow.tsx","components/upload/ImageUpload.tsx","components/upload/VideoUpload.tsx","components/upload/index.ts","components/SortableTable.tsx","pages/video-feed/ModalTag.tsx","pages/video-feed/ModalBrand.tsx","helpers/formatMoment.ts","pages/video-feed/SegmentForm.tsx","components/RichTextEditor.tsx","hooks/useRequest.ts","pages/video-feed/VideoFeedDetail.tsx","helpers/constants.ts","helpers/utils.ts","hooks/useAllCategories.ts","pages/products/ProductCategories.tsx","pages/products/ProductCategoriesTrees.tsx","pages/products/ProductsDetails.tsx","hooks/useFilter.ts","components/SearchFilter.tsx","pages/creators/Creators.tsx","pages/creators/CreatorDetail.tsx","components/EditableTable.tsx","components/EditMultipleButton.tsx","components/SearchFilterDebounce.tsx","components/SelectBrand.tsx","pages/products/EditProductModal.tsx","components/APITestModal.tsx","pages/products/ProductAPITestModal.tsx","pages/products/ProductExpandedRow.tsx","pages/products/Products.tsx","pages/tags/TagDetail.tsx","pages/tags/Tags.tsx","pages/brands/Brands.tsx","pages/brands/BrandDetail.tsx","pages/promo-codes/PromoCodes.tsx","pages/promo-codes/PromoCodesDetail.tsx","pages/endpoints/EndpointDetail.tsx","pages/endpoints/Endpoints.tsx","pages/fans/FanGroupDropdown.tsx","pages/fans/FanDetail.tsx","pages/fans/EditFanModal.tsx","pages/fans/FanAPITestModal.tsx","pages/fans/FanFeedModal.tsx","pages/fans/Fans.tsx","pages/brand-managers/BrandManagers.tsx","pages/settings/Settings.tsx","pages/roles/Roles.tsx","pages/roles/RoleDetail.tsx","components/auth-route/AuthRoute.tsx","components/ErrorBoundary.tsx","helpers/jwt.ts","pages/error/ErrorPage.tsx","layout/SideMenus/AdminSideMenu.tsx","layout/SideMenus/BrandManagerSideMenu.tsx","layout/AuthenticatedLayout.tsx","layout/OpenLayout.tsx","pages/access-control/CloneModal.tsx","pages/access-control/AccessControl.tsx","pages/categories/Categories.tsx","pages/categories/SearchTags.tsx","pages/categories/CategoryDetail.tsx","pages/orders/Orders.tsx","pages/orders/OrderDetail.tsx","components/SelectFan.tsx","pages/transactions/Transactions.tsx","components/SelectFanQuery.tsx","pages/feed-mixer/FeedMixer.tsx","pages/products/StagingList.tsx","pages/promotions/Promotions.tsx","pages/promotions/PromotionDetail.tsx","pages/dd-templates/DdTemplates.tsx","pages/dd-templates/DdTemplateDetail.tsx","pages/promo-display/PromoDisplay.tsx","pages/promo-display/PromoDisplayDetail.tsx","pages/dashboard/Pie.tsx","pages/dashboard/Radar.tsx","pages/dashboard/Dashboard.tsx","pages/interests/Interests.tsx","pages/fan-groups/FanGroups.tsx","pages/fan-groups/FanGroupDetail.tsx","pages/wallets/WalletEdit.tsx","pages/wallets/Wallets.tsx","pages/wallets/WalletDetail.tsx","routes/AdminRoutes.tsx","routes/BrandManagerRoutes.tsx","routes/Routes.tsx","App.tsx","reportWebVitals.ts","store/store.ts","index.tsx"],"names":["isAuthenticated","localStorage","getItem","instance","axios","create","baseURL","process","headers","reverseIdRecursively","obj","prop","replaceIdRecursively","interceptors","request","use","config","data","JSON","parse","stringify","errorHandler","error","errorMsg","responseData","message","response","success","results","length","Error","status","fetchVideoFeed","get","fetchVideoFeed2","fetchProducts","brandId","query","unclassified","page","limit","put","fetchStagingProducts","fetchBrands","fetchCategories","productCategoriesAPI","superCategory","fetch","save","params","id","post","delete","category","subCategory","subSubCategory","fetchTags","fetchCreators","fetchUsers","fetchFans","fetchProfiles","fetchEndpoints","fetchUserFeed","userId","fetchPromoCodes","fetchPromotions","fetchPromoStatus","fetchDdTemplates","fetchPromoDisplays","fetchInterests","fetchFanGroups","saveProduct","saveStagingProduct","saveCreator","saveBrand","savePrivileges","saveOrder","saveFanGroup","deleteVideoFeed","deleteCreator","deleteStagingProduct","transferStageProduct","productId","unlockFeedMixer","setPreserveDdTags","unsetPreserveDdTags","updateUsersFeedByGroup","groupName","feeds","addBalanceToUser","discoDollars","resetUserBalance","getSettings","createAsyncThunk","a","settingsSlice","createSlice","name","initialState","settings","reducers","extraReducers","fulfilled","type","state","action","payload","useBuildTarget","opts","ADMIN","Login","props","history","useState","loading","setLoading","onFinish","values","login","setItem","token","push","initialValues","remember","onFinishFailed","errorInfo","console","log","Item","label","rules","required","Password","htmlType","CopyIdToClipboard","text","onClick","style","borderWidth","borderColor","borderStyle","width","padding","CopyOutlined","Content","Layout","reduceSegmentsTags","packages","reduce","acc","curr","tags","withRouter","videos","setVideos","deleteItem","onRebuildFeed","columns","title","dataIndex","render","align","value","record","to","pathname","pack","creationDate","Date","toLocaleDateString","key","_","EditOutlined","okText","cancelText","onConfirm","margin","DeleteOutlined","fetchedVideos","setFetchedVideos","setPage","fetchData","setNewData","prev","concat","slice","setTimeout","useEffect","className","subTitle","extra","disabled","Modal","content","onOk","okButtonProps","danger","closable","onCancel","dataLength","next","hasMore","loader","endMessage","size","rowKey","dataSource","pagination","useResetFormOnCloseModal","form","visible","prevVisibleRef","useRef","current","prevVisible","resetFields","createContext","EditableCell","editable","children","onSave","number","restProps","editing","setEditing","inputRef","inputNumberRef","useContext","EditableContext","focus","toggleEdit","setFieldsValue","validateFields","childNode","ref","onPressEnter","onBlur","EditableRow","index","Form","useForm","component","Provider","ImageUpload","fileList","maxCount","formProp","accept","fileListLocal","setfileListLocal","url","uploadButton","PlusOutlined","marginTop","createObjectFromPropArray","keys","inner","onPreview","file","src","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","image","Image","imgWindow","window","open","document","write","outerHTML","Authorization","onChange","info","xhr","replace","uid","handleMaxOneImage","getFieldValue","filter","video","imageValue","listType","VideoUpload","DragHandle","sortableHandle","MenuOutlined","cursor","color","SortableItem","sortableElement","SortableContainer","sortableContainer","SortableTable","setDataSource","map","sortableColumns","onSortEnd","oldIndex","newIndex","newData","arrayMove","el","components","body","wrapper","_props","useDragHandle","disableAutoscroll","helperClass","row","findIndex","x","ModalTag","tag","selectedPositions","onDeletePosition","onSavePosition","onAddPosition","setTags","selectedTag","setSelectedTag","mounted","getTags","cell","configuredColumns","col","onCell","newPosition","submit","forceRender","layout","Group","gutter","lg","xs","find","Option","tagName","position","z","Math","random","rowClassName","bordered","ModalBrand","brand","brands","setBrands","selectedBrand","setselectedBrand","getBrands","brandName","formatMoment","date","moment","SegmentForm","segment","formFn","filteredTags","setFilteredTags","selectedFilterBrands","setSelectedFilterBrands","selectedTags","forEach","_tag","thumbnail","Title","level","List","fields","add","remove","display","alignItems","startTime","opacity","duration","y","field","showSearch","filterOption","input","option","toLowerCase","indexOf","fieldName","formBrands","changedBrand","selectedLogo","selectedLogoUrl","setFields","touched","onChangeBrand","shouldUpdate","prevValues","curValues","bra","placeholder","onChangeLogo","brandLogo","colourLogo","blackLogo","whiteLogo","fieldKey","MinusCircleOutlined","allowClear","v","formTags","handleBrandFilter","changedTag","onChangeTag","RichTextEditor","formField","fieldValue","editorInitialValue","EditorState","createWithContent","ContentState","createFromBlockArray","htmlToDraft","contentBlocks","createEmpty","editorState","setEditorState","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","newState","draftToHtml","convertToRaw","getCurrentContent","useRequest","_loading","_setLoading","_setLoadingHandler","successMsg","completeResponse","doFetch","undefined","doRequest","doAPITest","Typography","VideoFeedDetail","initial","location","useSelector","language","modalAddFeedToUser","setModalAddFeedToUser","modalRemoveFeedFromUser","setModalRemoveFeedFromUser","users","setUsers","categories","setCategories","selectedUser","setSelectedUser","selectedTagIndex","setSelectedTagIndex","tagModalVisible","setTagModalVisible","setSelectedPositions","influencers","setInfluencers","setSelectedBrand","selectedBrandIndex","setSelectedBrandIndex","brandModalVisible","setBrandModalVisible","selectedSegment","setSelectedSegment","selectedSegmentIndex","setSelectedSegmentIndex","ageRange","setageRange","segForm","setSegForm","getUsers","getInfluencers","getCategories","item","getFieldsValue","package","onDeleteSegment","evt","stopPropagation","splice","onUnlockFeedClick","onModalAddFeedUserOkClick","feedId","onModalAddFeedUserChange","ageMin","ageMax","onFormFinish","forms","segmentForm","tagForm","newValue","brandForm","feedForm","segments","errorFields","errorField","errors","defaultActiveKey","TabPane","tab","buttonStyle","Button","creator","influencer","firstName","lang","mode","range","marks","12","100","min","max","getValueProps","format","sequence","segmentIndex","isFieldsTouched","onEditSegment","alt","height","icon","shape","hidden","onEditTag","onEditBrand","onAddBrand","onAddTag","user","discoBrandId","categoriesArray","ep","categoriesSettings","categoriesKeys","categoriesFields","categoriesEps","useAllCategories","allCategories","Category","_allCategories","_setAllCategories","filteredCategories","setFilteredCategories","selectedCategories","setSelectedCategories","filterByCheckingTree","selectedValue","selectedKey","newFilteredCategories","selectedIndex","selectedField","nextKey","i","fieldToInspect","fetchAllCategories","useCallback","all","responses","filterCategory","setFormField","iteratorKey","formatProductCategories","initialProductCategories","initialCategories","Object","_key","ProductCategories","productCategoryIndex","handleCategoryChange","_index","selectedCategoryName","_field","formCategories","_handleCategoryChange","ProductCategoriesTrees","_categories","_setCategories","justify","maxWidth","delCategoryTree","MinusOutlined","marginBottom","videoColumns","ProductDetails","isStaging","useParams","productMode","saveProductFn","productsListPathname","maxDiscountAlert","setMaxDiscountAlert","currency","setSearchTagsByCategory","useInitialValue","selectedCategoriesSearchTags","searchTags","finalValue","Array","from","Set","product","productCategory","valuePropName","searchTag","dependencies","validator","maxDiscount","maxPossibleDiscount","trunc","Number","alert","reject","parser","precision","tagImage","thumbnailUrl","relatedVideoFeed","videoFeedId","automated","useFilter","initialArrayListValue","arrayList","setArrayList","filteredArrayList","setFilteredArrayList","filterFunctions","setFilterFunctions","_filteredArrayList","prototype","hasOwnProperty","call","filterFn","addFilterFunction","fn","removeFilterFunction","SearchFilter","filterFunction","target","suffix","SearchOutlined","tagColorByStatus","approved","rejected","pending","Creators","setCreators","filteredCreators","CheckOutlined","aproveOrReject","CloseOutlined","aprove","filterText","creators","toUpperCase","includes","CreatorDetail","autoComplete","prefix","TextArea","rows","md","InstagramFilled","FacebookFilled","SoundFilled","YoutubeFilled","GlobalOutlined","TwitterCircleFilled","EditableTable","EditMultipleButton","selectedRowKeys","ModalComponent","showEditProductModal","setShowEditProductModal","selectedItems","setSelectedItems","SearchFilterDebounce","setText","debounced","debounce","newText","SelectBrand","EditProductModal","selectedProducts","then","maxDiscoDollars","updatedProducts","APITestModal","selectedRecord","setSelectedRecord","getRecordAPIRequests","responseBody","setResponseBody","formValues","setFormValues","recordRequests","setRecordRequests","param","default","testRoute","route","handleClose","Boolean","method","defaultValue","e","handleFormChange","getProductAPIRequests","DdQuantity","preCheckout","ddQuantity","ProductAPITestModal","ProductExpandedRow","onSaveProduct","useLocation","__","Products","refreshing","setRefreshing","setSelectedRowKeys","productAPITest","setProductAPITest","saveCategories","loadingCategories","searchFilter","setSearchFilter","brandIdFilter","setBrandIdFilter","unclassifiedFilter","setUnclassifiedFilter","eof","setEof","products","setProducts","_fetchProducts","pageToUse","getResources","refreshProducts","getProducts","onSaveCategories","responsive","SettingOutlined","_selectedBrand","checked","rowSelection","preSelectedRows","selectedRows","expandable","expandedRowRender","TagDetail","template","clickSound","brandKey","xxl","temp","tipFormatter","click","Tags","fetchVideos","EyeOutlined","Brands","setFilterText","backgroundColor","border","BrandDetail","checkoutType","requireMobilePurchaseStatus","checkout","brandCard","ColorPicker","onChangeComplete","hex","PromoCodes","promoCodes","setPromoCodes","fetchedPromoCodes","setFetchedPromoCodes","PromoCodesDetail","promoCode","EndpointDetail","description","container","application","isActive","endpoint","Endpoints","setEndpoints","filteredEndpoints","endpoints","FanGroupDropdown","fanGroups","setFanGroups","selectedFanGroup","setSelectedFanGroup","addFanGroupField","setAddFanGroupField","getFanGroups","addFanGroup","onFanGroupChange","event","String","fanGroup","dropdownRender","menu","flexWrap","justifyContent","flex","marginRight","Select","FanDetail","roles","setRoles","getCreatores","getRoles","onChangeCreator","userName","lastName","followingCreators","creatorId","creatorColumns","follow","onRemoveCreatorClick","onChangeCategories","followingCategories","idCategory","categoryColumns","onRemoveCategoryClick","formatUserData","formUser","formattedUser","birthday","personalDetails","phone","phoneNumber","addresses","line1","line2","city","stateOrCounty","country","postalCode","isDefault","formattedUserData","role","addonBefore","dialCode","noStyle","creat","EditFanModal","selectedFans","fansToUpdateIds","fan","fansIds","getFanAPIRequests","FanAPITestModal","FanFeedModal","userFeed","setUserFeed","onClose","footer","tagColorByPermission","Admin","Temp","Fan","Fans","fanAPITest","setFanAPITest","fanFeedModal","setFanFeedModal","setFans","filteredFans","getFansGroups","getFans","profile","fanGroupName","OrderedListOutlined","handleEditFans","fans","searchText","BrandManagers","Tabs","ItemList","charAt","Settings","dispatch","useDispatch","Roles","filteredRoles","RoleDetail","AuthRoute","Component","path","returnComponent","rest","routeProps","ErrorBoundary","hasError","this","fallbackComponent","jwt","decode","jwtDecode","erro","ErrorPage","reload","AdminSideMenu","theme","defaultSelectedKeys","FundOutlined","TagOutlined","HeartFilled","ShoppingCartOutlined","DollarOutlined","FireOutlined","SoundOutlined","GiftOutlined","TeamOutlined","UserOutlined","CloudServerOutlined","ApartmentOutlined","ControlOutlined","SwitcherOutlined","Header","Sider","appName","BRAND_MANAGER","fontSize","wrap","textAlign","Text","clear","breakpoint","collapsedWidth","minHeight","BrandManagerSideMenu","OpenLayout","CloneModal","showCloneModal","setShowCloneModal","selectedProfile","privileges","profiles","clonedPrivileges","privilege","profilePrivileges","profilesToSave","currPrivilege","indexClone","app","privilegeClone","isEndpoint","strong","profie","methodsList","FunctionPrivilege","endpointPrivilege","initialPrivilege","setPrevilege","onChangePermission","_privilege","spinning","AccessControl","setProfiles","setSelectedProfile","selectedMethod","setSelectedMethod","setPrivileges","endpointPrivileges","setEndpointPrivileges","getPrivileges","getEndpoints","getProfiles","prof","filteredPrivileges","Categories","selectedTab","setSelectedTab","setSearchText","searchedColumn","setSearchedColumn","searchInput","handleSearch","selectedKeys","confirm","filterDropdown","setSelectedKeys","clearFilters","handleReset","closeDropdown","filterIcon","filtered","onFilter","toString","onFilterDropdownVisibleChange","select","highlightStyle","searchWords","autoEscape","textToHighlight","search","overlay","trigger","searchTagFactory","tagAsString","split","SearchTags","tagsAsStrings","del","CategoryDetail","URLSearchParams","categoryLevel","categoryUpdateName","categoryField","convertTagsIntoStrings","str","Orders","tableloading","setTableLoading","orderUpdateList","setOrderUpdateList","orders","setOrders","filteredOrders","order","ordersSettings","handleSelectChange","orderIndex","currentOrderUpdateList","stage","_orders","hLastUpdate","utc","handleDateChange","startDate","startOf","endDate","endOf","hCreationDate","isBetween","getFan","fanId","userid","CalendarOutlined","RangePicker","ordersSetting","getOrders","ordersWithFanName","fanName","OrderDetail","SelectFan","searchList","setSearchList","selectedFan","setSelectedFan","_searchList","Transactions","tableLoading","transactions","setTransactions","filteredTransactions","setFilteredTransactions","onChangeFan","_selectedFan","fansQueryFilters","isFilter","isGroup","SelectFanQuery","fansResults","fanGroupsResults","_fansQueryFilters","unshift","_onChange","FeedMixer","templateFeed","setTemplateFeed","lockedFeed","setLockedFeed","displayFeedName","setDisplayFeedName","getColumnSearchProps","addObj","removeObj","actionObj","setActionObj","fetchFeed","groupId","_userFeed","_templateFeed","specialLock","saveChanges","handleLockChange","handleCheckboxChange","fnToCall","StagingList","filteredProducts","handleStage","lastImportDate","lastGoLiveDate","marginLeft","ArrowRightOutlined","handleEditProducts","Promotions","promoStatusList","setPromoStatusList","setPromotions","filteredPromotions","promotions","promotion","getPromotions","getPromoStatus","promoStatus","PromotionDetail","_state","setPackages","getPackages","_package","DdTemplates","setDdTemplates","filteredDdTemplates","getDdTemplates","dds","dd","DdTemplatesDetail","ddTemplate","PromoDisplays","setPromoDisplays","filteredPromoDisplays","getPromoDisplays","promoDisplays","promoDisplay","PromoDisplaysDetail","COLORS","RADIAN","PI","renderCustomizedLabel","cx","cy","midAngle","innerRadius","outerRadius","percent","radius","cos","sin","fill","textAnchor","dominantBaseline","toFixed","Example","ResponsiveContainer","PieChart","Pie","labelLine","dataKey","entry","Cell","PureComponent","demoUrl","subject","A","B","fullMark","RadarChart","PolarGrid","PolarAngleAxis","PolarRadiusAxis","Radar","stroke","fillOpacity","Dashboard","uv","pv","amt","LineChart","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","YAxis","Tooltip","Legend","Line","activeDot","r","BarChart","Bar","Interests","interests","setInterests","mergedCategories","setMergedCategories","getCategoryParams","_mergedCategories","categoryId","subCategoryId","subSubCategoryId","_interests","FanGroups","filteredFanGroups","FanGroupsDetail","WalletEdit","addBalance","balanceToAdd","resetBalance","Wallets","setWallets","filteredWallets","discoGold","balance","wallets","wallet","WalletDetail","AdminRoutes","exact","AuthenticatedLayout","VideoFeed","DdTemplateDetail","PromoDisplayDetail","PromoDisplay","FanGroupDetail","BrandManagerRoutes","Routes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","configureStore","reducer","settingsReducer","ReactDOM","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.6c206bf3.chunk.js","sourcesContent":["export const isAuthenticated = () => {\r\n  return localStorage.getItem(\"token\") !== null;\r\n};\r\n","import { message } from \"antd\";\r\nimport axios, { AxiosRequestConfig } from \"axios\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport {\r\n  AllCategoriesAPI,\r\n  Category,\r\n  ProductCategory,\r\n} from \"interfaces/Category\";\r\nimport { Creator } from \"interfaces/Creator\";\r\nimport { DdTemplate } from \"interfaces/DdTemplate\";\r\nimport { Endpoint } from \"interfaces/Endpoint\";\r\nimport { FanGroup } from \"interfaces/FanGroup\";\r\nimport { FeedItem } from \"interfaces/FeedItem\";\r\nimport { Function } from \"interfaces/Function\";\r\nimport { Login } from \"interfaces/Login\";\r\nimport { Privilege } from \"interfaces/Privilege\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport { PromoCode } from \"interfaces/PromoCode\";\r\nimport { PromoDisplay } from \"interfaces/PromoDisplay\";\r\nimport { Role } from \"interfaces/Role\";\r\nimport { Tag } from \"interfaces/Tag\";\r\nimport { User } from \"interfaces/User\";\r\n\r\nexport const instance = axios.create({\r\n  baseURL: process.env.REACT_APP_HOST_ENDPOINT,\r\n  headers: { \"Content-Type\": \"application/json\" },\r\n});\r\n\r\ninterface IDelete {\r\n  id: string;\r\n}\r\n\r\ntype Pagination = {\r\n  page?: number;\r\n  limit?: number;\r\n};\r\n\r\nfunction reverseIdRecursively(obj: any) {\r\n  for (let prop in obj) {\r\n    if (prop === \"id\") {\r\n      obj[\"_id\"] = obj[prop];\r\n      delete obj[prop];\r\n    } else if (typeof obj[prop] === \"object\") reverseIdRecursively(obj[prop]);\r\n  }\r\n}\r\n\r\nfunction replaceIdRecursively(obj: any) {\r\n  for (let prop in obj) {\r\n    if (prop === \"_id\") {\r\n      obj[\"id\"] = obj[prop];\r\n      delete obj[prop];\r\n    } else if (typeof obj[prop] === \"object\") {\r\n      replaceIdRecursively(obj[prop]);\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\ninstance.interceptors.request.use((config: AxiosRequestConfig) => {\r\n  const data = JSON.parse(JSON.stringify(config.data || {}));\r\n  if (data) {\r\n    reverseIdRecursively(data);\r\n  }\r\n  config.headers[\"Authorization\"] = `Bearer ${localStorage.getItem(\"token\")}`;\r\n  config.data = data;\r\n  return config;\r\n});\r\n\r\nconst errorHandler = (\r\n  error: any,\r\n  errorMsg = \"Something went wrong.\",\r\n  responseData?: any\r\n) => {\r\n  message.error(errorMsg);\r\n  if (responseData) {\r\n    // eslint-disable-next-line no-throw-literal\r\n    throw { error, ...responseData };\r\n  } else {\r\n    throw error;\r\n  }\r\n};\r\n\r\ninstance.interceptors.response.use(\r\n  (response) => {\r\n    const { error, message, success, results } = response?.data;\r\n    if (error) {\r\n      errorHandler(error, message || error, response.data);\r\n    } else if (success === false && !(results && !results.length)) {\r\n      errorHandler(new Error(\"Request failed\"), \"Request failed.\");\r\n    }\r\n    return replaceIdRecursively(response.data);\r\n  },\r\n  (error) => {\r\n    switch (error.response?.status) {\r\n      case 404:\r\n      case 401:\r\n      default: {\r\n        errorHandler(error);\r\n      }\r\n    }\r\n  }\r\n);\r\n\r\nexport const fetchStartupVideo = () => instance.get(\"Wi/Ep/GetStartupVideo\");\r\n\r\nexport const fetchVideoFeed = () => instance.get(\"Wi/Ep/ListVideoFeed\");\r\nexport const fetchVideoFeed2 = () => instance.get(\"Wi/Ep/GetVideoFeed\");\r\n\r\nexport const fetchProducts = ({\r\n  brandId,\r\n  query,\r\n  unclassified,\r\n  page = 0,\r\n  limit = 0,\r\n}: {\r\n  brandId?: string;\r\n  query?: string;\r\n  unclassified?: boolean;\r\n} & Pagination) =>\r\n  instance.put(`Disco/Product/Adm/List/${page}/${limit}`, {\r\n    brandId,\r\n    query,\r\n    unclassified,\r\n  });\r\n\r\nexport const fetchStagingProducts = () =>\r\n  instance.put(\"Disco/Staging/Product/List\", {});\r\n\r\nexport const fetchBrands = () => instance.get(\"Wi/Ep/ListBrands\");\r\n\r\nexport const fetchCategories = () => instance.get(\"Wi/Ep/GetProductCategories\");\r\n\r\nexport const productCategoriesAPI: AllCategoriesAPI = {\r\n  superCategory: {\r\n    fetch: () => instance.get(`Wi/Ep/ListProductSuperCategories`),\r\n    save: (params: ProductCategory) => {\r\n      if (params.id) {\r\n        return instance.post(\"Wi/Ep/UpdateProductSuperCategories\", params);\r\n      } else {\r\n        return instance.put(\"Wi/Ep/AddProductSuperCategories\", params);\r\n      }\r\n    },\r\n    delete: (data: IDelete) =>\r\n      instance.delete(`Wi/Ep/RemoveProductSuperCategories`, { data }),\r\n  },\r\n  category: {\r\n    fetch: () => instance.get(`Wi/Ep/ListProductCategories`),\r\n    save: (params: ProductCategory) => {\r\n      if (params.id) {\r\n        return instance.post(\"Wi/Ep/UpdateProductCategories\", params);\r\n      } else {\r\n        return instance.put(\"Wi/Ep/AddProductCategories\", params);\r\n      }\r\n    },\r\n    delete: (data: IDelete) =>\r\n      instance.delete(`Wi/Ep/RemoveProductCategories`, { data }),\r\n  },\r\n  subCategory: {\r\n    fetch: () => instance.get(`Wi/Ep/ListProductSubCategories`),\r\n    save: (params: ProductCategory) => {\r\n      if (params.id) {\r\n        return instance.post(\"Wi/Ep/UpdateProductSubCategories\", params);\r\n      } else {\r\n        return instance.put(\"Wi/Ep/AddProductSubCategories\", params);\r\n      }\r\n    },\r\n    delete: (data: IDelete) =>\r\n      instance.delete(`Wi/Ep/RemoveProductSubCategories`, { data }),\r\n  },\r\n  subSubCategory: {\r\n    fetch: () => instance.get(`Wi/Ep/ListProductSubSubCategories`),\r\n    save: (params: ProductCategory) => {\r\n      if (params.id) {\r\n        return instance.post(\"Wi/Ep/UpdateProductSubSubCategories\", params);\r\n      } else {\r\n        return instance.put(\"Wi/Ep/AddProductSubSubCategories\", params);\r\n      }\r\n    },\r\n    delete: (data: IDelete) =>\r\n      instance.delete(`Wi/Ep/RemoveProductSubSubCategories`, { data }),\r\n  },\r\n};\r\n\r\nexport const fetchTags = () => instance.get(\"Wi/Ep/ListTags\");\r\n\r\nexport const fetchCreators = () => instance.get(\"Wi/Ep/ListCreators\");\r\n\r\nexport const fetchUsers = () => instance.get(\"Wi/Ep/ListUsers\");\r\n\r\nexport const fetchFans = () => instance.get(\"Wi/Ep/ListFans\");\r\n\r\nexport const fetchProfiles = () => instance.get(\"Wi/Ep/ListProfiles\");\r\n\r\nexport const fetchFunctions = () => instance.get(\"Wi/Ep/ListFunctions\");\r\n\r\nexport const fetchEndpoints = () => instance.get(\"Wi/Ep/ListEndpoints\");\r\n\r\nexport const fetchInterfaces = () => instance.get(\"Wi/Ep/ListInterfaces\");\r\n\r\nexport const fetchSettings = () => instance.get(\"Wi/Ep/GetSettings\");\r\n\r\nexport const fetchPrivileges = (profile: string) =>\r\n  instance.put(\"Wi/Ep/ListPrivileges\", { profile });\r\n\r\nexport const fetchOrders = () => instance.get(\"Wi/Ep/ListOrders\");\r\n\r\nexport const fetchWalletTransactions = (userId: string) =>\r\n  instance.put(\"Wi/Ep/GetWalletTransactions\", { userId });\r\n\r\nexport const fetchUserFeed = (userId: string) =>\r\n  instance.get(`Disco/Feed/GetUserFeed/${userId}`);\r\n\r\nexport const fetchGroupFeed = (groupId: string) =>\r\n  instance.get(`Disco/Feed/GetGroup/${groupId}`);\r\n\r\nexport const fetchPromoCodes = () => instance.get(\"Wi/Ep/ListPromoCodes\");\r\n\r\nexport const fetchPromotions = () => instance.get(\"Wi/Ep/ListPromotions\");\r\n\r\nexport const fetchPromoStatus = () => instance.get(\"Wi/Ep/ListPromoStatus\");\r\n\r\nexport const fetchDdTemplates = () => instance.get(\"Wi/Ep/ListDdTemplate\");\r\n\r\nexport const fetchPromoDisplays = () => instance.get(\"Wi/Ep/ListPromoDisplay\");\r\n\r\nexport const fetchInterests = () => instance.get(\"Wi/Ep/ListInterest\");\r\n\r\nexport const fetchFanGroups = () => instance.get(\"Wi/Ep/ListFanGroup\");\r\n\r\nexport const fetchBalancePerBrand = (userId: string) =>\r\n  instance.get(`Disco/Wallet/GetBalancePerBrand/${userId}`);\r\n\r\nexport const fetchTransactionsPerBrand = (userId: string, brandId: string) =>\r\n  instance.get(`Disco/Wallet/GetTransactionsPerBrand/${userId}/${brandId}`);\r\n\r\nexport const saveVideoFeed = (params: FeedItem) => {\r\n  if (params.id) {\r\n    return instance.put(\"Disco/Feed/Update\", params);\r\n  } else {\r\n    return instance.put(\"Disco/Feed/Add\", params);\r\n  }\r\n};\r\n\r\nexport const updateManyProducts = (params: Product[]) => {\r\n  return instance.post(\"/Disco/Product/UpdateMany\", params);\r\n};\r\n\r\nexport const updateManyFans = (groupName: string, fansIds: string[]) => {\r\n  return instance.post(`/Disco/Fan/SetUsersGroup/${groupName}`, fansIds);\r\n};\r\n\r\nexport const saveProduct = (params: Product) => {\r\n  if (params.id) {\r\n    return instance.post(\"/Disco/Product/Update\", params);\r\n  } else {\r\n    return instance.put(\"/Disco/Product/Add\", params);\r\n  }\r\n};\r\n\r\nexport const saveStagingProduct = (params: Product) =>\r\n  instance.post(\"Disco/Staging/Product/Update\", params);\r\n\r\nexport const saveCreator = (params: Creator) => {\r\n  if (params.id) {\r\n    return instance.post(\"Disco/Creator/Update\", params);\r\n  } else {\r\n    return instance.put(\"Disco/Creator/Add\", params);\r\n  }\r\n};\r\n\r\nexport const saveTag = (params: Tag) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateTag\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddTag\", params);\r\n  }\r\n};\r\n\r\nexport const saveBrand = (params: Brand) => {\r\n  if (params.id) {\r\n    return instance.post(\"Disco/Brand/Update\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddBrand\", params);\r\n  }\r\n};\r\n\r\nexport const saveCategory = (params: Category) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateCategory\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddCategory\", params);\r\n  }\r\n};\r\n\r\nexport const saveEndpoint = (params: Endpoint) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateEndpoint\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddEndpoint\", params);\r\n  }\r\n};\r\n\r\nexport const saveInterface = (params: Function) => {\r\n  params.type = \"interface\";\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateFunction\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddFunction\", params);\r\n  }\r\n};\r\n\r\nexport const saveUser = (params: User) => {\r\n  if (params.id) {\r\n    return instance.post(\"Disco/Identity/UpdateUser\", params);\r\n  } else {\r\n    return instance.put(\"Disco/Identity/AddUser\", params);\r\n  }\r\n};\r\n\r\nexport const saveRole = (params: Role) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateProfile\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddProfile\", params);\r\n  }\r\n};\r\n\r\nexport const saveSettings = (params: any) => {\r\n  return instance.post(\"Wi/Ep/UpdateSettings\", params);\r\n};\r\n\r\nexport const savePrivileges = (params: Privilege) => {\r\n  return instance.post(\"Wi/Ep/AddPrivilege\", params);\r\n};\r\n\r\nexport const saveOrder = (params: any) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateOrder\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddOrder\", params);\r\n  }\r\n};\r\n\r\nexport const saveUserFeed = (userId: string, payload: any) =>\r\n  instance.put(`Disco/Feed/UpdateUserFeed/${userId}`, payload);\r\n\r\nexport const savePromoCode = (params: PromoCode) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdatePromoCode\", params);\r\n  } else {\r\n    return instance.put(\"Wi/Ep/AddPromoCode\", params);\r\n  }\r\n};\r\n\r\nexport const savePromotion = (params: PromoCode) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdatePromotion\", params);\r\n  } else {\r\n    return instance.put(\"Wi/EP/AddPromotion\", params);\r\n  }\r\n};\r\n\r\nexport const saveDdTemplate = (params: DdTemplate) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateDdTemplate\", params);\r\n  } else {\r\n    return instance.put(\"Wi/EP/AddDdTemplate\", params);\r\n  }\r\n};\r\n\r\nexport const savePromoDisplay = (params: PromoDisplay) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdatePromoDisplay\", params);\r\n  } else {\r\n    return instance.put(\"Wi/EP/AddPromoDisplay\", params);\r\n  }\r\n};\r\n\r\nexport const saveFanGroup = (params: FanGroup) => {\r\n  if (params.id) {\r\n    return instance.post(\"Wi/Ep/UpdateFanGroup\", params);\r\n  } else {\r\n    return instance.put(\"Wi/EP/AddFanGroup\", params);\r\n  }\r\n};\r\n\r\nexport const deletePrivileges = (data: Privilege) =>\r\n  instance.delete(\"Wi/Ep/RemovePrivilege\", { data });\r\n\r\nexport const deleteVideoFeed = (id: string) =>\r\n  instance.delete(`Disco/Feed/Delete/${id}`);\r\n\r\nexport const deleteTag = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemoveTag`, { data });\r\n\r\nexport const deleteCreator = (id: string) =>\r\n  instance.delete(`Disco/Creator/Delete/${id}`);\r\n\r\nexport const deleteProduct = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemoveProduct`, { data });\r\n\r\nexport const deleteStagingProduct = (id: string) =>\r\n  instance.delete(`Disco/Staging/Product/Remove/${id}`);\r\n\r\nexport const deleteBrand = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemoveBrand`, { data });\r\n\r\nexport const deleteCategory = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemoveCategory`, { data });\r\n\r\nexport const deletePromoCode = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemovePromoCode`, { data });\r\n\r\nexport const deletePromotion = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemovePromotion`, { data });\r\n\r\nexport const deleteDdTemplate = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemoveDdTemplate`, { data });\r\n\r\nexport const deletePromoDisplay = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemovePromoDisplay`, { data });\r\n\r\nexport const deleteFanGroup = (data: IDelete) =>\r\n  instance.delete(`Wi/Ep/RemoveFanGroup`, { data });\r\n\r\nexport const loginService = (login: Login) =>\r\n  instance.put(\"Auth/GetApiToken\", login);\r\n\r\nexport const lockFeedToUser = (feedId: string, userId: string) =>\r\n  instance.get(`Disco/Feed/LockToOne/${feedId}/${userId}`);\r\n\r\nexport const unlockFeed = (id: string) =>\r\n  instance.get(`/Disco/Feed/RebuildOne/${id}`);\r\n\r\nexport const rebuildAllFeedd = () => instance.get(\"/Disco/Feed/RebuildAll\");\r\n\r\nexport const transferStageProduct = (productId: string) =>\r\n  instance.get(`Disco/Staging/Product/Transfer/${productId}`);\r\n\r\nexport const lockFeedMixer = (userId: string) =>\r\n  instance.get(`Disco/Feed/LockUnlockUser/${userId}/y`);\r\n\r\nexport const unlockFeedMixer = (userId: string) =>\r\n  instance.get(`Disco/Feed/LockUnlockUser/${userId}/n`);\r\n\r\nexport const setPreserveDdTags = (userId: string) =>\r\n  instance.get(`Disco/Wallet/PreserveDdTagsToUser/${userId}/y`);\r\n\r\nexport const unsetPreserveDdTags = (userId: string) =>\r\n  instance.get(`Disco/Wallet/PreserveDdTagsToUser/${userId}/n`);\r\n\r\nexport const preCheckout: (productId: string, DdQuantity?: number) => any = (\r\n  productId,\r\n  DdQuantity = 0\r\n) => instance.get(`Disco/Product/PreCheckout/${productId}/${DdQuantity}`);\r\n\r\nexport const updateMultipleUsersFeed = (params: any) =>\r\n  instance.put(`Disco/Feed/UpdateMultipleUsersFeed`, {\r\n    query: {},\r\n    feeds: params,\r\n  });\r\n\r\nexport const updateUsersFeedByGroup = (groupName: string, params: any) =>\r\n  instance.put(`Disco/Feed/UpdateUsersFeedByGroup/${groupName}`, {\r\n    feeds: params,\r\n  });\r\n\r\nexport const saveInterests = (params: any) => {\r\n  return instance.put(\"Disco/Fan/UpdateInterests\", params);\r\n};\r\n\r\nexport const fetchFanFeed = (userId: string) =>\r\n  instance.get(`Disco/Feed/GetOne/${userId}`);\r\n\r\nexport const addBalanceToUser = (\r\n  userId: string,\r\n  brandId: string,\r\n  discoDollars: number\r\n) =>\r\n  instance.get(\r\n    `Disco/Wallet/AddBalanceToUser/${userId}/${brandId}/${discoDollars}`\r\n  );\r\n\r\nexport const resetUserBalance = (userId: string, brandId: string) =>\r\n  instance.get(`Disco/Wallet/ResetUserBalance/${userId}/${brandId}`);\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { fetchSettings } from \"services/DiscoClubService\";\r\n\r\nexport const getSettings = createAsyncThunk(\r\n  \"settings/FetchSettings\",\r\n  async () => {\r\n    const response: any = await fetchSettings();\r\n    return response.results[0];\r\n  }\r\n);\r\n\r\nexport const settingsSlice = createSlice({\r\n  name: \"settings\",\r\n  initialState: {\r\n    settings: {},\r\n  },\r\n  reducers: {},\r\n  extraReducers: {\r\n    [getSettings.fulfilled.type]: (state, action) => {\r\n      state.settings = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default settingsSlice.reducer;\r\n","import { BuildTarget } from \"interfaces/BuildTarget\";\r\n\r\nexport const useBuildTarget = (opts: BuildTarget) => {\r\n  switch (process.env.REACT_APP_BUILD_TARGET) {\r\n    case \"ADMIN\":\r\n      return opts.ADMIN;\r\n    case \"BRAND_MANAGER\":\r\n      return opts.BRAND_MANAGER;\r\n    default:\r\n      if (opts.default) return opts.default;\r\n      throw new Error(\r\n        \"No such build target: \" + process.env.REACT_APP_BUILD_TARGET\r\n      );\r\n  }\r\n};\r\n","import { Button, Card, Form, Input } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { loginService } from \"services/DiscoClubService\";\r\n\r\nconst Login: React.FC<RouteComponentProps> = (props) => {\r\n  const { history } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const onFinish = async (values: any) => {\r\n    setLoading(true);\r\n    try {\r\n      const response: any = await loginService(values);\r\n      if (response.success) {\r\n        localStorage.setItem(\"token\", response.token);\r\n        history.push(\"/\");\r\n      }\r\n    } catch (e) {}\r\n    setLoading(false);\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo: any) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <Form\r\n        name=\"auth\"\r\n        initialValues={{ remember: true }}\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n      >\r\n        <Form.Item\r\n          label=\"Username\"\r\n          name=\"user\"\r\n          rules={[{ required: true, message: \"Please input your username!\" }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"Password\"\r\n          name=\"pwd\"\r\n          rules={[{ required: true, message: \"Please input your password!\" }]}\r\n        >\r\n          <Input.Password />\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            Submit\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { CopyOutlined } from \"@ant-design/icons\";\r\nimport { Button, message } from \"antd\";\r\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\r\n\r\nexport default function CopyIdToClipboard({ id }: { id: string }) {\r\n  return (\r\n    <CopyToClipboard text={id}>\r\n      <Button\r\n        onClick={() => {\r\n          message.success(\"Copied _id to Clipboard.\");\r\n        }}\r\n        type=\"link\"\r\n        style={{\r\n          borderWidth: \"1px\",\r\n          borderColor: \"#1890ff\",\r\n          borderStyle: \"solid\",\r\n          width: \"36px\",\r\n          padding: \"0px 6px\",\r\n        }}\r\n      >\r\n        <CopyOutlined />\r\n      </Button>\r\n    </CopyToClipboard>\r\n  );\r\n}\r\n","import { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Layout,\r\n  message,\r\n  Modal,\r\n  PageHeader,\r\n  Popconfirm,\r\n  Spin,\r\n  Table,\r\n  Tag as AntTag,\r\n} from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { FeedItem } from \"interfaces/FeedItem\";\r\nimport { Segment } from \"interfaces/Segment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link, RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport {\r\n  deleteVideoFeed,\r\n  fetchVideoFeed,\r\n  rebuildAllFeedd,\r\n} from \"services/DiscoClubService\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport CopyIdToClipboard from \"components/CopyIdToClipboard\";\r\n\r\nconst { Content } = Layout;\r\n\r\nconst reduceSegmentsTags = (packages: Segment[]) => {\r\n  return packages.reduce((acc: number, curr: Segment) => {\r\n    return acc + curr.tags?.length;\r\n  }, 0);\r\n};\r\n\r\nconst VideoFeed: React.FC<RouteComponentProps> = (props) => {\r\n  const { history } = props;\r\n  const [videos, setVideos] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetch = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response: any = await fetchVideoFeed();\r\n      setLoading(false);\r\n      setVideos(response.results);\r\n    } catch (error) {\r\n      message.error(\"Error to get feed\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const deleteItem = async (id: string) => {\r\n    setLoading(true);\r\n    await deleteVideoFeed(id);\r\n    fetch();\r\n  };\r\n\r\n  const onRebuildFeed = async () => {\r\n    await rebuildAllFeedd();\r\n    message.success(\"All feeds was rebuilt\");\r\n  };\r\n\r\n  const onRebuildFeedClick = () => {\r\n    Modal.error({\r\n      title: \"Caution!!\",\r\n      content:\r\n        \"This action can't be undone and will remove and then generate feed for all Disco Fans. Are you sure you want to proceed?\",\r\n      onOk: onRebuildFeed,\r\n      okText: \"Rebuild\",\r\n      okButtonProps: { danger: true },\r\n      closable: true,\r\n      onCancel: () => {},\r\n    });\r\n  };\r\n\r\n  const columns: ColumnsType<FeedItem> = [\r\n    {\r\n      title: \"_id\",\r\n      dataIndex: \"id\",\r\n      width: \"3%\",\r\n      render: (id) => <CopyIdToClipboard id={id} />,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      width: \"18%\",\r\n      render: (value: string, record: FeedItem) => (\r\n        <Link to={{ pathname: `/video-feed`, state: record }}>{value}</Link>\r\n      ),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Segments\",\r\n      dataIndex: \"package\",\r\n      render: (pack: Array<any> = []) => <AntTag>{pack.length}</AntTag>,\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Length\",\r\n      dataIndex: \"lengthTotal\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Expiration Date\",\r\n      dataIndex: \"validity\",\r\n      width: \"5%\",\r\n      render: (creationDate: Date) =>\r\n        new Date(creationDate).toLocaleDateString(),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Tags\",\r\n      dataIndex: \"package\",\r\n      width: \"5%\",\r\n      render: (pack: Array<any> = []) => (\r\n        <AntTag>{reduceSegmentsTags(pack)}</AntTag>\r\n      ),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record: FeedItem) => (\r\n        <>\r\n          <Link to={{ pathname: `/video-feed`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const [fetchedVideos, setFetchedVideos] = useState<any[]>([]);\r\n  const [page, setPage] = useState<number>(0);\r\n  const LIMIT = 20;\r\n\r\n  const fetchData = () => {\r\n    const setNewData = () => {\r\n      setFetchedVideos((prev) => [\r\n        ...prev.concat(videos.slice(page * LIMIT, page * LIMIT + LIMIT)),\r\n      ]);\r\n      setPage((prev) => prev + 1);\r\n    };\r\n    if (!videos.length) {\r\n      return;\r\n    }\r\n    if (!fetchedVideos.length) {\r\n      setNewData();\r\n      return;\r\n    }\r\n    setTimeout(setNewData, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [videos]);\r\n\r\n  return (\r\n    <div className=\"video-feed\">\r\n      <PageHeader\r\n        title=\"Video feed update\"\r\n        subTitle=\"List of Feeds\"\r\n        extra={[\r\n          <Button\r\n            disabled\r\n            onClick={onRebuildFeedClick}\r\n            danger\r\n            key=\"1\"\r\n            type=\"primary\"\r\n          >\r\n            Publish to Public\r\n          </Button>,\r\n          <Button key=\"2\" onClick={() => history.push(\"/video-feed\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Content>\r\n        <InfiniteScroll\r\n          dataLength={fetchedVideos.length}\r\n          next={fetchData}\r\n          hasMore={loading || fetchedVideos.length !== videos.length}\r\n          loader={\r\n            !loading && (\r\n              <div className=\"scroll-message\">\r\n                <Spin />\r\n              </div>\r\n            )\r\n          }\r\n          endMessage={\r\n            <div className=\"scroll-message\">\r\n              <b>End of results.</b>\r\n            </div>\r\n          }\r\n        >\r\n          <Table\r\n            size=\"small\"\r\n            columns={columns}\r\n            rowKey=\"id\"\r\n            dataSource={fetchedVideos}\r\n            loading={loading}\r\n            pagination={false}\r\n          />\r\n        </InfiniteScroll>\r\n      </Content>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withRouter(VideoFeed);\r\n","import { FormInstance } from \"antd\";\r\nimport { useEffect, useRef } from \"react\";\r\n\r\nexport const useResetFormOnCloseModal = ({\r\n  form,\r\n  visible,\r\n}: {\r\n  form: FormInstance;\r\n  visible: boolean;\r\n}) => {\r\n  const prevVisibleRef = useRef<boolean>();\r\n\r\n  useEffect(() => {\r\n    prevVisibleRef.current = visible;\r\n  }, [visible]);\r\n\r\n  const prevVisible = prevVisibleRef.current;\r\n\r\n  useEffect(() => {\r\n    if (!visible && prevVisible) {\r\n      form.resetFields();\r\n    }\r\n  }, [visible, form, prevVisible]);\r\n};\r\n","import { createContext } from \"react\";\r\nimport { FormInstance } from \"antd\";\r\n\r\nexport default createContext<FormInstance<any> | null>(null);\r\n","import { Form, Input, InputNumber } from \"antd\";\r\nimport { useContext, useEffect, useRef, useState } from \"react\";\r\nimport EditableContext from \"./EditableContext\";\r\n\r\ninterface EditableCellProps extends React.HTMLAttributes<HTMLElement> {\r\n  title: any;\r\n  editable: boolean;\r\n  children: React.ReactNode;\r\n  dataIndex: keyof TablePropsInterface;\r\n  record: TablePropsInterface;\r\n  number: boolean;\r\n  onSave: (record: TablePropsInterface) => void;\r\n}\r\n\r\ninterface TablePropsInterface {}\r\n\r\nconst EditableCell: React.FC<EditableCellProps> = ({\r\n  title,\r\n  editable,\r\n  children,\r\n  dataIndex,\r\n  record,\r\n  onSave,\r\n  number,\r\n  ...restProps\r\n}) => {\r\n  const [editing, setEditing] = useState(false);\r\n  let inputRef = useRef<Input>(null);\r\n  let inputNumberRef = useRef<HTMLInputElement>(null);\r\n  const form = useContext(EditableContext)!;\r\n\r\n  useEffect(() => {\r\n    if (editing) {\r\n      if (number) {\r\n        inputNumberRef.current!.focus();\r\n      } else {\r\n        inputRef.current!.focus();\r\n      }\r\n    }\r\n  }, [editing, number]);\r\n\r\n  const toggleEdit = () => {\r\n    setEditing(!editing);\r\n    form.setFieldsValue({ [dataIndex]: record[dataIndex] });\r\n  };\r\n\r\n  const save = async () => {\r\n    try {\r\n      const values = await form.validateFields();\r\n\r\n      toggleEdit();\r\n      onSave({ ...record, ...values });\r\n    } catch (errInfo) {\r\n      console.log(\"Save failed:\", errInfo);\r\n    }\r\n  };\r\n\r\n  let childNode = children;\r\n\r\n  if (editable) {\r\n    childNode = editing ? (\r\n      <Form.Item\r\n        style={{ margin: 0 }}\r\n        name={dataIndex}\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: `${title} is required.`,\r\n          },\r\n        ]}\r\n      >\r\n        {number ? (\r\n          <InputNumber ref={inputNumberRef} onPressEnter={save} onBlur={save} />\r\n        ) : (\r\n          <Input ref={inputRef} onPressEnter={save} onBlur={save} />\r\n        )}\r\n      </Form.Item>\r\n    ) : (\r\n      <div\r\n        className=\"editable-cell-value-wrap\"\r\n        // I believe this paddingRight only makes sense when the column is aligned at left.\r\n        // style={{ paddingRight: 24 }}\r\n        onClick={toggleEdit}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <td {...restProps}>{childNode}</td>;\r\n};\r\n\r\nexport default EditableCell;\r\n","import { Form } from \"antd\";\r\nimport EditableContext from \"./EditableContext\";\r\n\r\ninterface EditableRowProps {\r\n  index: number;\r\n}\r\n\r\nconst EditableRow: React.FC<EditableRowProps> = ({ index, ...props }) => {\r\n  const [form] = Form.useForm();\r\n\r\n  return (\r\n    <Form form={form} component={false}>\r\n      <EditableContext.Provider value={form}>\r\n        <tr {...props} />\r\n      </EditableContext.Provider>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default EditableRow;\r\n","import { FormInstance, message, Upload } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\ninterface ImageUploadProps {\r\n  fileList: any;\r\n  maxCount?: number;\r\n  form: FormInstance;\r\n  formProp: string | string[];\r\n  accept?: string;\r\n}\r\n\r\nconst ImageUpload: React.FC<ImageUploadProps> = ({\r\n  fileList,\r\n  maxCount = 1,\r\n  form,\r\n  formProp,\r\n  accept = \"image/png, image/jpeg\",\r\n}) => {\r\n  const [fileListLocal, setfileListLocal] = useState<any>([]);\r\n\r\n  useEffect(() => {\r\n    if (fileList) {\r\n      if (typeof fileList === \"string\") {\r\n        setfileListLocal([{ url: fileList }]);\r\n      }\r\n\r\n      if (typeof fileList === \"object\") {\r\n        if (fileList.length > 0) setfileListLocal(fileList);\r\n        else setfileListLocal([fileList]);\r\n      }\r\n    }\r\n  }, [fileList]);\r\n\r\n  const uploadButton = (\r\n    <div>\r\n      <PlusOutlined />\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n\r\n  function createObjectFromPropArray(\r\n    value: any,\r\n    keys: string[],\r\n    name: string = \"\"\r\n  ): any {\r\n    if (keys.length === 1)\r\n      return name ? { [name]: { [keys[0]]: {} } } : { [keys[0]]: value };\r\n    else {\r\n      let inner = createObjectFromPropArray(\r\n        value,\r\n        keys.slice(1),\r\n        keys.slice(0, 1)[0]\r\n      );\r\n      if (name) {\r\n        return { [name]: inner };\r\n      }\r\n      return inner;\r\n    }\r\n  }\r\n\r\n  const handleMaxOneImage = (info: any) => {\r\n    if (typeof formProp === \"string\") {\r\n      if (info.file.status === \"removed\") {\r\n        form.setFieldsValue({\r\n          [formProp]: {},\r\n        });\r\n      }\r\n      if (info.file.status === \"done\") {\r\n        const response = JSON.parse(info.file.xhr.response);\r\n        form.setFieldsValue({\r\n          [formProp]: {\r\n            url: response.result.replace(\";\", \"\"),\r\n            uid: info.file.uid,\r\n          },\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChangeImage = (info: any) => {\r\n    setfileListLocal(info.fileList);\r\n    if (maxCount === 1) {\r\n      handleMaxOneImage(info);\r\n    } else {\r\n      if (info.file.status === \"removed\") {\r\n        const image = form.getFieldValue(\"image\") || [];\r\n        if (typeof formProp === \"object\") {\r\n          form.setFieldsValue({\r\n            [formProp.slice(0, 1)[0]]: createObjectFromPropArray(\r\n              image.filter((video: any) => video.status !== \"removed\"),\r\n              formProp.slice(1)\r\n            ),\r\n          });\r\n        } else {\r\n          form.setFieldsValue({\r\n            [formProp]: image.filter(\r\n              (video: any) => video.status !== \"removed\"\r\n            ),\r\n          });\r\n        }\r\n      }\r\n      if (info.file.status === \"done\") {\r\n        const response = JSON.parse(info.file.xhr.response);\r\n        const imageValue = form.getFieldValue(\"image\") || [];\r\n        if (typeof formProp === \"object\") {\r\n          form.setFieldsValue({\r\n            [formProp.slice(0, 1)[0]]: createObjectFromPropArray(\r\n              [\r\n                ...imageValue,\r\n                { url: response.result.replace(\";\", \"\"), uid: info.file.uid },\r\n              ],\r\n              formProp.slice(1)\r\n            ),\r\n          });\r\n        } else {\r\n          form.setFieldsValue({\r\n            [formProp]: [\r\n              ...imageValue,\r\n              { url: response.result.replace(\";\", \"\"), uid: info.file.uid },\r\n            ],\r\n          });\r\n        }\r\n        message.success(`${info.file.name} file uploaded successfully`);\r\n      } else if (info.file.status === \"error\") {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onPreview = async (file: any) => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise((resolve) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow?.document.write(image.outerHTML);\r\n  };\r\n\r\n  const action = `${process.env.REACT_APP_HOST_ENDPOINT}/Wi/Upload`;\r\n\r\n  return (\r\n    <>\r\n      <Upload\r\n        action={action}\r\n        headers={{\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        }}\r\n        onChange={onChangeImage}\r\n        accept={accept}\r\n        listType=\"picture-card\"\r\n        fileList={fileListLocal}\r\n        maxCount={maxCount}\r\n        onPreview={onPreview}>\r\n        {fileListLocal.length >= maxCount ? null : uploadButton}\r\n      </Upload>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import { FormInstance } from \"antd\";\r\n// import { UploadChangeParam } from \"antd/lib/upload\";\r\n// import { UploadFile } from \"antd/lib/upload/interface\";\r\n// import { PlusOutlined } from \"@ant-design/icons\";\r\n// import { useEffect, useState } from \"react\";\r\nimport ImageUpload from \"./ImageUpload\";\r\n\r\ninterface VideoUploadProps {\r\n  fileList: any;\r\n  form: FormInstance;\r\n  formProp: string | string[];\r\n  maxCount?: number;\r\n  accept?: string;\r\n}\r\n\r\nconst VideoUpload: React.FC<VideoUploadProps> = (props) => {\r\n  const {\r\n    // fileList,\r\n    // form,\r\n    // formProp,\r\n    accept = \"video/*\",\r\n  } = props;\r\n  // const [fileListLocal, setfileListLocal] = useState<any>([]);\r\n\r\n  // useEffect(() => {\r\n  //   if (fileList) {\r\n  //     if (typeof fileList === \"string\") {\r\n  //       setfileListLocal([{ url: fileList }]);\r\n  //     }\r\n  //     if (typeof fileList === \"object\") {\r\n  //       setfileListLocal(fileList);\r\n  //     }\r\n  //   }\r\n  // }, [fileList]);\r\n  // const uploadButton = (\r\n  //   <div>\r\n  //     <PlusOutlined />\r\n  //     <div style={{ marginTop: 8 }}>Upload</div>\r\n  //   </div>\r\n  // );\r\n\r\n  // const onChangeVideo = (info: any) => {\r\n  //   setfileListLocal(info.fileList);\r\n  //   if (info.file.status === \"removed\") {\r\n  //     const image = form.getFieldValue(\"image\") || [];\r\n  //     form.setFieldsValue({\r\n  //       [formProp]: image.filter((video: any) => video.status !== \"removed\"),\r\n  //     });\r\n  //   }\r\n  //   if (info.file.status === \"done\") {\r\n  //     const response = JSON.parse(info.file.xhr.response);\r\n  //     const imageValue = form.getFieldValue(\"image\") || [];\r\n\r\n  //     form.setFieldsValue({\r\n  //       [formProp]: [\r\n  //         ...imageValue,\r\n  //         { url: response.result.replace(\";\", \"\"), uid: info.file.uid },\r\n  //       ],\r\n  //     });\r\n  //     message.success(`${info.file.name} file uploaded successfully`);\r\n  //   } else if (info.file.status === \"error\") {\r\n  //     message.error(`${info.file.name} file upload failed.`);\r\n  //   }\r\n  // };\r\n\r\n  // const action = `${process.env.REACT_APP_HOST_ENDPOINT}/Wi/Upload`;\r\n\r\n  return (\r\n    <ImageUpload {...props} accept={accept} />\r\n    // <Upload\r\n    //   action={action}\r\n    //   headers={{\r\n    //     Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    //   }}\r\n    //   onChange={onChangeVideo}\r\n    //   accept={accept}\r\n    //   listType=\"picture-card\"\r\n    //   fileList={fileListLocal}\r\n    //   maxCount={maxCount}>\r\n    //   {fileListLocal.length >= maxCount ? null : uploadButton}\r\n    // </Upload>\r\n  );\r\n};\r\n\r\nexport default VideoUpload;\r\n","import ImageUpload from \"./ImageUpload\";\r\nimport VideoUpload from \"./VideoUpload\";\r\n\r\nconst index = { ImageUpload, VideoUpload };\r\nexport default index;\r\n","import { MenuOutlined } from \"@ant-design/icons\";\r\nimport { Table } from \"antd\";\r\nimport { TableProps } from \"antd/lib/table\";\r\nimport arrayMove from \"array-move\";\r\nimport {\r\n  SortableContainer as sortableContainer,\r\n  SortableElement as sortableElement,\r\n  SortableHandle as sortableHandle,\r\n} from \"react-sortable-hoc\";\r\n\r\nconst DragHandle = sortableHandle(() => (\r\n  <MenuOutlined style={{ cursor: \"grab\", color: \"#999\" }} />\r\n));\r\n\r\nconst SortableItem = sortableElement((props: any) => <tr {...props} />);\r\nconst SortableContainer = sortableContainer((props: any) => (\r\n  <tbody {...props} />\r\n));\r\n\r\ntype SortableTableProps = TableProps<any> & { setDataSource: Function };\r\n\r\nconst SortableTable: React.FC<SortableTableProps> = (\r\n  props: SortableTableProps\r\n) => {\r\n  const { columns = [], setDataSource } = props;\r\n  const dataSource =\r\n    props.dataSource?.map((data, index) => {\r\n      data.index = index;\r\n      return data;\r\n    }) || [];\r\n\r\n  const sortableColumns = [\r\n    {\r\n      title: \"Sort\",\r\n      dataIndex: \"sort\",\r\n      width: \"5%\",\r\n      className: \"drag-visible\",\r\n      render: () => <DragHandle />,\r\n    },\r\n    ...columns,\r\n  ];\r\n\r\n  const onSortEnd = ({\r\n    oldIndex,\r\n    newIndex,\r\n  }: {\r\n    oldIndex: number;\r\n    newIndex: number;\r\n  }) => {\r\n    if (oldIndex !== newIndex) {\r\n      const newData = arrayMove([...dataSource], oldIndex, newIndex).filter(\r\n        (el) => !!el\r\n      );\r\n      setDataSource(newData);\r\n    }\r\n  };\r\n\r\n  const DraggableContainer = (_props: any) => (\r\n    <SortableContainer\r\n      useDragHandle\r\n      disableAutoscroll\r\n      helperClass=\"row-dragging\"\r\n      onSortEnd={onSortEnd}\r\n      {..._props}\r\n    />\r\n  );\r\n\r\n  const DraggableBodyRow = ({\r\n    className,\r\n    style,\r\n    ...restProps\r\n  }: {\r\n    className: any;\r\n    style: any;\r\n    \"data-row-key\": any;\r\n  }) => {\r\n    // function findIndex base on Table rowKey props and should always be a right array index\r\n    const index = dataSource.findIndex(\r\n      (x: any) => x.index === restProps[\"data-row-key\"]\r\n    );\r\n    return <SortableItem index={index} {...restProps} />;\r\n  };\r\n\r\n  return (\r\n    <Table\r\n      {...props}\r\n      rowKey=\"index\"\r\n      pagination={false}\r\n      dataSource={dataSource}\r\n      columns={sortableColumns}\r\n      components={{\r\n        body: {\r\n          wrapper: DraggableContainer,\r\n          row: DraggableBodyRow,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SortableTable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  Modal,\r\n  Popconfirm,\r\n  Row,\r\n  Select,\r\n  Table,\r\n} from \"antd\";\r\nimport { Position } from \"interfaces/Position\";\r\nimport { Tag } from \"interfaces/Tag\";\r\nimport { useResetFormOnCloseModal } from \"hooks/useResetFormCloseModal\";\r\nimport { EditableCell, EditableRow } from \"components\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { ColumnTypes } from \"components/editable-context\";\r\nimport { fetchTags } from \"services/DiscoClubService\";\r\n\r\ninterface ModalFormProps {\r\n  tag: Tag | undefined;\r\n  visible: boolean;\r\n  selectedPositions: Position[];\r\n  onCancel: () => void;\r\n  onDeletePosition: (index: number) => void;\r\n  onSavePosition: (row: Position, index: number) => void;\r\n  onAddPosition: () => void;\r\n}\r\n\r\nconst ModalTag: React.FC<ModalFormProps> = ({\r\n  tag,\r\n  visible,\r\n  selectedPositions,\r\n  onCancel,\r\n  onDeletePosition,\r\n  onSavePosition,\r\n  onAddPosition,\r\n}) => {\r\n  const [tags, setTags] = useState<Tag[]>([]);\r\n  const [selectedTag, setSelectedTag] = useState<Tag | undefined>();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    form.resetFields();\r\n  }, [tag, form]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function getTags() {\r\n      const response: any = await fetchTags();\r\n      if (mounted) {\r\n        setTags(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setLoading(true);\r\n    getTags();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useResetFormOnCloseModal({\r\n    form,\r\n    visible,\r\n  });\r\n\r\n  const onOk = () => {\r\n    form.setFieldsValue({ ...selectedTag });\r\n    form.submit();\r\n  };\r\n\r\n  const onChangeTag = (key: string) => {\r\n    setSelectedTag(tags.find((tag) => tag.id === key));\r\n  };\r\n\r\n  const components = {\r\n    body: {\r\n      row: EditableRow,\r\n      cell: EditableCell,\r\n    },\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Start time\",\r\n      dataIndex: \"startTime\",\r\n      editable: true,\r\n      number: true,\r\n    },\r\n    {\r\n      title: \"Opacity\",\r\n      dataIndex: \"opacity\",\r\n      editable: true,\r\n      number: true,\r\n    },\r\n    {\r\n      title: \"Position X\",\r\n      dataIndex: \"x\",\r\n      editable: true,\r\n      number: true,\r\n    },\r\n    {\r\n      title: \"Position Y\",\r\n      dataIndex: \"y\",\r\n      editable: true,\r\n      number: true,\r\n    },\r\n    {\r\n      title: \"Z Index\",\r\n      dataIndex: \"z\",\r\n      editable: true,\r\n      number: true,\r\n    },\r\n    {\r\n      title: \"actions\",\r\n      dataIndex: \"actions\",\r\n      render: (_: any, record: Position, index: number) =>\r\n        selectedPositions.length >= 1 ? (\r\n          <Popconfirm\r\n            title=\"Sure to delete?\"\r\n            onConfirm={() => onDeletePosition(index)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        ) : null,\r\n    },\r\n  ];\r\n\r\n  const configuredColumns = columns.map((col) => {\r\n    if (!col.editable) {\r\n      return col;\r\n    }\r\n    return {\r\n      ...col,\r\n      onCell: (record: Position, index: number) => ({\r\n        record,\r\n        editable: col.editable,\r\n        dataIndex: col.dataIndex,\r\n        title: col.title,\r\n        number: col.number,\r\n        onSave: (newPosition: Position) => onSavePosition(newPosition, index),\r\n      }),\r\n    };\r\n  });\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Tag\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={onCancel}\r\n      width={\"80%\"}\r\n      forceRender\r\n      okButtonProps={{ loading: loading }}\r\n    >\r\n      <Form form={form} name=\"tagForm\" initialValues={tag} layout=\"vertical\">\r\n        <Input.Group>\r\n          <Row gutter={8}>\r\n            <Col lg={8} xs={0}>\r\n              <Form.Item name=\"tagName\" label=\"Tag\">\r\n                <Select onChange={onChangeTag}>\r\n                  {tags.map((tag) => (\r\n                    <Select.Option key={tag.id} value={tag.id}>\r\n                      {tag.tagName}\r\n                    </Select.Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Input.Group>\r\n\r\n        <Button\r\n          type=\"primary\"\r\n          style={{ margin: \"8px 0\" }}\r\n          onClick={() => onAddPosition()}\r\n        >\r\n          Add Movements\r\n        </Button>\r\n        <Table\r\n          rowKey={(position: Position) =>\r\n            `posotion_${position.x}_${position.z}_${Math.random()}`\r\n          }\r\n          title={() => \"Tag Motion\"}\r\n          components={components}\r\n          rowClassName={() => \"editable-row\"}\r\n          bordered\r\n          dataSource={selectedPositions}\r\n          columns={configuredColumns as ColumnTypes}\r\n        />\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalTag;\r\n","import { Col, Form, Input, InputNumber, Modal, Row, Select } from \"antd\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchBrands } from \"services/DiscoClubService\";\r\nimport { useResetFormOnCloseModal } from \"hooks/useResetFormCloseModal\";\r\n\r\ninterface ModalFormProps {\r\n  brand: Brand | undefined;\r\n  visible: boolean;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst ModalBrand: React.FC<ModalFormProps> = ({ brand, visible, onCancel }) => {\r\n  const [form] = Form.useForm();\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [selectedBrand, setselectedBrand] = useState<Brand | undefined>();\r\n\r\n  useEffect(() => {\r\n    form.resetFields();\r\n  }, [brand, form]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function getBrands() {\r\n      const response: any = await fetchBrands();\r\n      if (mounted) {\r\n        setBrands(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setLoading(true);\r\n    getBrands();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  useResetFormOnCloseModal({\r\n    form,\r\n    visible,\r\n  });\r\n\r\n  const onOk = () => {\r\n    form.setFieldsValue({ ...selectedBrand });\r\n    form.submit();\r\n  };\r\n\r\n  const onChangeBrand = (key: string) => {\r\n    setselectedBrand(brands.find((brand) => brand.id === key));\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Brand\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      onCancel={onCancel}\r\n      width={\"80%\"}\r\n      okButtonProps={{ loading: loading }}\r\n      forceRender\r\n    >\r\n      <Form\r\n        form={form}\r\n        name=\"brandForm\"\r\n        initialValues={brand}\r\n        layout=\"vertical\"\r\n      >\r\n        <Input.Group>\r\n          <Row gutter={8}>\r\n            <Col lg={6} xs={0}>\r\n              <Form.Item name=\"brandName\" label=\"Brand\">\r\n                <Select onChange={onChangeBrand}>\r\n                  {brands.map((brand) => (\r\n                    <Select.Option key={brand.id} value={brand.id}>\r\n                      {brand.brandName}\r\n                    </Select.Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n\r\n            <Col lg={6} xs={24}>\r\n              <Form.Item name=\"startTime\" label=\"Start Time\">\r\n                <InputNumber style={{ width: \"100%\" }} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={6} xs={24}>\r\n              <Form.Item name=\"duration\" label=\"Duration\">\r\n                <InputNumber style={{ width: \"100%\" }} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={6} xs={24}>\r\n              <Form.Item\r\n                name=\"opacity\"\r\n                label=\"Opacity\"\r\n                // rules={[{ required: true }]}\r\n              >\r\n                <InputNumber style={{ width: \"100%\" }} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={8} xs={24}>\r\n              <Form.Item\r\n                name=\"x\"\r\n                label=\"Position X\"\r\n                // rules={[{ required: true }]}\r\n              >\r\n                <InputNumber style={{ width: \"100%\" }} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={8} xs={24}>\r\n              <Form.Item\r\n                name=\"y\"\r\n                label=\"Position Y\"\r\n                // rules={[{ required: true }]}\r\n              >\r\n                <InputNumber style={{ width: \"100%\" }} />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={8} xs={24}>\r\n              <Form.Item\r\n                name=\"z\"\r\n                label=\"Z Index\"\r\n                // rules={[{ required: true }]}\r\n              >\r\n                <InputNumber style={{ width: \"100%\" }} />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Input.Group>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalBrand;\r\n","import moment, { Moment } from \"moment\";\r\n\r\nexport const formatMoment = (date: string | Moment) => ({\r\n  value: typeof date === \"string\" ? moment(date) : date,\r\n});\r\n","import { MinusCircleOutlined } from \"@ant-design/icons\";\r\nimport { Segment } from \"interfaces/Segment\";\r\nimport { Tag } from \"interfaces/Tag\";\r\nimport { Button, Col, Form, InputNumber, Row, Select, Typography } from \"antd\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { Upload } from \"components\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { fetchBrands, fetchTags } from \"services/DiscoClubService\";\r\n\r\ninterface FormProps {\r\n  segment: Segment | undefined;\r\n  onCancel: () => void;\r\n  onEditTag: (tag: Tag, index: number) => void;\r\n  onEditBrand: (brand: Brand, index: number) => void;\r\n  onAddBrand: () => void;\r\n  onAddTag: () => void;\r\n  formFn: any;\r\n}\r\n\r\nconst SegmentForm: React.FC<FormProps> = ({ segment, onCancel, formFn }) => {\r\n  const [form] = Form.useForm();\r\n  formFn(form);\r\n  const [tags, setTags] = useState<Tag[]>([]);\r\n  const [filteredTags, setFilteredTags] = useState<Tag[][]>([]);\r\n  const [selectedFilterBrands, setSelectedFilterBrands] = useState<string[]>(\r\n    []\r\n  );\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    form.resetFields();\r\n    const selectedTags = form.getFieldValue(\"tags\");\r\n    setSelectedFilterBrands((prev) => {\r\n      selectedTags.forEach((tag: Tag, index: number) => {\r\n        prev[index] = tag.brand?.id || \"\";\r\n      });\r\n      return [...prev];\r\n    });\r\n    setFilteredTags((prev) => {\r\n      selectedTags.forEach((tag: Tag, index: number) => {\r\n        prev[index] = tags.filter((_tag) => _tag.brand?.id === tag.brand?.id);\r\n      });\r\n      return [...prev];\r\n    });\r\n  }, [segment, form, tags]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function getTags() {\r\n      const response: any = await fetchTags();\r\n      if (mounted) {\r\n        setTags(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    async function getBrands() {\r\n      const response: any = await fetchBrands();\r\n      if (mounted) {\r\n        setBrands(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setLoading(true);\r\n    getTags();\r\n    getBrands();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, []);\r\n\r\n  const onChangeTag = (key: string, fieldName: number, index: number) => {\r\n    const formTags = form.getFieldValue(\"tags\");\r\n    const selectedTag = tags.find((tag: Tag) => tag.id === key);\r\n    const changedTag = { ...formTags[fieldName], ...selectedTag };\r\n    formTags[fieldName] = changedTag;\r\n\r\n    setSelectedFilterBrands((prev) => {\r\n      prev[index] = selectedTag?.brand?.id || \"\";\r\n      return prev;\r\n    });\r\n    form.setFieldsValue({ tags: formTags });\r\n    form.setFields([{ name: \"tags\", touched: true }]);\r\n  };\r\n\r\n  const onChangeBrand = (key: string, fieldName: number) => {\r\n    const formBrands = form.getFieldValue(\"brands\");\r\n    const selectedBrand: any = brands.find((brand: Brand) => brand.id === key);\r\n\r\n    const changedBrand = { ...selectedBrand };\r\n    if (changedBrand.selectedLogo) {\r\n      changedBrand.selectedLogoUrl =\r\n        selectedBrand[changedBrand.selectedLogo].url;\r\n    }\r\n    formBrands[fieldName] = changedBrand;\r\n\r\n    form.setFieldsValue({ brands: formBrands });\r\n    form.setFields([{ name: \"brands\", touched: true }]);\r\n  };\r\n\r\n  const onChangeLogo = (key: string, fieldName: number) => {\r\n    const formBrands = form.getFieldValue(\"brands\");\r\n    const selectedBrand = formBrands[fieldName];\r\n\r\n    formBrands[fieldName].selectedLogoUrl = selectedBrand[key].url;\r\n    form.setFieldsValue({ brands: formBrands });\r\n    form.setFields([{ name: \"brands\", touched: true }]);\r\n  };\r\n\r\n  const handleBrandFilter = (value: any, index: number) => {\r\n    setFilteredTags((prev) => {\r\n      if (value) {\r\n        prev[index] = tags.filter((tag) => tag.brand?.id === value);\r\n      } else {\r\n        prev[index] = tags;\r\n      }\r\n      return [...prev];\r\n    });\r\n    setSelectedFilterBrands((prev) => {\r\n      prev[index] = value;\r\n      return [...prev];\r\n    });\r\n    if (value) {\r\n      const formTags = form.getFieldValue(\"tags\");\r\n      formTags[index].id = \"\";\r\n      form.setFieldsValue({ tags: formTags });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      form={form}\r\n      initialValues={segment}\r\n      name=\"segmentForm\"\r\n      layout=\"vertical\"\r\n    >\r\n      <Row gutter={8}>\r\n        <Col lg={4} xs={24}>\r\n          <Form.Item\r\n            name=\"sequence\"\r\n            label=\"Sequence\"\r\n            rules={[{ required: true }]}\r\n          >\r\n            <InputNumber />\r\n          </Form.Item>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={8}>\r\n        <Col lg={6} xs={24}>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item label=\"Video URL\">\r\n              <Upload.VideoUpload\r\n                fileList={segment?.video}\r\n                formProp=\"video\"\r\n                form={form}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item label=\"Thumbnail URL\">\r\n              <Upload.ImageUpload\r\n                form={form}\r\n                formProp=\"thumbnail\"\r\n                fileList={segment?.thumbnail}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Col>\r\n        <Col lg={18} xs={24}>\r\n          <Col lg={24} xs={24}>\r\n            <Typography.Title level={4}>Brands</Typography.Title>\r\n          </Col>\r\n          <Col lg={24} xs={24}>\r\n            <Form.List name=\"brands\">\r\n              {(fields, { add, remove }) => (\r\n                <div>\r\n                  <Row>\r\n                    <Col\r\n                      lg={4}\r\n                      xs={24}\r\n                      style={{ display: \"flex\", alignItems: \"center\" }}\r\n                    >\r\n                      <Button\r\n                        onClick={() =>\r\n                          add({\r\n                            position: [\r\n                              {\r\n                                startTime: 1,\r\n                                opacity: 1,\r\n                                duration: 2,\r\n                                x: 100,\r\n                                y: 100,\r\n                                z: 1,\r\n                              },\r\n                            ],\r\n                          })\r\n                        }\r\n                      >\r\n                        Add Brand\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                  {fields.map((field) => (\r\n                    <Row gutter={8} key={Math.random()}>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"id\"]}\r\n                          label=\"Brand\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <Select\r\n                            showSearch\r\n                            filterOption={(input, option) =>\r\n                              option?.children\r\n                                .toLowerCase()\r\n                                .indexOf(input.toLowerCase()) >= 0\r\n                            }\r\n                            onChange={(key: string) =>\r\n                              onChangeBrand(key, field.name)\r\n                            }\r\n                            loading={loading}\r\n                          >\r\n                            {brands.map((brand) => (\r\n                              <Select.Option key={brand.id} value={brand.id}>\r\n                                {brand.brandName}\r\n                              </Select.Option>\r\n                            ))}\r\n                          </Select>\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          shouldUpdate={(prevValues, curValues) =>\r\n                            prevValues.brands[field.name]?.id !==\r\n                            curValues.brands[field.name]?.id\r\n                          }\r\n                        >\r\n                          {({ getFieldValue }) => {\r\n                            const bra = getFieldValue(\"brands\")[field.name];\r\n                            return (\r\n                              <Form.Item\r\n                                name={[field.name, \"selectedLogo\"]}\r\n                                label=\"Brand logo\"\r\n                              >\r\n                                <Select\r\n                                  placeholder=\"Please select a logo\"\r\n                                  onChange={(key: string) =>\r\n                                    onChangeLogo(key, field.name)\r\n                                  }\r\n                                >\r\n                                  {bra.brandLogo?.url && (\r\n                                    <Select.Option value=\"brandLogo\">\r\n                                      Brand\r\n                                    </Select.Option>\r\n                                  )}\r\n\r\n                                  {bra.colourLogo?.url && (\r\n                                    <Select.Option value=\"colourLogo\">\r\n                                      Colour\r\n                                    </Select.Option>\r\n                                  )}\r\n                                  {bra.blackLogo?.url && (\r\n                                    <Select.Option value=\"blackLogo\">\r\n                                      Black\r\n                                    </Select.Option>\r\n                                  )}\r\n                                  {bra.whiteLogo?.url && (\r\n                                    <Select.Option value=\"whiteLogo\">\r\n                                      White\r\n                                    </Select.Option>\r\n                                  )}\r\n                                </Select>\r\n                              </Form.Item>\r\n                            );\r\n                          }}\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"startTime\"]}\r\n                          fieldKey={[field.fieldKey, \"startTime\"]}\r\n                          label=\"Start Time\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"opacity\"]}\r\n                          fieldKey={[field.fieldKey, \"opacity\"]}\r\n                          label=\"Opacity\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"duration\"]}\r\n                          fieldKey={[field.fieldKey, \"duration\"]}\r\n                          label=\"duration\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"x\"]}\r\n                          fieldKey={[field.fieldKey, \"x\"]}\r\n                          label=\"Position X\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"y\"]}\r\n                          fieldKey={[field.fieldKey, \"y\"]}\r\n                          label=\"position Y\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={4} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"z\"]}\r\n                          fieldKey={[field.fieldKey, \"z\"]}\r\n                          label=\"Z Index\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n\r\n                      <Col style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <MinusCircleOutlined\r\n                          onClick={() => remove(field.name)}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </Form.List>\r\n          </Col>\r\n          <Col lg={24} xs={24}>\r\n            <Typography.Title level={4}>Tags</Typography.Title>\r\n          </Col>\r\n          <Col lg={24} xs={24}>\r\n            <Form.List name=\"tags\">\r\n              {(fields, { add, remove }) => (\r\n                <div>\r\n                  <Button\r\n                    onClick={() =>\r\n                      add({\r\n                        position: [\r\n                          {\r\n                            startTime: 1,\r\n                            opacity: 1,\r\n                            duration: 2,\r\n                            x: 100,\r\n                            y: 100,\r\n                            z: 1,\r\n                          },\r\n                        ],\r\n                      })\r\n                    }\r\n                  >\r\n                    Add Tag\r\n                  </Button>\r\n                  {fields.map((field, index) => (\r\n                    <Row gutter={8} key={Math.random()}>\r\n                      <Col lg={12} xs={24}>\r\n                        <Form.Item label=\"Brand\">\r\n                          <Select\r\n                            showSearch\r\n                            allowClear\r\n                            filterOption={(input, option) =>\r\n                              option?.children\r\n                                .toLowerCase()\r\n                                .indexOf(input.toLowerCase()) >= 0\r\n                            }\r\n                            loading={loading}\r\n                            onChange={(v) => handleBrandFilter(v, index)}\r\n                            value={selectedFilterBrands[index]}\r\n                          >\r\n                            {brands.map((brand) => (\r\n                              <Select.Option key={brand.id} value={brand.id}>\r\n                                {brand.brandName}\r\n                              </Select.Option>\r\n                            ))}\r\n                          </Select>\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={12} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"id\"]}\r\n                          label=\"Tag\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <Select\r\n                            onChange={(key: string) =>\r\n                              onChangeTag(key, field.name, index)\r\n                            }\r\n                            loading={loading}\r\n                          >\r\n                            {(filteredTags[index]\r\n                              ? filteredTags[index]\r\n                              : tags\r\n                            ).map((tag) => (\r\n                              <Select.Option key={tag.id} value={tag.id}>\r\n                                {tag.tagName}\r\n                              </Select.Option>\r\n                            ))}\r\n                          </Select>\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={3} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"startTime\"]}\r\n                          fieldKey={[field.fieldKey, \"startTime\"]}\r\n                          label=\"Start Time\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={3} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"opacity\"]}\r\n                          fieldKey={[field.fieldKey, \"opacity\"]}\r\n                          label=\"Opacity\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={3} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"duration\"]}\r\n                          fieldKey={[field.fieldKey, \"duration\"]}\r\n                          label=\"duration\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={3} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"x\"]}\r\n                          fieldKey={[field.fieldKey, \"x\"]}\r\n                          label=\"Position X\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={3} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"y\"]}\r\n                          fieldKey={[field.fieldKey, \"y\"]}\r\n                          label=\"Position Y\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={3} xs={24}>\r\n                        <Form.Item\r\n                          name={[field.name, \"position\", 0, \"z\"]}\r\n                          fieldKey={[field.fieldKey, \"z\"]}\r\n                          label=\"Z Index\"\r\n                          rules={[{ required: true }]}\r\n                        >\r\n                          <InputNumber />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <MinusCircleOutlined\r\n                          onClick={() => remove(field.name)}\r\n                        />\r\n                      </Col>\r\n                    </Row>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </Form.List>\r\n          </Col>\r\n        </Col>\r\n      </Row>\r\n      <Row gutter={8}>\r\n        <Col>\r\n          <Button onClick={onCancel}>Cancel</Button>\r\n        </Col>\r\n        <Col>\r\n          <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n            Save Segment\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SegmentForm;\r\n","import { FormInstance } from \"antd/lib/form\";\r\nimport React, { useState } from \"react\";\r\nimport { EditorState, ContentState, convertToRaw } from \"draft-js\";\r\nimport htmlToDraft from \"html-to-draftjs\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\n\r\n/*\r\nThe package \"react-draft-wysiwyg\" is throwing this warning to console:\r\nWarning: Can't call setState on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the r component.\r\n\r\nIt seems this package is not compatible with react strictMode yet.\r\n*/\r\n\r\ninterface RichTextEditorProps {\r\n  formField: string;\r\n  form: FormInstance;\r\n}\r\n\r\nexport const RichTextEditor: React.FC<RichTextEditorProps> = ({\r\n  formField,\r\n  form,\r\n}) => {\r\n  const fieldValue = form.getFieldValue(formField);\r\n  const editorInitialValue = fieldValue\r\n    ? EditorState.createWithContent(\r\n        ContentState.createFromBlockArray(htmlToDraft(fieldValue).contentBlocks)\r\n      )\r\n    : EditorState.createEmpty();\r\n\r\n  const [editorState, setEditorState] =\r\n    useState<EditorState>(editorInitialValue);\r\n\r\n  const handleEditorChange = (newState: EditorState) => {\r\n    setEditorState(newState);\r\n    form.setFieldsValue({\r\n      [formField]: draftToHtml(convertToRaw(editorState.getCurrentContent())),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Editor\r\n      editorState={editorState}\r\n      toolbarClassName=\"toolbarClassName\"\r\n      wrapperClassName=\"wrapperClassName\"\r\n      editorClassName=\"editorClassName\"\r\n      onEditorStateChange={handleEditorChange}\r\n    />\r\n  );\r\n};\r\n","import { message } from \"antd\";\r\nimport React, { useState } from \"react\";\r\n\r\ntype action = () => Promise<any>;\r\n\r\nexport const useRequest = ({\r\n  setLoading = () => {},\r\n}: {\r\n  setLoading?: React.Dispatch<React.SetStateAction<boolean>>;\r\n} = {}) => {\r\n  const [_loading, _setLoading] = useState<boolean>(false);\r\n\r\n  const _setLoadingHandler = (v: boolean) => {\r\n    _setLoading(v);\r\n    setLoading(v);\r\n  };\r\n\r\n  const request: (\r\n    action: action,\r\n    successMsg?: string,\r\n    completeResponse?: boolean\r\n  ) => Promise<{ results: any[]; result: any }> = async (\r\n    action,\r\n    successMsg,\r\n    completeResponse\r\n  ) => {\r\n    _setLoadingHandler(true);\r\n    try {\r\n      const response = await action();\r\n      const { results = [], result } = response;\r\n      if (successMsg) message.success(successMsg);\r\n      _setLoadingHandler(false);\r\n      return completeResponse ? response : { results, result };\r\n    } catch (error) {\r\n      _setLoadingHandler(false);\r\n      if (completeResponse) return error;\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const doFetch = (action: action, completeResponse?: boolean) =>\r\n    request(action, undefined, completeResponse);\r\n  const doRequest = (\r\n    action: action,\r\n    successMsg: string = \"Register updated with success.\"\r\n  ) => request(action, successMsg);\r\n  const doAPITest = (action: action) => request(action, \"Test Passed.\", true);\r\n\r\n  return { doFetch, doRequest, doAPITest, loading: _loading };\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Tag } from \"interfaces/Tag\";\r\nimport { Position } from \"interfaces/Position\";\r\nimport { RouteComponentProps } from \"react-router-dom\";\r\nimport ModalTag from \"./ModalTag\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport ModalBrand from \"./ModalBrand\";\r\nimport {\r\n  fetchCategories,\r\n  fetchCreators,\r\n  fetchUsers,\r\n  lockFeedToUser,\r\n  saveVideoFeed,\r\n  unlockFeed,\r\n} from \"services/DiscoClubService\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  message,\r\n  Modal,\r\n  PageHeader,\r\n  Radio,\r\n  Row,\r\n  Select,\r\n  Slider,\r\n  Tabs,\r\n  Typography,\r\n} from \"antd\";\r\nimport { Segment } from \"interfaces/Segment\";\r\nimport { formatMoment } from \"helpers/formatMoment\";\r\nimport SegmentForm from \"./SegmentForm\";\r\nimport { FeedItem } from \"interfaces/FeedItem\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { User } from \"interfaces/User\";\r\nimport \"./VideoFeed.scss\";\r\nimport { Creator } from \"interfaces/Creator\";\r\nimport { Category } from \"interfaces/Category\";\r\nimport { RichTextEditor } from \"components/RichTextEditor\";\r\nimport \"./VideoFeedDetail.scss\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\n\r\nconst { Title } = Typography;\r\n\r\nconst VideoFeedDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n\r\n  const {\r\n    settings: { language = [] },\r\n  } = useSelector((state: any) => state.settings);\r\n\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [modalAddFeedToUser, setModalAddFeedToUser] = useState<boolean>(false);\r\n  const [modalRemoveFeedFromUser, setModalRemoveFeedFromUser] =\r\n    useState<boolean>(false);\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [selectedUser, setSelectedUser] = useState<string>(\"\");\r\n  const [selectedTag, setSelectedTag] = useState<Tag | undefined>();\r\n  const [selectedTagIndex, setSelectedTagIndex] = useState<number>(0);\r\n  const [tagModalVisible, setTagModalVisible] = useState<boolean>(false);\r\n  const [selectedPositions, setSelectedPositions] = useState<Array<Position>>(\r\n    []\r\n  );\r\n  const [influencers, setInfluencers] = useState<Creator[]>([]);\r\n  const [selectedBrand, setSelectedBrand] = useState<Brand | undefined>();\r\n  const [selectedBrandIndex, setSelectedBrandIndex] = useState<number>(-1);\r\n  const [brandModalVisible, setBrandModalVisible] = useState<boolean>(false);\r\n  const [selectedSegment, setSelectedSegment] = useState<Segment | undefined>();\r\n  const [selectedSegmentIndex, setSelectedSegmentIndex] = useState<number>(-1);\r\n  const [ageRange, setageRange] = useState<[number, number]>([12, 100]);\r\n  const [segForm, setSegForm] = useState<any>();\r\n\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  useEffect(() => {\r\n    async function getUsers() {\r\n      const response: any = await fetchUsers();\r\n\r\n      setUsers(response.results);\r\n    }\r\n    async function getInfluencers() {\r\n      const response: any = await fetchCreators();\r\n      setInfluencers(response.results);\r\n    }\r\n    async function getCategories() {\r\n      const response: any = await fetchCategories();\r\n      setCategories(response.results);\r\n    }\r\n    getUsers();\r\n    getInfluencers();\r\n    getCategories();\r\n  }, []);\r\n\r\n  const onAddBrand = () => {\r\n    setSelectedBrand(void 0);\r\n    setSelectedBrandIndex(-1);\r\n    setBrandModalVisible(true);\r\n  };\r\n\r\n  const onCancelBrandModal = () => {\r\n    setBrandModalVisible(false);\r\n  };\r\n\r\n  const onCancelSegmentForm = () => {\r\n    setSelectedSegment(void 0);\r\n  };\r\n\r\n  const onEditBrand = (brand: Brand, index: number) => {\r\n    setSelectedBrand(brand);\r\n    setSelectedBrandIndex(index);\r\n    setBrandModalVisible(true);\r\n  };\r\n\r\n  const onAddTag = () => {\r\n    setSelectedTag(void 0);\r\n    setSelectedTagIndex(-1);\r\n    setSelectedPositions([]);\r\n    setTagModalVisible(true);\r\n  };\r\n\r\n  const onEditSegment = (segment: Segment, index: number) => {\r\n    if (segForm?.isFieldsTouched()) {\r\n      console.log(segForm.getFieldsValue(true));\r\n      segForm.submit();\r\n    }\r\n    setTimeout(() => {\r\n      setSelectedSegment(segment);\r\n      setSelectedSegmentIndex(index);\r\n    }, 1);\r\n  };\r\n\r\n  const hideTagModal = () => {\r\n    setTagModalVisible(false);\r\n  };\r\n\r\n  const onFinish = async () => {\r\n    const item: FeedItem = form.getFieldsValue(true);\r\n    item.package = item.package?.map((pack) => ({\r\n      ...pack,\r\n      tags: pack.tags ? pack.tags : [],\r\n    }));\r\n    // item.validity = moment(item.validity).format(\"DD/MM/YYYY\");\r\n    await doRequest(() => saveVideoFeed(item));\r\n    history.push(\"/feed\");\r\n  };\r\n\r\n  const onEditTag = (tag: Tag, index: number) => {\r\n    setSelectedTag(tag);\r\n    setTagModalVisible(true);\r\n    setSelectedTagIndex(index);\r\n    setSelectedPositions(tag.position || []);\r\n  };\r\n\r\n  const onDeleteSegment = (evt: any, index: number) => {\r\n    evt.stopPropagation();\r\n    const dataSource = [...form.getFieldValue(\"package\")];\r\n    dataSource.splice(index, 1);\r\n    form.setFieldsValue({ package: [...dataSource] });\r\n\r\n    setSelectedSegment(undefined);\r\n    setSelectedSegmentIndex(-1);\r\n  };\r\n\r\n  const onDeletePosition = (index: number) => {\r\n    const dataSource = [...selectedPositions];\r\n    dataSource.splice(index, 1);\r\n    setSelectedPositions(dataSource);\r\n  };\r\n\r\n  const onSavePosition = (row: Position, index: number) => {\r\n    const newData = [...selectedPositions];\r\n    const item = newData[index];\r\n    newData.splice(index, 1, {\r\n      ...item,\r\n      ...row,\r\n    });\r\n    setSelectedPositions(newData);\r\n  };\r\n\r\n  const onAddPosition = () => {\r\n    setSelectedPositions([\r\n      ...selectedPositions,\r\n      {\r\n        key: `${Math.random()}`,\r\n        startTime: 0,\r\n        opacity: 0,\r\n        x: 0,\r\n        y: 0,\r\n        z: 0,\r\n      },\r\n    ]);\r\n  };\r\n\r\n  const onAddSegment = () => {\r\n    const packages = form.getFieldValue(\"package\");\r\n    setSelectedSegment({\r\n      sequence: packages ? packages.length + 1 : 1,\r\n      tags: [],\r\n    });\r\n    setSelectedSegmentIndex(-1);\r\n  };\r\n\r\n  const onAddFeedToUserClick = () => {\r\n    setModalAddFeedToUser(true);\r\n  };\r\n\r\n  const onRemoveFeedFromUserClick = () => {\r\n    setModalRemoveFeedFromUser(true);\r\n  };\r\n\r\n  const onUnlockFeedClick = async () => {\r\n    await doRequest(() => unlockFeed(selectedUser));\r\n    setSelectedUser(\"\");\r\n    setModalRemoveFeedFromUser(false);\r\n  };\r\n\r\n  const onModalAddFeedUserOkClick = async () => {\r\n    await doRequest(() => lockFeedToUser(initial.id, selectedUser));\r\n    setSelectedUser(\"\");\r\n    setModalAddFeedToUser(false);\r\n  };\r\n\r\n  const onModalAddFeedUserChange = (value: string) => {\r\n    setSelectedUser(value);\r\n  };\r\n\r\n  const setChildForm = (form: any) => {\r\n    setTimeout(() => {\r\n      setSegForm(form);\r\n    }, 1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initial?.ageMin && initial?.ageMax)\r\n      setageRange([initial?.ageMin, initial?.ageMax]);\r\n  }, [initial]);\r\n\r\n  const onChangeAge = (value: [number, number]) => {\r\n    form.setFieldsValue({\r\n      ageMin: value[0],\r\n      ageMax: value[1],\r\n    });\r\n\r\n    setageRange(value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video-feed-detail\">\r\n      <PageHeader\r\n        title=\"Video feed update\"\r\n        subTitle=\"Video\"\r\n        extra={[\r\n          <Button\r\n            onClick={onAddFeedToUserClick}\r\n            type=\"primary\"\r\n            danger\r\n            disabled={!initial?.id}\r\n            key=\"lock-button\"\r\n          >\r\n            Lock user feed\r\n          </Button>,\r\n          <Button\r\n            onClick={onRemoveFeedFromUserClick}\r\n            type=\"primary\"\r\n            disabled={!initial?.id}\r\n            key=\"unlock-button\"\r\n          >\r\n            Unlock user feed\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Form.Provider\r\n        onFormFinish={(name, { values, forms }) => {\r\n          if (name === \"tagForm\") {\r\n            const { segmentForm, tagForm } = forms;\r\n            const tags: any[] = segmentForm.getFieldValue(\"tags\") || [];\r\n\r\n            const newValue = tagForm.getFieldsValue(true);\r\n            if (selectedTagIndex > -1) {\r\n              tags[selectedTagIndex] = newValue;\r\n              tags[selectedTagIndex].position = selectedPositions;\r\n              segmentForm.setFieldsValue({ tags: [...tags] });\r\n            } else {\r\n              newValue.position = selectedPositions;\r\n              segmentForm.setFieldsValue({ tags: [...tags, newValue] });\r\n            }\r\n\r\n            setSelectedPositions([]);\r\n            setTagModalVisible(false);\r\n          }\r\n\r\n          if (name === \"brandForm\") {\r\n            const { segmentForm, brandForm } = forms;\r\n            const brands: any[] = segmentForm.getFieldValue(\"brands\") || [];\r\n            const newValue = brandForm.getFieldsValue(true);\r\n            if (selectedBrandIndex > -1) {\r\n              brands[selectedBrandIndex] = newValue;\r\n              segmentForm.setFieldsValue({ brands: [...brands] });\r\n            } else {\r\n              segmentForm.setFieldsValue({ brands: [...brands, newValue] });\r\n            }\r\n\r\n            setBrandModalVisible(false);\r\n          }\r\n\r\n          if (name === \"segmentForm\") {\r\n            const { feedForm, segmentForm } = forms;\r\n            const segments: any[] = feedForm.getFieldValue(\"package\") || [];\r\n            if (selectedSegmentIndex > -1) {\r\n              segments[selectedSegmentIndex] = segmentForm.getFieldsValue(true);\r\n              feedForm.setFieldsValue({ package: [...segments] });\r\n            } else {\r\n              feedForm.setFieldsValue({\r\n                package: [...segments, segmentForm.getFieldsValue(true)],\r\n              });\r\n            }\r\n\r\n            setSelectedSegment(undefined);\r\n            setSelectedSegmentIndex(-1);\r\n          }\r\n        }}\r\n      >\r\n        <>\r\n          <Form\r\n            form={form}\r\n            onFinish={onFinish}\r\n            name=\"feedForm\"\r\n            initialValues={initial}\r\n            onFinishFailed={({ errorFields }) => {\r\n              errorFields.forEach((errorField) => {\r\n                message.error(errorField.errors[0]);\r\n              });\r\n            }}\r\n            layout=\"vertical\"\r\n            className=\"video-feed\"\r\n          >\r\n            <Tabs defaultActiveKey=\"Video Details\">\r\n              <Tabs.TabPane tab=\"Video Details\" key=\"Video Details\">\r\n                <Row gutter={8}>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name=\"status\" label=\"Status\">\r\n                      <Radio.Group buttonStyle=\"solid\">\r\n                        <Radio.Button value=\"live\">Live</Radio.Button>\r\n                        <Radio.Button value=\"paused\">Paused</Radio.Button>\r\n                        <Radio.Button value=\"expired\">Expired</Radio.Button>\r\n                        <Radio.Button value=\"pending\">Pending</Radio.Button>\r\n                      </Radio.Group>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name=\"title\" label=\"Title\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item\r\n                      name=\"shortDescription\"\r\n                      label=\"Short description\"\r\n                    >\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name=\"category\" label=\"Category\">\r\n                      <Select placeholder=\"Please select a category\">\r\n                        {categories.map((category: any) => (\r\n                          <Select.Option\r\n                            key={category.name}\r\n                            value={category.name}\r\n                          >\r\n                            {category.name}\r\n                          </Select.Option>\r\n                        ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name={[\"creator\", \"id\"]} label=\"Creator\">\r\n                      <Select\r\n                        placeholder=\"Please select a creator\"\r\n                        onChange={(key: string) =>\r\n                          form.setFieldsValue({\r\n                            creator: influencers.find(\r\n                              (influencer) => influencer.id === key\r\n                            ),\r\n                          })\r\n                        }\r\n                      >\r\n                        {influencers.map((influencer: any) => (\r\n                          <Select.Option\r\n                            key={influencer.id}\r\n                            value={influencer.id}\r\n                          >\r\n                            {influencer.firstName}\r\n                          </Select.Option>\r\n                        ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane tab=\"Descriptors\" key=\"Descriptors\">\r\n                <Row gutter={8}>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name=\"description\" label=\"Long description\">\r\n                      <RichTextEditor formField=\"description\" form={form} />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name=\"creatorHtml\" label=\"Creator Descriptor\">\r\n                      <RichTextEditor formField=\"creatorHtml\" form={form} />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane tab=\"Settings\" key=\"Settings\">\r\n                <Row gutter={8}>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item name=\"lengthTotal\" label=\"Length\">\r\n                      <InputNumber />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item name=\"format\" label=\"Format\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item name=\"language\" label=\"Language\">\r\n                      <Select placeholder=\"Please select a language\">\r\n                        {language.map((lang: any) => (\r\n                          <Select.Option key={lang.value} value={lang.value}>\r\n                            {lang.name}\r\n                          </Select.Option>\r\n                        ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item\r\n                      name=\"videoType\"\r\n                      label=\"Video Type\"\r\n                      rules={[{ required: true }]}\r\n                    >\r\n                      <Select mode=\"multiple\">\r\n                        <Select.Option value=\"Feed\">Feed</Select.Option>\r\n                        <Select.Option value=\"Brand\">Brand</Select.Option>\r\n                        <Select.Option value=\"Review\">Review</Select.Option>\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n                <Row gutter={8}>\r\n                  <Col lg={24} xs={24}>\r\n                    <Typography.Title level={4}>Target</Typography.Title>\r\n                  </Col>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item label=\"Slider\">\r\n                      <Slider\r\n                        range\r\n                        marks={{ 12: \"12\", 100: \"100\" }}\r\n                        min={12}\r\n                        max={100}\r\n                        value={ageRange}\r\n                        onChange={onChangeAge}\r\n                      />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item name=\"gender\" label=\"Gender\">\r\n                      <Select mode=\"multiple\">\r\n                        <Select.Option value=\"Female\">Female</Select.Option>\r\n                        <Select.Option value=\"Male\">Male</Select.Option>\r\n                        <Select.Option value=\"Other\">Other</Select.Option>\r\n                        <Select.Option value=\"Prefer not to say\">\r\n                          Prefer not to say\r\n                        </Select.Option>\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Tabs.TabPane>\r\n              <Tabs.TabPane tab=\"Segments\" key=\"Segments\">\r\n                <Row gutter={8}>\r\n                  <Col lg={12} xs={24}>\r\n                    <Row gutter={8}>\r\n                      <Col lg={12} xs={24}>\r\n                        <Form.Item\r\n                          name=\"goLiveDate\"\r\n                          label=\"Go Live Date\"\r\n                          getValueProps={formatMoment}\r\n                        >\r\n                          <DatePicker format=\"DD/MM/YYYY\" />\r\n                        </Form.Item>\r\n                      </Col>\r\n                      <Col lg={12} xs={24}>\r\n                        <Form.Item\r\n                          name=\"validity\"\r\n                          label=\"Expiration Date\"\r\n                          getValueProps={formatMoment}\r\n                        >\r\n                          <DatePicker format=\"DD/MM/YYYY\" />\r\n                        </Form.Item>\r\n                      </Col>\r\n                    </Row>\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Button\r\n                  htmlType=\"button\"\r\n                  style={{ margin: \"8px 0\" }}\r\n                  onClick={onAddSegment}\r\n                >\r\n                  Add Segment\r\n                </Button>\r\n                <Title level={3}>Segments</Title>\r\n                <Form.Item\r\n                  shouldUpdate={(prevValues, curValues) =>\r\n                    prevValues.package !== curValues.package\r\n                  }\r\n                >\r\n                  {({ getFieldValue }) => {\r\n                    const segments: Segment[] = getFieldValue(\"package\") || [];\r\n                    return (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                        }}\r\n                      >\r\n                        {segments.map((segment, segmentIndex) => (\r\n                          <div\r\n                            key={segment.sequence}\r\n                            className={`segment-thumbnail ${\r\n                              (selectedSegmentIndex === segmentIndex &&\r\n                                \"selected\") ||\r\n                              \"\"\r\n                            }`}\r\n                            onClick={() => onEditSegment(segment, segmentIndex)}\r\n                          >\r\n                            {segment?.thumbnail?.url\r\n                              ? [\r\n                                  <img\r\n                                    alt={segment.thumbnail || \"Thumbnail\"}\r\n                                    src={segment.thumbnail?.url}\r\n                                    key={segment.thumbnail?.url}\r\n                                    style={{\r\n                                      height: \"auto\",\r\n                                      width: \"100%\",\r\n                                    }}\r\n                                  />,\r\n                                  <Button\r\n                                    icon={<DeleteOutlined />}\r\n                                    shape=\"circle\"\r\n                                    danger\r\n                                    type=\"primary\"\r\n                                    className=\"remove-button\"\r\n                                    key={`botao_${segment.thumbnail?.url}`}\r\n                                    onClick={(evt) =>\r\n                                      onDeleteSegment(evt, segmentIndex)\r\n                                    }\r\n                                  />,\r\n                                ]\r\n                              : [\r\n                                  <Button\r\n                                    icon={<DeleteOutlined />}\r\n                                    shape=\"circle\"\r\n                                    type=\"primary\"\r\n                                    danger\r\n                                    onClick={(evt) =>\r\n                                      onDeleteSegment(evt, segmentIndex)\r\n                                    }\r\n                                  />,\r\n                                  <div>No Thumbnail</div>,\r\n                                ]}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </Form.Item>\r\n              </Tabs.TabPane>\r\n            </Tabs>\r\n            <Row gutter={8} hidden={!!selectedSegment}>\r\n              <Col>\r\n                <Button type=\"default\" onClick={() => history.push(\"/feed\")}>\r\n                  Cancel\r\n                </Button>\r\n              </Col>\r\n              <Col>\r\n                <Button type=\"primary\" onClick={onFinish} loading={loading}>\r\n                  Save Changes\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </>\r\n\r\n        {selectedSegment && (\r\n          <SegmentForm\r\n            segment={selectedSegment}\r\n            onCancel={onCancelSegmentForm}\r\n            onEditTag={onEditTag}\r\n            onEditBrand={onEditBrand}\r\n            onAddBrand={onAddBrand}\r\n            onAddTag={onAddTag}\r\n            formFn={setChildForm}\r\n          />\r\n        )}\r\n        <ModalBrand\r\n          visible={brandModalVisible}\r\n          brand={selectedBrand}\r\n          onCancel={onCancelBrandModal}\r\n        />\r\n        <ModalTag\r\n          visible={tagModalVisible}\r\n          onCancel={hideTagModal}\r\n          tag={selectedTag}\r\n          selectedPositions={selectedPositions}\r\n          onDeletePosition={onDeletePosition}\r\n          onSavePosition={onSavePosition}\r\n          onAddPosition={onAddPosition}\r\n        />\r\n        <Modal\r\n          visible={modalAddFeedToUser}\r\n          onCancel={() => setModalAddFeedToUser(false)}\r\n          onOk={() => onModalAddFeedUserOkClick()}\r\n          okButtonProps={{ disabled: !selectedUser }}\r\n          title=\"Lock feed to User\"\r\n        >\r\n          <Select\r\n            onChange={onModalAddFeedUserChange}\r\n            placeholder=\"Please select user\"\r\n            style={{ width: \"100%\" }}\r\n          >\r\n            {users.map((user: any) => (\r\n              <Select.Option key={user.id} value={user.id}>\r\n                {`${user.name} - ${user.user}`}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        </Modal>\r\n        <Modal\r\n          visible={modalRemoveFeedFromUser}\r\n          onCancel={() => setModalRemoveFeedFromUser(false)}\r\n          onOk={() => onUnlockFeedClick()}\r\n          okButtonProps={{ disabled: !selectedUser }}\r\n          title=\"Unlock user feed\"\r\n        >\r\n          <Select\r\n            onChange={onModalAddFeedUserChange}\r\n            placeholder=\"Please select user\"\r\n            style={{ width: \"100%\" }}\r\n          >\r\n            {users.map((user: any) => (\r\n              <Select.Option key={user.id} value={user.id}>\r\n                {`${user.name} - ${user.user}`}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        </Modal>\r\n      </Form.Provider>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoFeedDetail;\r\n","export const __prod__ = process.env.REACT_APP_SERVER_ENV === \"production\";\r\nexport const __isDev__ = process.env.REACT_APP_SERVER_ENV === \"development\";\r\nexport const __isDemo__ = process.env.REACT_APP_SERVER_ENV === \"demo\";\r\n\r\nexport const discoBrandId = \"57111747-53ad-4449-a624-87f1c1545262_STR\";\r\n\r\nexport const categoriesArray = [\r\n  {\r\n    key: \"Super Category\",\r\n    field: \"superCategory\",\r\n    ep: \"ProductSuperCategories\",\r\n  },\r\n  { key: \"Category\", field: \"category\", ep: \"ProductCategories\" },\r\n  { key: \"Sub Category\", field: \"subCategory\", ep: \"ProductSubCategories\" },\r\n  {\r\n    key: \"Sub Sub Category\",\r\n    field: \"subSubCategory\",\r\n    ep: \"ProductSubSubCategories\",\r\n  },\r\n];\r\n","import { categoriesArray } from \"./constants\";\r\nexport const sleep = (ms: number) =>\r\n  new Promise((resolve) => {\r\n    setTimeout(() => {\r\n      resolve(true);\r\n    }, ms);\r\n  });\r\n\r\nexport const categoriesSettings = {\r\n  categoriesArray,\r\n  categoriesKeys: categoriesArray.map((item) => item.key),\r\n  categoriesFields: categoriesArray.map((item) => item.field),\r\n  categoriesEps: categoriesArray.map((item) => item.ep),\r\n};\r\n","import {\r\n  AllCategories,\r\n  ProductCategory,\r\n  SelectedCategories,\r\n  SelectedProductCategories,\r\n} from \"interfaces/Category\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { productCategoriesAPI } from \"services/DiscoClubService\";\r\nimport { categoriesSettings } from \"helpers/utils\";\r\nimport { useRequest } from \"./useRequest\";\r\n\r\nconst { categoriesKeys, categoriesFields, categoriesArray } =\r\n  categoriesSettings;\r\n\r\nconst allCategoriesFactory = (): AllCategories => ({\r\n  \"Super Category\": [],\r\n  Category: [],\r\n  \"Sub Category\": [],\r\n  \"Sub Sub Category\": [],\r\n});\r\n\r\nconst useAllCategories = ({\r\n  initialValues,\r\n  setLoading,\r\n  allCategories,\r\n}: {\r\n  initialValues?: SelectedCategories;\r\n  setLoading?: React.Dispatch<React.SetStateAction<boolean>>;\r\n  allCategories?: AllCategories;\r\n}): {\r\n  fetchAllCategories: () => Promise<void>;\r\n  allCategories: AllCategories;\r\n  filteredCategories: AllCategories;\r\n  filterCategory: typeof filterCategory;\r\n} => {\r\n  const [_allCategories, _setAllCategories] = useState<AllCategories>(\r\n    allCategoriesFactory()\r\n  );\r\n  const [filteredCategories, setFilteredCategories] = useState<AllCategories>(\r\n    allCategoriesFactory()\r\n  );\r\n  const { doFetch } = useRequest({ setLoading });\r\n  const [selectedCategories, setSelectedCategories] =\r\n    useState<SelectedCategories>(initialValues || {});\r\n\r\n  const filterByCheckingTree = (\r\n    selectedValue: string,\r\n    selectedKey: string,\r\n    newFilteredCategories: AllCategories\r\n  ) => {\r\n    const selectedIndex = categoriesKeys.indexOf(selectedKey);\r\n    const selectedField = categoriesFields[selectedIndex];\r\n    const nextKey = categoriesKeys[selectedIndex + 1] as keyof AllCategories;\r\n    if (nextKey) {\r\n      newFilteredCategories[nextKey] = _allCategories[nextKey].filter(\r\n        (category) => {\r\n          const categoryName = category[selectedField as keyof ProductCategory];\r\n          const isPresent = categoryName === selectedValue;\r\n          if (!isPresent) return false;\r\n          for (let i = selectedIndex; i > 0; i--) {\r\n            const fieldToInspect = categoriesFields[\r\n              i - 1\r\n            ] as keyof SelectedCategories;\r\n            const foundInTree =\r\n              selectedCategories[fieldToInspect] === category[fieldToInspect];\r\n            if (!foundInTree) return false;\r\n          }\r\n          return true;\r\n        }\r\n      );\r\n    }\r\n    setSelectedCategories((prev) => {\r\n      prev[selectedField as keyof SelectedCategories] = selectedValue;\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  const filterCategory = (\r\n    selectedValue: string,\r\n    key: string,\r\n    setFormField: (field: string) => void\r\n  ) => {\r\n    const newFilteredCategories = { ...filteredCategories };\r\n\r\n    const index = categoriesKeys.indexOf(key);\r\n\r\n    for (let i = index + 1; i < categoriesKeys.length; i++) {\r\n      const iteratorKey = categoriesKeys[i] as keyof AllCategories;\r\n      if (i === index + 1) {\r\n        filterByCheckingTree(\r\n          selectedValue,\r\n          categoriesKeys[index],\r\n          newFilteredCategories\r\n        );\r\n      } else {\r\n        newFilteredCategories[iteratorKey] = [];\r\n      }\r\n      setFormField(categoriesFields[i]);\r\n    }\r\n    setFilteredCategories(newFilteredCategories);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (allCategories) _setAllCategories(allCategories);\r\n  }, [allCategories]);\r\n\r\n  useEffect(() => {\r\n    if (initialValues && _allCategories[\"Super Category\"].length) {\r\n      const newFilteredCategories = allCategoriesFactory();\r\n      categoriesArray.forEach(({ key, field }) => {\r\n        const iteratorField = field as keyof SelectedProductCategories;\r\n        const selectedValue = initialValues[iteratorField];\r\n\r\n        if (selectedValue) {\r\n          filterByCheckingTree(selectedValue, key, newFilteredCategories);\r\n        }\r\n      });\r\n      setFilteredCategories({\r\n        ...newFilteredCategories,\r\n        \"Super Category\": _allCategories[\"Super Category\"],\r\n      });\r\n    } else {\r\n      setFilteredCategories((prev) => {\r\n        return {\r\n          ...prev,\r\n          \"Super Category\": _allCategories[\"Super Category\"],\r\n        };\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [_allCategories, setFilteredCategories]);\r\n\r\n  const fetchAllCategories = useCallback(async () => {\r\n    const responses = await Promise.all([\r\n      doFetch(productCategoriesAPI.superCategory.fetch),\r\n      doFetch(productCategoriesAPI.category.fetch),\r\n      doFetch(productCategoriesAPI.subCategory.fetch),\r\n      doFetch(productCategoriesAPI.subSubCategory.fetch),\r\n    ]);\r\n\r\n    _setAllCategories({\r\n      \"Super Category\": responses[0].results,\r\n      Category: responses[1].results,\r\n      \"Sub Category\": responses[2].results,\r\n      \"Sub Sub Category\": responses[3].results,\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return {\r\n    fetchAllCategories,\r\n    allCategories: _allCategories,\r\n    filteredCategories,\r\n    filterCategory,\r\n  };\r\n};\r\n\r\nexport default useAllCategories;\r\n","import { Form, Select } from \"antd\";\r\nimport { FormInstance } from \"antd/lib/form\";\r\nimport { categoriesSettings } from \"helpers/utils\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport {\r\n  AllCategories,\r\n  ProductCategory,\r\n  SelectedCategories,\r\n  SelectedProductCategories,\r\n} from \"interfaces/Category\";\r\n\r\nconst { categoriesArray } = categoriesSettings;\r\n\r\ninterface ProductCategoriesProps {\r\n  allCategories: AllCategories;\r\n  productCategoryIndex: number;\r\n  initialValues: SelectedProductCategories[];\r\n  handleCategoryChange: Function;\r\n}\r\n\r\nconst formatProductCategories: (\r\n  initialProductCategories: SelectedProductCategories\r\n) => SelectedCategories = (initialProductCategories) => {\r\n  const initialCategories: SelectedCategories = {\r\n    superCategory: \"\",\r\n  };\r\n  Object.keys(initialProductCategories).forEach((key) => {\r\n    const _key = key as keyof SelectedCategories;\r\n    if (initialProductCategories[_key]) {\r\n      initialCategories[_key] = initialProductCategories[_key]![_key];\r\n    } else {\r\n      delete initialCategories[_key];\r\n    }\r\n  });\r\n  return initialCategories;\r\n};\r\n\r\nconst ProductCategories: React.FC<ProductCategoriesProps> = ({\r\n  allCategories,\r\n  productCategoryIndex,\r\n  initialValues,\r\n  handleCategoryChange,\r\n}) => {\r\n  const { filteredCategories, filterCategory } = useAllCategories({\r\n    initialValues: formatProductCategories(initialValues[productCategoryIndex]),\r\n    allCategories,\r\n  });\r\n\r\n  const _handleCategoryChange = (value: string, key: string) => {\r\n    const selectedCategories = categoriesArray\r\n      .map(({ key, field }) => {\r\n        const selectedCategoryName = value;\r\n        return filteredCategories[key as keyof AllCategories].find(\r\n          (category) =>\r\n            category[field as keyof ProductCategory] === selectedCategoryName\r\n        );\r\n      })\r\n      .filter((v) => v);\r\n\r\n    handleCategoryChange(\r\n      selectedCategories,\r\n      productCategoryIndex,\r\n      (form: FormInstance) => {\r\n        filterCategory(value, key, (_field) => {\r\n          const formCategories = form.getFieldValue(\"categories\");\r\n          formCategories[productCategoryIndex][_field] = undefined;\r\n          form.setFieldsValue({ categories: formCategories });\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {categoriesArray.map(({ key, field }, _index) => (\r\n        <Form.Item\r\n          key={_index}\r\n          label={key}\r\n          name={[\"categories\", productCategoryIndex, field, \"id\"]}\r\n          rules={[{ required: _index < 2, message: `${key} is required` }]}\r\n        >\r\n          <Select\r\n            disabled={!filteredCategories[key as keyof AllCategories].length}\r\n            allowClear={_index >= 2}\r\n            placeholder=\"Please select a category\"\r\n            style={{ width: \"180px\" }}\r\n            onChange={(_, option: any) =>\r\n              _handleCategoryChange(option?.children as string, key)\r\n            }\r\n          >\r\n            {(\r\n              filteredCategories[\r\n                key as keyof AllCategories\r\n              ] as unknown as ProductCategory[]\r\n            ).map((category) => (\r\n              <Select.Option key={category.id} value={category.id}>\r\n                {category[field as keyof ProductCategory]}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCategories;\r\n","import { MinusOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport { Button, Col, FormInstance, Row } from \"antd\";\r\nimport { AllCategories, SelectedProductCategories } from \"interfaces/Category\";\r\nimport { useState } from \"react\";\r\nimport ProductCategories from \"./ProductCategories\";\r\n\r\ninterface ProductCategoriesTreesProps {\r\n  categories: SelectedProductCategories[] | undefined;\r\n  allCategories: AllCategories;\r\n  form: FormInstance;\r\n  handleCategoryChange: Function;\r\n}\r\n\r\nconst ProductCategoriesTrees: React.FC<ProductCategoriesTreesProps> = ({\r\n  categories,\r\n  allCategories,\r\n  form,\r\n  handleCategoryChange,\r\n}) => {\r\n  const [_categories, _setCategories] = useState<SelectedProductCategories[]>(\r\n    categories || [{}]\r\n  );\r\n\r\n  const addCategoryTree = () => {\r\n    _setCategories((prev) => [...prev, {}]);\r\n  };\r\n\r\n  const delCategoryTree = (index: number) => {\r\n    const formCategories = form.getFieldValue(\"categories\");\r\n    form.setFieldsValue({\r\n      categories: [\r\n        ...formCategories.slice(0, index),\r\n        ...formCategories.slice(index + 1),\r\n      ],\r\n    });\r\n    _setCategories((prev) => [\r\n      ...prev.slice(0, index),\r\n      ...prev.slice(index + 1),\r\n    ]);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Col lg={24} xs={12}>\r\n        {_categories.map((_: any, index: number) => (\r\n          <Row\r\n            key={index}\r\n            justify=\"space-between\"\r\n            style={{ maxWidth: \"1000px\" }}\r\n          >\r\n            <ProductCategories\r\n              productCategoryIndex={index}\r\n              initialValues={_categories}\r\n              allCategories={allCategories}\r\n              handleCategoryChange={handleCategoryChange}\r\n            />\r\n            {_categories.length > 1 ? (\r\n              <Button\r\n                onClick={() => delCategoryTree(index)}\r\n                type=\"link\"\r\n                style={{ padding: 0, marginTop: \"30px\" }}\r\n              >\r\n                Remove Category Tree\r\n                <MinusOutlined />\r\n              </Button>\r\n            ) : (\r\n              <div style={{ width: \"168px\" }}></div>\r\n            )}\r\n          </Row>\r\n        ))}\r\n        <Button\r\n          onClick={addCategoryTree}\r\n          type=\"link\"\r\n          style={{ padding: 0, marginTop: \"-6px\", marginBottom: \"16px\" }}\r\n        >\r\n          Add Category Tree\r\n          <PlusOutlined />\r\n        </Button>\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCategoriesTrees;\r\n","import {\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  message,\r\n  PageHeader,\r\n  Radio,\r\n  Row,\r\n  Select,\r\n  Slider,\r\n  Switch,\r\n  Table,\r\n  Tabs,\r\n  Typography,\r\n} from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { Upload } from \"components\";\r\nimport { RichTextEditor } from \"components/RichTextEditor\";\r\nimport { formatMoment } from \"helpers/formatMoment\";\r\nimport { categoriesSettings } from \"helpers/utils\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { AllCategories } from \"interfaces/Category\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport { Video } from \"interfaces/Video\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport {\r\n  fetchBrands,\r\n  saveProduct,\r\n  saveStagingProduct,\r\n} from \"services/DiscoClubService\";\r\nimport ProductCategoriesTrees from \"./ProductCategoriesTrees\";\r\nimport \"./Products.scss\";\r\n\r\nconst { categoriesKeys, categoriesFields } = categoriesSettings;\r\n\r\nconst videoColumns: ColumnsType<Video> = [\r\n  {\r\n    title: \"ID\",\r\n    dataIndex: \"videoFeedId\",\r\n    width: \"50%\",\r\n    align: \"center\",\r\n  },\r\n  {\r\n    title: \"Thumbnail URL\",\r\n    dataIndex: \"thumbnailUrl\",\r\n    width: \"50%\",\r\n  },\r\n];\r\n\r\ninterface RouteParams {\r\n  productMode: \"staging\" | \"commited\";\r\n}\r\n\r\nconst ProductDetails: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const { productMode } = useParams<RouteParams>();\r\n  const isStaging = productMode === \"staging\";\r\n  const saveProductFn = isStaging ? saveStagingProduct : saveProduct;\r\n  const productsListPathname = isStaging ? \"/staging-products\" : \"/products\";\r\n  const initial = location.state as unknown as Product | undefined;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [ageRange, setageRange] = useState<[number, number]>([12, 100]);\r\n  const [form] = Form.useForm();\r\n\r\n  const [maxDiscountAlert, setMaxDiscountAlert] = useState<boolean>(false);\r\n\r\n  const { fetchAllCategories, allCategories } = useAllCategories({\r\n    setLoading,\r\n  });\r\n\r\n  const {\r\n    settings: { currency = [] },\r\n  } = useSelector((state: any) => state.settings);\r\n\r\n  const setSearchTagsByCategory = useCallback(\r\n    (useInitialValue: boolean, selectedCategories: any[] = []) => {\r\n      const selectedCategoriesSearchTags = selectedCategories\r\n        .filter((v) => v && v.searchTags)\r\n        .map((v) => v.searchTags)\r\n        .reduce((prev, curr) => {\r\n          return prev?.concat(curr || []);\r\n        }, []);\r\n\r\n      let searchTags = form.getFieldValue(\"searchTags\") || [];\r\n      const finalValue = Array.from(\r\n        new Set([...searchTags, ...selectedCategoriesSearchTags])\r\n      );\r\n      if (useInitialValue && initial) {\r\n        searchTags = initial.searchTags || finalValue;\r\n      } else {\r\n        searchTags = finalValue;\r\n      }\r\n\r\n      form.setFieldsValue({\r\n        searchTags,\r\n      });\r\n    },\r\n    [form, initial]\r\n  );\r\n\r\n  const handleCategoryChange = (\r\n    selectedCategories: any,\r\n    productCategoryIndex: number,\r\n    filterCategory: Function\r\n  ) => {\r\n    filterCategory(form);\r\n    setSearchTagsByCategory(false, selectedCategories);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setSearchTagsByCategory(true);\r\n  }, [brands, setSearchTagsByCategory]);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const getBrands = async () => {\r\n      setLoading(true);\r\n      const response: any = await fetchBrands();\r\n      if (mounted) {\r\n        setLoading(false);\r\n        setBrands(response.results);\r\n      }\r\n    };\r\n\r\n    getBrands();\r\n    fetchAllCategories();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [fetchAllCategories]);\r\n\r\n  useEffect(() => {\r\n    if (initial?.ageMin && initial?.ageMax)\r\n      setageRange([initial?.ageMin, initial?.ageMax]);\r\n  }, [initial]);\r\n\r\n  const onChangeAge = (value: [number, number]) => {\r\n    form.setFieldsValue({\r\n      ageMin: value[0],\r\n      ageMax: value[1],\r\n    });\r\n\r\n    setageRange(value);\r\n  };\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const product = form.getFieldsValue(true);\r\n      product.brand = brands?.find((brand) => brand.id === product.brand?.id);\r\n\r\n      categoriesFields.forEach((field, index) => {\r\n        product.categories.forEach((productCategory: any) => {\r\n          productCategory[field] = allCategories[\r\n            categoriesKeys[index] as keyof AllCategories\r\n          ].find((category) => category.id === productCategory[field]?.id);\r\n        });\r\n      });\r\n\r\n      await saveProductFn(product);\r\n\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(productsListPathname);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"products-details\">\r\n      <PageHeader title=\"Product\" subTitle=\"Form\" />\r\n      <Form\r\n        form={form}\r\n        name=\"productForm\"\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n        onFinishFailed={({ errorFields }) => {\r\n          errorFields.forEach((errorField) => {\r\n            message.error(errorField.errors[0]);\r\n          });\r\n        }}\r\n        layout=\"vertical\"\r\n      >\r\n        <Tabs defaultActiveKey=\"Details\">\r\n          <Tabs.TabPane tab=\"Details\" key=\"Details\">\r\n            <Row gutter={8}>\r\n              <Col lg={12} xs={24}>\r\n                <Row gutter={8}>\r\n                  <Col lg={20} xs={24}>\r\n                    <Form.Item name=\"status\" label=\"Status\">\r\n                      <Radio.Group buttonStyle=\"solid\">\r\n                        <Radio.Button value=\"live\">Live</Radio.Button>\r\n                        <Radio.Button value=\"paused\">Paused</Radio.Button>\r\n                        <Radio.Button value=\"expired\">Expired</Radio.Button>\r\n                        <Radio.Button value=\"pending\">Pending</Radio.Button>\r\n                      </Radio.Group>\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={4} xs={24}>\r\n                    <Form.Item\r\n                      name=\"outOfStock\"\r\n                      label=\"Out of stock\"\r\n                      valuePropName=\"checked\"\r\n                    >\r\n                      <Switch />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item name=\"name\" label=\"Short description\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item label=\"Long description\">\r\n                      <RichTextEditor formField=\"description\" form={form} />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Col lg={12} xs={24}>\r\n                <Row gutter={8}>\r\n                  <Col lg={24} xs={24}>\r\n                    <Form.Item\r\n                      name={[\"brand\", \"id\"]}\r\n                      label=\"Brand\"\r\n                      rules={[{ required: true }]}\r\n                    >\r\n                      <Select>\r\n                        {brands.map((brand) => (\r\n                          <Select.Option key={brand.id} value={brand.id}>\r\n                            {brand.brandName}\r\n                          </Select.Option>\r\n                        ))}\r\n                      </Select>\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n              <Col lg={12} xs={24}>\r\n                <Row gutter={8}>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item\r\n                      name=\"goLiveDate\"\r\n                      label=\"Go Live Date\"\r\n                      getValueProps={formatMoment}\r\n                    >\r\n                      <DatePicker format=\"DD/MM/YYYY\" />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={12} xs={24}>\r\n                    <Form.Item\r\n                      name=\"validity\"\r\n                      label=\"Expiration Date\"\r\n                      getValueProps={formatMoment}\r\n                    >\r\n                      <DatePicker format=\"DD/MM/YYYY\" />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Tabs.TabPane>\r\n          <Tabs.TabPane tab=\"Categories\" key=\"Categories\">\r\n            <ProductCategoriesTrees\r\n              categories={initial?.categories}\r\n              allCategories={allCategories}\r\n              form={form}\r\n              handleCategoryChange={handleCategoryChange}\r\n            />\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                shouldUpdate={(prevValues, curValues) =>\r\n                  prevValues.category !== curValues.category\r\n                }\r\n              >\r\n                {({ getFieldValue }) => (\r\n                  <Form.Item name={\"searchTags\"} label=\"Search Tags\">\r\n                    <Select mode=\"tags\" className=\"product-search-tags\">\r\n                      {getFieldValue(\"searchTags\")?.map((searchTag: any) => (\r\n                        <Select.Option key={searchTag} value={searchTag}>\r\n                          {searchTag}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                )}\r\n              </Form.Item>\r\n            </Col>\r\n            <Row gutter={8}>\r\n              <Col lg={24} xs={24}>\r\n                <Typography.Title level={4}>Target</Typography.Title>\r\n              </Col>\r\n              <Col lg={12} xs={24}>\r\n                <Form.Item label=\"Age Range\">\r\n                  <Slider\r\n                    range\r\n                    marks={{ 12: \"12\", 100: \"100\" }}\r\n                    min={12}\r\n                    max={100}\r\n                    value={ageRange}\r\n                    onChange={onChangeAge}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={8}>\r\n              <Col lg={12} xs={24}>\r\n                <Form.Item\r\n                  name=\"gender\"\r\n                  label=\"Gender\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Select mode=\"multiple\">\r\n                    <Select.Option value=\"Female\">Female</Select.Option>\r\n                    <Select.Option value=\"Male\">Male</Select.Option>\r\n                    <Select.Option value=\"Other\">Other</Select.Option>\r\n                    <Select.Option value=\"Prefer not to say\">\r\n                      Prefer not to say\r\n                    </Select.Option>\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Tabs.TabPane>\r\n          <Tabs.TabPane tab=\"Checkout\" key=\"Checkout\">\r\n            <Row gutter={8}>\r\n              <Col lg={8} xs={24}>\r\n                <Form.Item name=\"currencyIsoCode\" label=\"Currency\">\r\n                  <Select placeholder=\"Please select a currency\">\r\n                    {currency.map((curr: any) => (\r\n                      <Select.Option key={curr.value} value={curr.value}>\r\n                        {curr.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={8} xs={24}>\r\n                <Form.Item\r\n                  name=\"originalPrice\"\r\n                  label=\"Price\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <InputNumber />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={8} xs={24}>\r\n                <Form.Item\r\n                  name=\"maxDiscoDollars\"\r\n                  label=\"Max Discount in DD\"\r\n                  dependencies={[\"originalPrice\"]}\r\n                  rules={[\r\n                    {\r\n                      required: true,\r\n                      message: \"Max Discount is required.\",\r\n                    },\r\n                    ({ getFieldValue }) => ({\r\n                      validator(_, maxDiscount) {\r\n                        // 3x the price\r\n                        const maxPossibleDiscount = Math.trunc(\r\n                          Number(getFieldValue(\"originalPrice\")) * 3\r\n                        );\r\n                        if (maxDiscount && maxDiscount > maxPossibleDiscount) {\r\n                          if (!maxDiscountAlert) {\r\n                            setTimeout(\r\n                              () =>\r\n                                alert(\r\n                                  `The largest amount of DD you can apply for this price is ${maxPossibleDiscount}.`\r\n                                ),\r\n                              100\r\n                            );\r\n                          }\r\n                          setMaxDiscountAlert(true);\r\n                          return Promise.reject(\r\n                            new Error(\"Max discount not allowed.\")\r\n                          );\r\n                        }\r\n                        setMaxDiscountAlert(false);\r\n                        return Promise.resolve();\r\n                      },\r\n                    }),\r\n                  ]}\r\n                >\r\n                  <InputNumber\r\n                    parser={(value) => (value || \"\").replace(/-/g, \"\")}\r\n                    precision={0}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row gutter={8}>\r\n              <Col lg={8} xs={24}>\r\n                <Form.Item\r\n                  name=\"displayDiscountPage\"\r\n                  label=\"Allow Use of D-Dollars?\"\r\n                  valuePropName=\"checked\"\r\n                >\r\n                  <Switch />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col lg={8} xs={24}>\r\n                <Form.Item name=\"weight\" label=\"Weight\">\r\n                  <Input type=\"number\" placeholder=\"Weight in Kg\" />\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Tabs.TabPane>\r\n          <Tabs.TabPane tab=\"Images\" key=\"Images\">\r\n            <Row gutter={8}>\r\n              <Col lg={24} xs={24}>\r\n                <Form.Item label=\"Tag Image\">\r\n                  <Upload.ImageUpload\r\n                    fileList={initial?.tagImage}\r\n                    formProp=\"tagImage\"\r\n                    form={form}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={24} xs={24}>\r\n                <Form.Item label=\"Thumbnail\">\r\n                  <Upload.ImageUpload\r\n                    fileList={initial?.thumbnailUrl}\r\n                    formProp=\"thumbnailUrl\"\r\n                    form={form}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={24} xs={24}>\r\n                <Form.Item label=\"Image\">\r\n                  <Upload.ImageUpload\r\n                    maxCount={20}\r\n                    fileList={initial?.image}\r\n                    formProp=\"image\"\r\n                    form={form}\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={24}>\r\n                <Typography.Title level={5}>Videos feed</Typography.Title>\r\n                <Form.Item\r\n                  shouldUpdate={(prevValues, curValues) =>\r\n                    prevValues.relatedVideoFeed !== curValues.relatedVideoFeed\r\n                  }\r\n                >\r\n                  {({ getFieldValue }) => {\r\n                    const relatedVideoFeed: Video[] =\r\n                      getFieldValue(\"relatedVideoFeed\") || [];\r\n                    return (\r\n                      <Table\r\n                        columns={videoColumns}\r\n                        dataSource={relatedVideoFeed}\r\n                        bordered\r\n                        rowKey={(record) => `video_${record.videoFeedId}`}\r\n                      />\r\n                    );\r\n                  }}\r\n                </Form.Item>\r\n              </Col>\r\n            </Row>\r\n          </Tabs.TabPane>\r\n        </Tabs>\r\n\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button\r\n              type=\"default\"\r\n              onClick={() => history.push(productsListPathname)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button\r\n              disabled={initial?.brand.automated === true && !isStaging}\r\n              type=\"primary\"\r\n              onClick={onFinish}\r\n              loading={loading}\r\n            >\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductDetails;\r\n","import { useState, useEffect } from \"react\";\r\n\r\ntype FilterFn<T> = (arrayList: T[]) => T[];\r\n\r\ninterface FilterFnObject<T> {\r\n  [key: string]: FilterFn<T>;\r\n}\r\n\r\nconst useFilter = <T>(initialArrayListValue: T[]) => {\r\n  const [arrayList, setArrayList] = useState<T[]>(initialArrayListValue);\r\n  const [filteredArrayList, setFilteredArrayList] = useState<T[]>([]);\r\n  const [filterFunctions, setFilterFunctions] = useState<FilterFnObject<T>>({});\r\n\r\n  const addFilterFunction = (key: string, fn: FilterFn<T>) => {\r\n    setFilterFunctions((prev) => {\r\n      prev[key] = fn;\r\n      return { ...prev };\r\n    });\r\n  };\r\n\r\n  const removeFilterFunction = (key: string) => {\r\n    setFilterFunctions((prev) => {\r\n      delete prev[key];\r\n      return { ...prev };\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    let _filteredArrayList = [...arrayList];\r\n    for (const key in filterFunctions) {\r\n      if (Object.prototype.hasOwnProperty.call(filterFunctions, key)) {\r\n        const filterFn = filterFunctions[key];\r\n        _filteredArrayList = [...filterFn(_filteredArrayList)];\r\n      }\r\n    }\r\n    setFilteredArrayList(_filteredArrayList);\r\n  }, [filterFunctions, arrayList]);\r\n\r\n  return {\r\n    arrayList,\r\n    setArrayList,\r\n    filteredArrayList,\r\n    addFilterFunction,\r\n    removeFilterFunction,\r\n  };\r\n};\r\n\r\nexport default useFilter;\r\n","import { Typography, Input } from \"antd\";\r\nimport { SearchOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\n\r\ninterface SearchFilterProps {\r\n  filterFunction: (filterText: string) => void;\r\n  label?: string;\r\n}\r\n\r\nexport const SearchFilter: React.FC<SearchFilterProps> = ({\r\n  filterFunction,\r\n  label = \"Search\",\r\n}) => {\r\n  const onChangeFilter = (evt: React.ChangeEvent<HTMLInputElement>) => {\r\n    filterFunction(evt.target.value);\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"16px\" }}>\r\n      <Typography.Title level={5} title={label}>\r\n        {label}\r\n      </Typography.Title>\r\n      <Input onChange={onChangeFilter} suffix={<SearchOutlined />} />\r\n    </div>\r\n  );\r\n};\r\n","import { Button, Col, PageHeader, Popconfirm, Row, Table, Tag } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { Creator } from \"interfaces/Creator\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  deleteCreator,\r\n  fetchCreators,\r\n  saveCreator,\r\n} from \"services/DiscoClubService\";\r\nimport {\r\n  EditOutlined,\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  DeleteOutlined,\r\n} from \"@ant-design/icons\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport CopyIdToClipboard from \"components/CopyIdToClipboard\";\r\n\r\nconst tagColorByStatus: any = {\r\n  approved: \"green\",\r\n  rejected: \"red\",\r\n  pending: \"\",\r\n};\r\n\r\nconst Creators: React.FC<RouteComponentProps> = (props) => {\r\n  const { history } = props;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const {\r\n    setArrayList: setCreators,\r\n    filteredArrayList: filteredCreators,\r\n    addFilterFunction,\r\n  } = useFilter<Creator>([]);\r\n\r\n  const columns: ColumnsType<Creator> = [\r\n    {\r\n      title: \"_id\",\r\n      dataIndex: \"id\",\r\n      width: \"3%\",\r\n      render: (id) => <CopyIdToClipboard id={id} />,\r\n      align: \"center\",\r\n    },\r\n    { title: \"Name\", dataIndex: \"firstName\", width: \"15%\" },\r\n    { title: \"Last Name\", dataIndex: \"lastName\", width: \"15%\" },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      width: \"15%\",\r\n      render: (value = \"pending\") => (\r\n        <Tag color={tagColorByStatus[value]}>{value}</Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (value, record) => (\r\n        <>\r\n          {!record.status && [\r\n            <CheckOutlined\r\n              key=\"approve\"\r\n              style={{ color: \"green\" }}\r\n              onClick={() => aproveOrReject(true, record)}\r\n            />,\r\n            <CloseOutlined\r\n              key=\"reject\"\r\n              style={{ color: \"red\", margin: \"6px\" }}\r\n              onClick={() => aproveOrReject(false, record)}\r\n            />,\r\n          ]}\r\n          <Link to={{ pathname: `/creator`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const aproveOrReject = async (aprove: boolean, creator: Creator) => {\r\n    setLoading(true);\r\n    creator.status = aprove ? \"approved\" : \"rejected\";\r\n\r\n    await saveCreator(creator);\r\n    fetch();\r\n  };\r\n\r\n  const deleteItem = async (id: string) => {\r\n    try {\r\n      setLoading(true);\r\n      await deleteCreator(id);\r\n      await fetch();\r\n    } catch (err) {\r\n      console.log(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  const fetch = async () => {\r\n    setLoading(true);\r\n    const response: any = await fetchCreators();\r\n    setLoading(false);\r\n    setCreators(response.results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"creatorFirstName\", (creators) =>\r\n      creators.filter((creator) =>\r\n        (creator.firstName || \"\")\r\n          .toUpperCase()\r\n          .includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"creators\">\r\n      <PageHeader\r\n        title=\"Creators\"\r\n        subTitle=\"List of Creators\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/creator\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by First Name\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredCreators}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Creators;\r\n","import {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Select,\r\n  Slider,\r\n  Typography,\r\n} from \"antd\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveCreator } from \"services/DiscoClubService\";\r\nimport {\r\n  InstagramFilled,\r\n  FacebookFilled,\r\n  YoutubeFilled,\r\n  TwitterCircleFilled,\r\n  GlobalOutlined,\r\n  SoundFilled,\r\n} from \"@ant-design/icons\";\r\nimport { Upload } from \"components\";\r\n\r\nconst CreatorDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState(false);\r\n  const [ageRange, setageRange] = useState<[number, number]>([12, 100]);\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const creator = form.getFieldsValue(true);\r\n      await saveCreator(creator);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/creators\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (initial?.ageMin && initial?.ageMax)\r\n      setageRange([initial?.ageMin, initial?.ageMax]);\r\n  }, [initial]);\r\n\r\n  const onChangeAge = (value: [number, number]) => {\r\n    form.setFieldsValue({\r\n      ageMin: value[0],\r\n      ageMax: value[1],\r\n    });\r\n\r\n    setageRange(value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Creator Update\" subTitle=\"Creator\" />\r\n      <Form\r\n        form={form}\r\n        layout=\"vertical\"\r\n        onFinish={onFinish}\r\n        initialValues={initial}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"First Name\" name=\"firstName\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Last name\" name=\"lastName\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item\r\n              label=\"Email\"\r\n              name=\"user\"\r\n              rules={[{ type: \"email\", message: \"please use an valid email\" }]}\r\n            >\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Password\" name=\"pwd\">\r\n              <Input.Password autoComplete=\"off\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Phone\" name=\"phone\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Username\" name=\"userName\">\r\n              <Input prefix=\"@\" autoComplete=\"off\" />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item label=\"Describe your content focus\" name=\"contentFocus\">\r\n              <Input.TextArea rows={4} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item\r\n              label=\"Top Brand collaborations you have completed\"\r\n              name=\"topBrands\"\r\n            >\r\n              <Input.TextArea rows={4} />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col lg={24} xs={24}>\r\n            <Typography.Title level={4}>Target</Typography.Title>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Slider\">\r\n              <Slider\r\n                range\r\n                marks={{ 12: \"12\", 100: \"100\" }}\r\n                min={12}\r\n                max={100}\r\n                value={ageRange}\r\n                onChange={onChangeAge}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item name=\"gender\" label=\"Gender\">\r\n              <Select mode=\"multiple\">\r\n                <Select.Option value=\"Female\">Female</Select.Option>\r\n                <Select.Option value=\"Male\">Male</Select.Option>\r\n                <Select.Option value=\"Other\">Other</Select.Option>\r\n                <Select.Option value=\"Prefer not to say\">\r\n                  Prefer not to say\r\n                </Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item label=\"Image\">\r\n              <Upload.ImageUpload\r\n                fileList={initial?.image}\r\n                formProp=\"image\"\r\n                form={form}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col lg={24} xs={24}>\r\n            <Typography.Title level={4}>Social Channels</Typography.Title>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col lg={8} xs={24} md={24}>\r\n            <Form.Item name=\"instagram\" label=\"Instagram\">\r\n              <Input prefix={<InstagramFilled />} />\r\n            </Form.Item>\r\n            <Form.Item name=\"facebook\" label=\"Facebook\">\r\n              <Input prefix={<FacebookFilled />} />\r\n            </Form.Item>\r\n            <Form.Item name=\"tiktok\" label=\"TikTok\">\r\n              <Input prefix={<SoundFilled />} />\r\n            </Form.Item>\r\n            <Form.Item name=\"youtube\" label=\"Youtube\">\r\n              <Input prefix={<YoutubeFilled />} />\r\n            </Form.Item>\r\n            <Form.Item name=\"website\" label=\"Website\">\r\n              <Input prefix={<GlobalOutlined />} />\r\n            </Form.Item>\r\n            <Form.Item name=\"twitter\" label=\"Twitter\">\r\n              <Input prefix={<TwitterCircleFilled />} />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/creators\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreatorDetail;\r\n","import { Table } from \"antd\";\r\nimport { ColumnType, TableProps } from \"antd/lib/table\";\r\nimport { EditableCell, EditableRow } from \".\";\r\n\r\nexport type EditableColumnType<T> = ColumnType<T> & {\r\n  editable?: boolean;\r\n  number?: boolean;\r\n};\r\n\r\nexport type ColumnTypesEscapeColumns = Exclude<\r\n  Parameters<typeof Table>[0][\"columns\"],\r\n  undefined\r\n>;\r\n\r\ntype EditableTableProps<T> = Omit<TableProps<any>, \"columns\"> & {\r\n  columns: EditableColumnType<T>[];\r\n  onSave: Function;\r\n};\r\nconst EditableTable: React.FC<EditableTableProps<any>> = (\r\n  props: EditableTableProps<any>\r\n) => {\r\n  const { columns = [], onSave } = props;\r\n\r\n  const configuredColumns = columns.map((col) => {\r\n    if (!col.editable) {\r\n      return col;\r\n    }\r\n    return {\r\n      ...col,\r\n      onCell: (record: any) => ({\r\n        record,\r\n        editable: col.editable,\r\n        number: col.number,\r\n        dataIndex: col.dataIndex,\r\n        title: col.title,\r\n        onSave: onSave,\r\n      }),\r\n    };\r\n  });\r\n\r\n  return (\r\n    <Table\r\n      {...props}\r\n      columns={configuredColumns as ColumnTypesEscapeColumns}\r\n      components={{\r\n        body: {\r\n          row: EditableRow,\r\n          cell: EditableCell,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditableTable;\r\n","import { Button } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nexport interface EditMultipleModalProps<T> {\r\n  selectedItems: T[];\r\n  visible: boolean;\r\n  onCancel: () => void;\r\n  onOk: Function;\r\n}\r\n\r\ninterface EditProductsButtonProps {\r\n  text?: string;\r\n  arrayList: any[];\r\n  selectedRowKeys: any[];\r\n  onOk: Function;\r\n  ModalComponent: React.FC<EditMultipleModalProps<any>>;\r\n}\r\n\r\nconst EditMultipleButton: React.FC<EditProductsButtonProps> = ({\r\n  text = \"Edit\",\r\n  arrayList,\r\n  selectedRowKeys,\r\n  onOk,\r\n  ModalComponent,\r\n}) => {\r\n  const [showEditProductModal, setShowEditProductModal] =\r\n    useState<boolean>(false);\r\n  const [selectedItems, setSelectedItems] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    setSelectedItems(\r\n      arrayList.filter((item) => selectedRowKeys.includes(item.id))\r\n    );\r\n  }, [arrayList, selectedRowKeys]);\r\n\r\n  const _onOk = () => {\r\n    setShowEditProductModal(false);\r\n    onOk();\r\n  };\r\n\r\n  const onCancel = () => {\r\n    setShowEditProductModal(false);\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"16px\" }}>\r\n      <Button\r\n        type=\"primary\"\r\n        onClick={() => setShowEditProductModal(true)}\r\n        disabled={selectedItems.length === 0}\r\n      >\r\n        {text}\r\n      </Button>\r\n      <ModalComponent\r\n        selectedItems={selectedItems}\r\n        visible={showEditProductModal}\r\n        onCancel={onCancel}\r\n        onOk={_onOk}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditMultipleButton;\r\n","import { SearchOutlined } from \"@ant-design/icons\";\r\nimport { Input, Typography } from \"antd\";\r\nimport { debounce } from \"lodash\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\n\r\ninterface SearchFilterDebounceProps {\r\n  filterFunction: (filterText: string) => void;\r\n  label?: string;\r\n}\r\n\r\nexport const SearchFilterDebounce: React.FC<SearchFilterDebounceProps> = ({\r\n  filterFunction,\r\n  label = \"Search\",\r\n}) => {\r\n  const [text, setText] = useState<string>(\"\");\r\n\r\n  const debounced = useRef(\r\n    debounce((newText) => filterFunction(newText), 1000)\r\n  );\r\n\r\n  useEffect(() => debounced.current(text), [text]);\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"16px\" }}>\r\n      <Typography.Title level={5} title={label}>\r\n        {label}\r\n      </Typography.Title>\r\n      <Input\r\n        onChange={(evt) => {\r\n          setText(evt.target.value);\r\n        }}\r\n        suffix={<SearchOutlined />}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import Select from \"antd/lib/select\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchBrands } from \"../services/DiscoClubService\";\r\nimport { Brand } from \"../interfaces/Brand\";\r\nimport { Typography } from \"antd\";\r\n\r\ntype SelectBrandProps = Omit<\r\n  React.SelectHTMLAttributes<HTMLSelectElement>,\r\n  \"onChange\"\r\n> & {\r\n  onChange: (selectedBrand: Brand) => {};\r\n  allowClear: boolean;\r\n  label?: string;\r\n};\r\n\r\nexport const SelectBrand: React.FC<SelectBrandProps> = ({\r\n  onChange,\r\n  placeholder = \"Select a brand\",\r\n  style,\r\n  allowClear,\r\n  label = \"Brand Filter\",\r\n}) => {\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [selectedBrand, setSelectedBrand] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const getBrands = async () => {\r\n      try {\r\n        const { results }: any = await fetchBrands();\r\n        setBrands(results);\r\n      } catch (e) {}\r\n    };\r\n    getBrands();\r\n  }, []);\r\n\r\n  const _onChange = (value: string) => {\r\n    setSelectedBrand(value);\r\n    onChange(brands.find((brand) => brand.brandName === value) as Brand);\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"16px\" }}>\r\n      <Typography.Title level={5} title={label}>\r\n        {label}\r\n      </Typography.Title>\r\n      <Select\r\n        value={selectedBrand}\r\n        onChange={_onChange}\r\n        showSearch\r\n        allowClear={allowClear}\r\n        style={style}\r\n        placeholder={placeholder}\r\n      >\r\n        {brands.map(({ brandName, brandId }) => (\r\n          <Select.Option key={brandName} value={brandId}>\r\n            {brandName}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n","import { Col, Form, Input, InputNumber, Modal, Row } from \"antd\";\r\nimport { useResetFormOnCloseModal } from \"hooks/useResetFormCloseModal\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { updateManyProducts } from \"services/DiscoClubService\";\r\nimport { EditMultipleModalProps } from \"components/EditMultipleButton\";\r\n\r\ninterface formValues {\r\n  maxDiscoDollars: number;\r\n}\r\n\r\nconst EditProductModal: React.FC<EditMultipleModalProps<Product>> = ({\r\n  selectedItems: selectedProducts,\r\n  visible,\r\n  onCancel,\r\n  onOk,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  useEffect(() => {\r\n    form.resetFields();\r\n  }, [form]);\r\n\r\n  useResetFormOnCloseModal({\r\n    form,\r\n    visible,\r\n  });\r\n\r\n  const _onOk = () => {\r\n    form.validateFields().then(async ({ maxDiscoDollars }: formValues) => {\r\n      const updatedProducts = selectedProducts.map((product) => {\r\n        product.maxDiscoDollars = maxDiscoDollars;\r\n        return product;\r\n      });\r\n      await doRequest(\r\n        () => updateManyProducts(updatedProducts),\r\n        \"Products updated.\"\r\n      );\r\n      onOk();\r\n      form.resetFields();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Update Products\"\r\n      visible={visible}\r\n      okText=\"Save\"\r\n      onOk={_onOk}\r\n      onCancel={onCancel}\r\n      width=\"300px\"\r\n      okButtonProps={{ loading: loading }}\r\n      forceRender\r\n    >\r\n      <Form form={form} name=\"updateProducts\" layout=\"vertical\">\r\n        <Input.Group>\r\n          <Row gutter={8} justify=\"center\">\r\n            <Col>\r\n              <Form.Item\r\n                name=\"maxDiscoDollars\"\r\n                label=\"Max Discount\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <InputNumber />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n        </Input.Group>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditProductModal;\r\n","import { Button, Col, Divider, Input, Modal, Row } from \"antd\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\ntype formParams = { [key: string]: any };\r\n\r\nexport interface RecordAPIRequest {\r\n  name: string;\r\n  route: (params: any) => any;\r\n  method: string;\r\n  params: {\r\n    label: string;\r\n    field: string;\r\n    type: \"text\" | \"number\";\r\n    default: string | number;\r\n  }[];\r\n}\r\n\r\nexport interface RecordAPITestModalProps<T> {\r\n  selectedRecord: T | null;\r\n  setSelectedRecord: React.Dispatch<React.SetStateAction<T | null>>;\r\n}\r\n\r\ninterface APITestModalProps<T> {\r\n  selectedRecord: T | null;\r\n  setSelectedRecord: React.Dispatch<React.SetStateAction<T | null>>;\r\n  getRecordAPIRequests: (record: any) => RecordAPIRequest[];\r\n}\r\n\r\nconst APITestModal: React.FC<APITestModalProps<any>> = ({\r\n  selectedRecord,\r\n  setSelectedRecord,\r\n  getRecordAPIRequests,\r\n}) => {\r\n  const { doAPITest, loading } = useRequest();\r\n  const [responseBody, setResponseBody] = useState<string>();\r\n  const [formValues, setFormValues] = useState<formParams[]>([]);\r\n  const [recordRequests, setRecordRequests] = useState<RecordAPIRequest[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (!selectedRecord) return;\r\n    setRecordRequests(getRecordAPIRequests(selectedRecord));\r\n    setFormValues([\r\n      ...getRecordAPIRequests(selectedRecord).map((request) => {\r\n        const params: formParams = {};\r\n        request.params.forEach((param) => {\r\n          params[param.field] = param.default;\r\n        });\r\n        return params;\r\n      }),\r\n    ]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedRecord]);\r\n\r\n  const testRoute = async (route: Function, params: any) => {\r\n    const response = await doAPITest(() => route(params));\r\n    setResponseBody(JSON.stringify(response, null, 4));\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setSelectedRecord(null);\r\n    setResponseBody(\"\");\r\n  };\r\n\r\n  const handleFormChange = (\r\n    e: React.ChangeEvent<HTMLInputElement>,\r\n    index: number,\r\n    param: string\r\n  ) => {\r\n    setFormValues((prev) => {\r\n      prev[index][param] = e.target.value;\r\n      return [...prev];\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      onCancel={handleClose}\r\n      onOk={handleClose}\r\n      title=\"API Test\"\r\n      width=\"65%\"\r\n      visible={Boolean(selectedRecord)}\r\n    >\r\n      <Row gutter={16}>\r\n        <Col xs={12}>\r\n          <h3>Requests List</h3>\r\n          {recordRequests.map((request, index) => (\r\n            <>\r\n              <Row justify=\"space-between\" align=\"middle\">\r\n                <Col>{request.name}</Col>\r\n                <Col>\r\n                  <Button\r\n                    onClick={() => testRoute(request.route, formValues[index])}\r\n                    loading={loading}\r\n                  >\r\n                    {request.method}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              {request.params.map((param) => {\r\n                return (\r\n                  <Row style={{ margin: \"8px 0\" }}>\r\n                    <Input\r\n                      type={param.type}\r\n                      defaultValue={param.default}\r\n                      value={formValues[index][param.field]}\r\n                      onChange={(e) => handleFormChange(e, index, param.field)}\r\n                    />\r\n                  </Row>\r\n                );\r\n              })}\r\n              {index !== recordRequests.length - 1 && <Divider />}\r\n            </>\r\n          ))}\r\n        </Col>\r\n        <Col xs={12}>\r\n          <Row justify=\"space-between\">\r\n            <Col>\r\n              <h3>Response</h3>\r\n            </Col>\r\n            <Col>\r\n              {responseBody && (\r\n                <h4 style={{ color: \"grey\" }}>Use Ctrl + F to search.</h4>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n          <pre>{responseBody}</pre>\r\n        </Col>\r\n      </Row>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default APITestModal;\r\n","import APITestModal, {\r\n  RecordAPIRequest,\r\n  RecordAPITestModalProps,\r\n} from \"components/APITestModal\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport React from \"react\";\r\nimport { preCheckout } from \"services/DiscoClubService\";\r\n\r\nconst getProductAPIRequests: (product: Product) => RecordAPIRequest[] = (\r\n  product\r\n) => [\r\n  {\r\n    name: \"PreCheckout/{productId}/{DD Quantity}\",\r\n    route: (params: any) => preCheckout(product.id, params.ddQuantity),\r\n    method: \"GET\",\r\n    params: [\r\n      {\r\n        label: \"DD Quantity\",\r\n        field: \"ddQuantity\",\r\n        type: \"number\",\r\n        default: product.maxDiscoDollars,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst ProductAPITestModal: React.FC<RecordAPITestModalProps<Product>> = (\r\n  props\r\n) => {\r\n  return (\r\n    <APITestModal\r\n      {...{ ...props, getRecordAPIRequests: getProductAPIRequests }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProductAPITestModal;\r\n","import { Button, Col, Form, Radio } from \"antd\";\r\nimport { categoriesSettings } from \"helpers/utils\";\r\nimport { AllCategories } from \"interfaces/Category\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport ProductCategoriesTrees from \"./ProductCategoriesTrees\";\r\nconst { categoriesKeys, categoriesFields } = categoriesSettings;\r\n\r\ninterface ProductExpandedRowProps {\r\n  record: Product;\r\n  allCategories: AllCategories;\r\n  onSaveProduct: Function;\r\n  loading: boolean;\r\n}\r\n\r\nconst ProductExpandedRow: React.FC<ProductExpandedRowProps> = ({\r\n  record,\r\n  allCategories,\r\n  onSaveProduct,\r\n  loading,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n\r\n  const { pathname } = useLocation();\r\n  const isStaging = pathname === \"/staging-list\";\r\n\r\n  const onFinish = async () => {\r\n    const _categories = [...form.getFieldValue(\"categories\")];\r\n    categoriesFields.forEach((field, index) => {\r\n      _categories.forEach((productCategory: any) => {\r\n        productCategory[field] = allCategories[\r\n          categoriesKeys[index] as keyof AllCategories\r\n        ].find((category) => category.id === productCategory[field]?.id);\r\n      });\r\n    });\r\n    await onSaveProduct({ ...record, categories: _categories });\r\n  };\r\n\r\n  const handleCategoryChange = (\r\n    _: any,\r\n    __: number,\r\n    filterCategory: Function\r\n  ) => {\r\n    filterCategory(form);\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      layout=\"vertical\"\r\n      initialValues={record}\r\n      onFinish={onFinish}\r\n      form={form}\r\n    >\r\n      <Col lg={20} xs={24}>\r\n        <Form.Item name=\"status\" label=\"Status\">\r\n          <Radio.Group buttonStyle=\"solid\">\r\n            <Radio.Button value=\"live\">Live</Radio.Button>\r\n            <Radio.Button value=\"paused\">Paused</Radio.Button>\r\n            <Radio.Button value=\"expired\">Expired</Radio.Button>\r\n            <Radio.Button value=\"pending\">Pending</Radio.Button>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n      </Col>\r\n      <ProductCategoriesTrees\r\n        categories={record.categories}\r\n        allCategories={allCategories}\r\n        form={form}\r\n        handleCategoryChange={handleCategoryChange}\r\n      />\r\n      <Col lg={24} xs={12}>\r\n        <Button\r\n          disabled={record.brand.automated === true && !isStaging}\r\n          type=\"primary\"\r\n          onClick={onFinish}\r\n          loading={loading}\r\n        >\r\n          Save\r\n        </Button>\r\n      </Col>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ProductExpandedRow;\r\n","import {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  SettingOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  PageHeader,\r\n  Popconfirm,\r\n  Row,\r\n  Spin,\r\n  Tag,\r\n} from \"antd\";\r\nimport { CheckboxChangeEvent } from \"antd/lib/checkbox\";\r\nimport CopyIdToClipboard from \"components/CopyIdToClipboard\";\r\nimport EditableTable, { EditableColumnType } from \"components/EditableTable\";\r\nimport EditMultipleButton from \"components/EditMultipleButton\";\r\nimport { SearchFilterDebounce } from \"components/SearchFilterDebounce\";\r\nimport { SelectBrand } from \"components/SelectBrand\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  deleteProduct,\r\n  fetchProducts,\r\n  saveProduct,\r\n} from \"services/DiscoClubService\";\r\nimport EditProductModal from \"./EditProductModal\";\r\nimport ProductAPITestModal from \"./ProductAPITestModal\";\r\nimport ProductExpandedRow from \"./ProductExpandedRow\";\r\n\r\nconst Products: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [refreshing, setRefreshing] = useState<boolean>(false);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState<any[]>([]);\r\n  const [productAPITest, setProductAPITest] = useState<Product | null>(null);\r\n\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n  const { doRequest: saveCategories, loading: loadingCategories } =\r\n    useRequest();\r\n\r\n  const [searchFilter, setSearchFilter] = useState<string>(\"\");\r\n  const [brandIdFilter, setBrandIdFilter] = useState<string>(\"\");\r\n  const [unclassifiedFilter, setUnclassifiedFilter] = useState<boolean>(false);\r\n  const [page, setPage] = useState<number>(0);\r\n  const [eof, setEof] = useState<boolean>(false);\r\n\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n\r\n  const { fetchAllCategories, allCategories } = useAllCategories({\r\n    setLoading,\r\n  });\r\n\r\n  const _fetchProducts = async () => {\r\n    const pageToUse = refreshing ? 0 : page;\r\n    const response = await doFetch(() =>\r\n      fetchProducts({\r\n        limit: 30,\r\n        page: pageToUse,\r\n        brandId: brandIdFilter,\r\n        query: searchFilter,\r\n        unclassified: unclassifiedFilter,\r\n      })\r\n    );\r\n    setPage(pageToUse + 1);\r\n    if (response.results.length < 30) setEof(true);\r\n    return response;\r\n  };\r\n\r\n  const getResources = async () => {\r\n    const [{ results }] = await Promise.all([\r\n      _fetchProducts(),\r\n      fetchAllCategories(),\r\n    ]);\r\n    setProducts(results);\r\n  };\r\n\r\n  const refreshProducts = async () => {\r\n    setSelectedRowKeys([]);\r\n    setPage(0);\r\n    setRefreshing(true);\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    if (!products.length) return;\r\n    const { results } = await _fetchProducts();\r\n    setProducts((prev) => [...prev.concat(results)]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      const { results } = await _fetchProducts();\r\n      setProducts(results);\r\n      setRefreshing(false);\r\n    };\r\n    if (refreshing) {\r\n      setEof(false);\r\n      getProducts();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [refreshing]);\r\n\r\n  useEffect(() => {\r\n    if (allCategories[\"Super Category\"].length) refreshProducts();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchFilter, brandIdFilter, unclassifiedFilter]);\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deleteProduct({ id }));\r\n    await refreshProducts();\r\n  };\r\n\r\n  const onSaveCategories = async (record: Product) => {\r\n    await saveCategories(() => saveProduct(record));\r\n    await refreshProducts();\r\n  };\r\n\r\n  const onSaveProduct = async (record: Product) => {\r\n    await doRequest(() => saveProduct(record));\r\n    await refreshProducts();\r\n  };\r\n\r\n  const columns: EditableColumnType<Product>[] = [\r\n    {\r\n      title: \"_id\",\r\n      dataIndex: \"id\",\r\n      width: \"6%\",\r\n      render: (id) => <CopyIdToClipboard id={id} />,\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      width: \"22%\",\r\n      render: (value: string, record) => (\r\n        <Link to={{ pathname: `/product/commited`, state: record }}>\r\n          {value}\r\n        </Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Brand\",\r\n      dataIndex: [\"brand\", \"brandName\"],\r\n      width: \"20%\",\r\n      align: \"center\",\r\n      responsive: [\"sm\"],\r\n    },\r\n    {\r\n      title: \"Max Disco Dollars\",\r\n      dataIndex: \"maxDiscoDollars\",\r\n      width: \"12%\",\r\n      align: \"center\",\r\n      responsive: [\"sm\"],\r\n      // editable: true,\r\n      // number: true,\r\n    },\r\n    {\r\n      title: \"Related Videos\",\r\n      dataIndex: \"relatedVideoFeed\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      responsive: [\"sm\"],\r\n      render: (videos = []) => <Tag>{videos.length}</Tag>,\r\n    },\r\n\r\n    {\r\n      title: \"Expiration Date\",\r\n      dataIndex: \"offerExpirationDate\",\r\n      width: \"13%\",\r\n      align: \"center\",\r\n      responsive: [\"sm\"],\r\n      render: (creationDate: Date) => moment(creationDate).format(\"DD/MM/YYYY\"),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"12%\",\r\n      align: \"right\",\r\n      render: (_: any, record) => (\r\n        <>\r\n          <Link to={{ pathname: `/product/commited`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          {record.brand.automated !== true && (\r\n            <Popconfirm\r\n              title=\"Are you sure？\"\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n              onConfirm={() => deleteItem(record.id)}\r\n            >\r\n              <Button\r\n                type=\"link\"\r\n                style={{ padding: 0, margin: \"6px 0 6px 6px\" }}\r\n              >\r\n                <DeleteOutlined />\r\n              </Button>\r\n            </Popconfirm>\r\n          )}\r\n          <Button\r\n            onClick={() => setProductAPITest(record)}\r\n            type=\"link\"\r\n            style={{ padding: 0, margin: \"6px 0 6px 6px\" }}\r\n          >\r\n            <SettingOutlined />\r\n          </Button>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const onChangeBrand = async (_selectedBrand: Brand | undefined) => {\r\n    setBrandIdFilter(_selectedBrand?.id || \"\");\r\n  };\r\n\r\n  const handleFilterClassified = (e: CheckboxChangeEvent) => {\r\n    setUnclassifiedFilter(e.target.checked);\r\n  };\r\n\r\n  const handleRowSelection = (preSelectedRows: any[]) => {\r\n    const selectedRows: any[] = [];\r\n    preSelectedRows.forEach((productId) => {\r\n      const product = products.find((product) => product.id === productId);\r\n      if (product!.brand.automated !== true) selectedRows.push(productId);\r\n    });\r\n    setSelectedRowKeys(selectedRows);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        title=\"Products\"\r\n        subTitle=\"List of Products\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/product/commited/0\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row align=\"bottom\" justify=\"space-between\">\r\n        <Col lg={16} xs={24}>\r\n          <Row gutter={8}>\r\n            <Col lg={8} xs={16}>\r\n              <SearchFilterDebounce\r\n                filterFunction={setSearchFilter}\r\n                label=\"Search by Name\"\r\n              />\r\n            </Col>\r\n            <Col lg={8} xs={16}>\r\n              <SelectBrand\r\n                style={{ width: \"100%\" }}\r\n                allowClear={true}\r\n                onChange={onChangeBrand}\r\n              ></SelectBrand>\r\n            </Col>\r\n            <Col lg={8} xs={16}>\r\n              <Checkbox\r\n                onChange={handleFilterClassified}\r\n                style={{ margin: \"42px 0 16px 8px\" }}\r\n              >\r\n                Unclassified only\r\n              </Checkbox>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <EditMultipleButton\r\n          text=\"Edit Products\"\r\n          arrayList={products}\r\n          ModalComponent={EditProductModal}\r\n          selectedRowKeys={selectedRowKeys}\r\n          onOk={refreshProducts}\r\n        />\r\n      </Row>\r\n      <ProductAPITestModal\r\n        selectedRecord={productAPITest}\r\n        setSelectedRecord={setProductAPITest}\r\n      />\r\n      <InfiniteScroll\r\n        dataLength={products.length}\r\n        next={fetchData}\r\n        hasMore={!eof}\r\n        loader={\r\n          page !== 0 && (\r\n            <div className=\"scroll-message\">\r\n              <Spin />\r\n            </div>\r\n          )\r\n        }\r\n        endMessage={\r\n          <div className=\"scroll-message\">\r\n            <b>End of results.</b>\r\n          </div>\r\n        }\r\n      >\r\n        <EditableTable\r\n          rowKey=\"id\"\r\n          columns={columns}\r\n          dataSource={products}\r\n          loading={refreshing || (!products.length && loading)}\r\n          onSave={onSaveProduct}\r\n          pagination={false}\r\n          rowSelection={{\r\n            selectedRowKeys,\r\n            onChange: handleRowSelection,\r\n          }}\r\n          expandable={{\r\n            expandedRowRender: (record: Product) => (\r\n              <ProductExpandedRow\r\n                key={record.id}\r\n                record={record}\r\n                allCategories={allCategories}\r\n                onSaveProduct={onSaveCategories}\r\n                loading={loadingCategories}\r\n              ></ProductExpandedRow>\r\n            ),\r\n          }}\r\n        />\r\n      </InfiniteScroll>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Select,\r\n  Slider,\r\n} from \"antd\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport { Tag } from \"interfaces/Tag\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { fetchBrands, fetchProducts, saveTag } from \"services/DiscoClubService\";\r\n\r\nconst TagDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial = location.state as unknown as Tag | undefined;\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [selectedBrand, setSelectedBrand] = useState<string>(\r\n    initial?.brand?.id || \"\"\r\n  );\r\n  const [form] = Form.useForm();\r\n\r\n  const {\r\n    settings: { template = [], clickSound = [] },\r\n  } = useSelector((state: any) => state.settings);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    form.setFieldsValue({\r\n      position: [\r\n        {\r\n          x: initial?.position?.[0]?.x || 50,\r\n          y: initial?.position?.[0]?.y || 50,\r\n        },\r\n      ],\r\n    });\r\n\r\n    async function getProducts() {\r\n      const response: any = await fetchProducts({});\r\n      if (mounted) {\r\n        setProducts(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    async function getBrands() {\r\n      const response: any = await fetchBrands();\r\n      if (mounted) {\r\n        setBrands(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setLoading(true);\r\n    getProducts();\r\n    getBrands();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [initial, form]);\r\n\r\n  const onFinish = () => {\r\n    form.validateFields().then(async () => {\r\n      setLoading(true);\r\n      try {\r\n        const tag = form.getFieldsValue(true);\r\n        tag.product = products.find(\r\n          (product) => product.id === tag.product?.id\r\n        );\r\n        tag.brand = brands.find((brand) => brand.id === tag.brand?.id);\r\n        await saveTag(tag);\r\n        setLoading(false);\r\n        message.success(\"Register updated with success.\");\r\n        history.push(\"/tags\");\r\n      } catch (e) {\r\n        console.error(e);\r\n        setLoading(false);\r\n      }\r\n    });\r\n  };\r\n\r\n  const productsBySelectedBrand = () => {\r\n    return products.filter((product) => product.brand?.id === selectedBrand);\r\n  };\r\n\r\n  const onChangeBrand = (brandKey: string) => {\r\n    setSelectedBrand(brandKey);\r\n    form.setFieldsValue({ product: {} });\r\n  };\r\n\r\n  const onChangeTemplate = () => {\r\n    form.setFieldsValue({ product: {} });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Tag Update\" subTitle=\"Tag\" />\r\n      <Form\r\n        name=\"tagForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n        className=\"tags\"\r\n      >\r\n        <Input.Group>\r\n          <Row gutter={8}>\r\n            <Col lg={12} xs={24}>\r\n              <Form.Item\r\n                name=\"tagName\"\r\n                label=\"Tag Name\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={6} xs={0}>\r\n              <Form.Item name={[\"brand\", \"id\"]} label=\"Brand\">\r\n                <Select onChange={onChangeBrand}>\r\n                  {brands.map((brand) => (\r\n                    <Select.Option key={brand.id} value={brand.id}>\r\n                      {brand.brandName}\r\n                    </Select.Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col xxl={6} md={12} xs={24}>\r\n              <Form.Item\r\n                name=\"template\"\r\n                label=\"Template\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Select\r\n                  placeholder=\"Please select a template\"\r\n                  onChange={onChangeTemplate}\r\n                >\r\n                  {template.map((temp: any) => (\r\n                    <Select.Option key={temp.value} value={temp.value}>\r\n                      {temp.name}\r\n                    </Select.Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={6} xs={0}>\r\n              <Form.Item shouldUpdate>\r\n                {() => (\r\n                  <Form.Item name={[\"product\", \"id\"]} label=\"Product\">\r\n                    <Select\r\n                      disabled={form.getFieldValue(\"template\") === \"dollar\"}\r\n                    >\r\n                      {productsBySelectedBrand().map((product) => (\r\n                        <Select.Option key={product.id} value={product.id}>\r\n                          {product.name}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  </Form.Item>\r\n                )}\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={12} xs={24}>\r\n              <Row gutter={8}>\r\n                <Col lg={12} xs={24}>\r\n                  <Form.Item\r\n                    name=\"discoGold\"\r\n                    label=\"Disco Gold\"\r\n                    rules={[{ required: true }]}\r\n                  >\r\n                    <InputNumber style={{ width: \"100%\" }} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col lg={12} xs={24}>\r\n                  <Form.Item name=\"discoDollars\" label=\"Disco Dollar\">\r\n                    <InputNumber style={{ width: \"100%\" }} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Row gutter={8}>\r\n                <Col lg={12} xs={24}>\r\n                  <Form.Item\r\n                    name={[\"position\", 0, \"x\"]}\r\n                    label=\"Disco Dollar Position X\"\r\n                  >\r\n                    <Slider tipFormatter={(v) => `${v}%`} min={0} max={100} />\r\n                  </Form.Item>\r\n                </Col>\r\n                <Col lg={12} xs={24}>\r\n                  <Form.Item\r\n                    name={[\"position\", 0, \"y\"]}\r\n                    label=\"Disco Dollar Position Y\"\r\n                  >\r\n                    <Slider tipFormatter={(v) => `${v}%`} min={0} max={100} />\r\n                  </Form.Item>\r\n                </Col>\r\n              </Row>\r\n              <Col lg={12} xs={24}>\r\n                <Form.Item\r\n                  name=\"clickSound\"\r\n                  label=\"Click Sound\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Select placeholder=\"Please select a click sound\">\r\n                    {clickSound.map((click: any) => (\r\n                      <Select.Option key={click.value} value={click.value}>\r\n                        {click.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Form.Item>\r\n              </Col>\r\n            </Col>\r\n          </Row>\r\n        </Input.Group>\r\n        <Input.Group>\r\n          <Row gutter={8}></Row>\r\n        </Input.Group>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/tags\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button\r\n              type=\"primary\"\r\n              onClick={onFinish}\r\n              disabled={!!initial}\r\n              loading={loading}\r\n            >\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TagDetail;\r\n","import { EyeOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Button, Col, PageHeader, Popconfirm, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { Tag } from \"interfaces/Tag\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteTag, fetchTags } from \"services/DiscoClubService\";\r\n\r\nconst Tags: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const {\r\n    setArrayList: setTags,\r\n    filteredArrayList: filteredTags,\r\n    addFilterFunction,\r\n  } = useFilter<Tag>([]);\r\n\r\n  const fetchVideos = async () => {\r\n    setLoading(true);\r\n    const response: any = await fetchTags();\r\n    setLoading(false);\r\n    setTags(response.results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchVideos();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    setLoading(true);\r\n    try {\r\n      await deleteTag({ id });\r\n      fetchVideos();\r\n    } catch (err) {\r\n      console.log(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const columns: ColumnsType<Tag> = [\r\n    { title: \"Tag\", dataIndex: \"tagName\", width: \"15%\" },\r\n    {\r\n      title: \"Product\",\r\n      dataIndex: [\"product\", \"name\"],\r\n      width: \"20%\",\r\n    },\r\n    { title: \"Brand\", dataIndex: [\"brand\", \"brandName\"], width: \"20%\" },\r\n    { title: \"Template\", dataIndex: \"template\", width: \"15%\" },\r\n    { title: \"DD's\", dataIndex: \"discoDollars\", width: \"5%\" },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (value, record) => (\r\n        <>\r\n          <Link to={{ pathname: `/tag`, state: record }}>\r\n            <EyeOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"tagName\", (tags) =>\r\n      tags.filter((tag) =>\r\n        tag.tagName.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"tags\">\r\n      <PageHeader\r\n        title=\"Tags\"\r\n        subTitle=\"List of Tags\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/tag\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by Name\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredTags}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n","import {\r\n  CheckOutlined,\r\n  CloseOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  SearchOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Col,\r\n  Input,\r\n  PageHeader,\r\n  Popconfirm,\r\n  Row,\r\n  Table,\r\n  Tag,\r\n  Typography,\r\n} from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { discoBrandId } from \"helpers/constants\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteBrand, fetchBrands, saveBrand } from \"services/DiscoClubService\";\r\n\r\nconst tagColorByStatus: any = {\r\n  approved: \"green\",\r\n  rejected: \"red\",\r\n  pending: \"\",\r\n};\r\n\r\nconst Brands: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [brands, setBrands] = useState<Brand[]>([]);\r\n  const [filterText, setFilterText] = useState(\"\");\r\n\r\n  const aproveOrReject = async (aprove: boolean, creator: Brand) => {\r\n    creator.status = aprove ? \"approved\" : \"rejected\";\r\n    setLoading(true);\r\n    await saveBrand(creator);\r\n    fetch();\r\n  };\r\n\r\n  const deleteItem = async (id: string) => {\r\n    setLoading(true);\r\n    try {\r\n      await deleteBrand({ id });\r\n      fetch();\r\n    } catch (err) {\r\n      console.log(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetch = async () => {\r\n    setLoading(true);\r\n    const response: any = await fetchBrands();\r\n    setLoading(false);\r\n    setBrands(response.results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n  }, []);\r\n\r\n  const onChangeFilter = (evt: any) => {\r\n    setFilterText(evt.target.value);\r\n  };\r\n\r\n  const filterBrand = () => {\r\n    return brands.filter((brand) =>\r\n      brand.brandName?.toUpperCase().includes(filterText.toUpperCase())\r\n    );\r\n  };\r\n\r\n  const columns: ColumnsType<Brand> = [\r\n    {\r\n      title: \"Brand Name\",\r\n      dataIndex: \"brandName\",\r\n      width: \"35%\",\r\n      render: (value: string, record: Brand) => (\r\n        <Link to={{ pathname: `/brand`, state: record }}>\r\n          {record.id !== discoBrandId ? (\r\n            value\r\n          ) : (\r\n            <b style={{ color: \"lightcoral\" }}>{value}</b>\r\n          )}\r\n        </Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Automated\",\r\n      dataIndex: \"automated\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      render: (value: any) => (<b>{value ? 'Yes' : 'No'}</b>)\r\n    },\r\n    {\r\n      title: \"Brand Color\",\r\n      dataIndex: \"brandTxtColor\",\r\n      width: \"20%\",\r\n      align: \"center\",\r\n      render: (value: any) => (\r\n        <Avatar\r\n          style={{ backgroundColor: value, border: \"1px solid #9c9c9c\" }}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      title: \"Status\",\r\n      dataIndex: \"status\",\r\n      width: \"20%\",\r\n      align: \"center\",\r\n      render: (value = \"pending\") => (\r\n        <Tag color={tagColorByStatus[value]}>{value}</Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"10%\",\r\n      align: \"right\",\r\n      render: (_, record: Brand) => (\r\n        <>\r\n          {!record.status && [\r\n            <CheckOutlined\r\n              key=\"approve\"\r\n              style={{ color: \"green\" }}\r\n              onClick={() => aproveOrReject(true, record)}\r\n            />,\r\n            <CloseOutlined\r\n              key=\"reject\"\r\n              style={{ color: \"red\", margin: \"6px\" }}\r\n              onClick={() => aproveOrReject(false, record)}\r\n            />,\r\n          ]}\r\n          <Link to={{ pathname: `/brand`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          {record.id !== discoBrandId && (\r\n            <Popconfirm\r\n              title=\"Are you sure？\"\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n              onConfirm={() => deleteItem(record.id)}\r\n            >\r\n              <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n                <DeleteOutlined />\r\n              </Button>\r\n            </Popconfirm>\r\n          )}\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        title=\"Brands\"\r\n        subTitle=\"List of Brands\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/brand\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <div style={{ marginBottom: \"16px\" }}>\r\n        <Row>\r\n          <Col lg={12} xs={24}>\r\n            <Typography.Title level={5} title=\"Search\">\r\n              Search\r\n            </Typography.Title>\r\n            <Input onChange={onChangeFilter} suffix={<SearchOutlined />} />\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filterBrand()}\r\n        loading={loading}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Brands;\r\n","import {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Radio,\r\n  RadioChangeEvent,\r\n  Row,\r\n  Select,\r\n  Switch,\r\n} from \"antd\";\r\nimport { Upload } from \"components\";\r\nimport { RichTextEditor } from \"components/RichTextEditor\";\r\nimport { useState } from \"react\";\r\nimport { TwitterPicker } from \"react-color\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveBrand } from \"services/DiscoClubService\";\r\n\r\nconst BrandDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [form] = Form.useForm();\r\n\r\n  const {\r\n    settings: { checkoutType = [] },\r\n  } = useSelector((state: any) => state.settings);\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const brand = form.getFieldsValue(true);\r\n      await saveBrand(brand);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/brands\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCheckoutTypeChange = (e: RadioChangeEvent) => {\r\n    const type = e.target.value;\r\n    form.setFieldsValue({\r\n      requireMobilePurchaseStatus: type === \"external\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Brand Update\" subTitle=\"Brand\" />\r\n      <Form\r\n        name=\"brandForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item label=\"Brand Name\" name=\"brandName\">\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                name=\"checkoutType\"\r\n                label=\"Checkout Type\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Radio.Group\r\n                  buttonStyle=\"solid\"\r\n                  onChange={handleCheckoutTypeChange}\r\n                >\r\n                  <Radio.Button value=\"internal\">Internal</Radio.Button>\r\n                  <Radio.Button value=\"external\">External</Radio.Button>\r\n                </Radio.Group>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                name=\"checkout\"\r\n                label=\"Checkout\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Select placeholder=\"Select a checkout type\">\r\n                  {checkoutType.map((curr: any) => (\r\n                    <Select.Option key={curr.value} value={curr.value}>\r\n                      {curr.name}\r\n                    </Select.Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                name=\"confirmationUrl\"\r\n                label=\"External Payment Confirmation URL\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                name=\"cancelationUrl\"\r\n                label=\"External Payment Cancelation URL\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                shouldUpdate={(prevValues, curValues) =>\r\n                  prevValues.checkout !== curValues.checkout\r\n                }\r\n              >\r\n                {({ getFieldValue }) => (\r\n                  <Form.Item\r\n                    name=\"requireMobilePurchaseStatus\"\r\n                    label=\"Log Completed Purchases?\"\r\n                    valuePropName=\"checked\"\r\n                  >\r\n                    <Switch disabled={getFieldValue(\"checkout\") === \"Disco\"} />\r\n                  </Form.Item>\r\n                )}\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                name=\"shopName\"\r\n                label=\"Shop Name (without https:// or spaces)\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input placeholder=\"casey-temp.myshopify.com\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={24} xs={24}>\r\n              <Form.Item label=\"Pre-Checkout Message (With Discount)\">\r\n                <RichTextEditor\r\n                  formField=\"overlayHtmlWithDiscount\"\r\n                  form={form}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={24} xs={24}>\r\n              <Form.Item label=\"Pre-Checkout Message (WithOUT Discount)\">\r\n                <RichTextEditor\r\n                  formField=\"overlayHtmlWithoutDiscount\"\r\n                  form={form}\r\n                />\r\n              </Form.Item>\r\n            </Col>\r\n          </Col>\r\n\r\n          <Col lg={12} xs={24}>\r\n            <Row>\r\n              <Col lg={6} xs={24}>\r\n                <Form.Item label=\"Colour\">\r\n                  <Upload.ImageUpload\r\n                    maxCount={1}\r\n                    fileList={initial?.colourLogo}\r\n                    form={form}\r\n                    formProp=\"colourLogo\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={6} xs={24}>\r\n                <Form.Item label=\"Black\">\r\n                  <Upload.ImageUpload\r\n                    maxCount={1}\r\n                    fileList={initial?.blackLogo}\r\n                    form={form}\r\n                    formProp=\"blackLogo\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={6} xs={24}>\r\n                <Form.Item label=\"White\">\r\n                  <Upload.ImageUpload\r\n                    maxCount={1}\r\n                    fileList={initial?.whiteLogo}\r\n                    form={form}\r\n                    formProp=\"whiteLogo\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={6} xs={24}>\r\n                <Form.Item\r\n                  label=\"Logo Round\"\r\n                  rules={[{ required: true }]}\r\n                  name=\"brandLogo\"\r\n                >\r\n                  <Upload.ImageUpload\r\n                    fileList={initial?.brandLogo}\r\n                    maxCount={1}\r\n                    form={form}\r\n                    formProp=\"brandLogo\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={6} xs={24}>\r\n                <Form.Item\r\n                  label=\"Upload Card\"\r\n                  name=\"brandCard\"\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  <Upload.ImageUpload\r\n                    maxCount={1}\r\n                    fileList={initial?.brandCard}\r\n                    form={form}\r\n                    formProp=\"brandCard\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={6} xs={24}>\r\n                <Form.Item\r\n                  label=\"Thumbnail\"\r\n                  name=\"thumbnail\"\r\n                  rules={[{ required: false }]}\r\n                >\r\n                  <Upload.ImageUpload\r\n                    maxCount={1}\r\n                    fileList={initial?.thumbnail}\r\n                    form={form}\r\n                    formProp=\"thumbnail\"\r\n                  />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={24} xs={24}>\r\n                <Form.Item\r\n                  label=\"Brand Color\"\r\n                  name=\"brandTxtColor\"\r\n                  rules={[{ required: true }]}\r\n                  valuePropName=\"color\"\r\n                >\r\n                  <ColorPicker />\r\n                </Form.Item>\r\n              </Col>\r\n              <Col lg={24} xs={24}>\r\n                <Row gutter={8}>\r\n                  <Col lg={12} xs={12}>\r\n                    <Form.Item\r\n                      name=\"automated\"\r\n                      label=\"Automated\"\r\n                      valuePropName=\"checked\"\r\n                    >\r\n                      <Switch />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col lg={12} xs={12}>\r\n                    <Form.Item\r\n                      name=\"paused\"\r\n                      label=\"Paused\"\r\n                      valuePropName=\"checked\"\r\n                    >\r\n                      <Switch />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n              </Col>\r\n            </Row>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/brands\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrandDetail;\r\n\r\nconst ColorPicker: React.FC<any> = (props) => {\r\n  const { onChange } = props;\r\n  return (\r\n    <TwitterPicker onChangeComplete={(value: any) => onChange(value.hex)} />\r\n  );\r\n};\r\n","import { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport { Button, PageHeader, Popconfirm, Spin, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { PromoCode } from \"interfaces/PromoCode\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deletePromoCode, fetchPromoCodes } from \"services/DiscoClubService\";\r\nimport \"./PromoCodes.scss\";\r\n\r\nconst PromoCodes: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [promoCodes, setPromoCodes] = useState<PromoCode[]>([]);\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n\r\n  const fetch = async () => {\r\n    const { results } = await doFetch(() => fetchPromoCodes());\r\n    setPromoCodes(results);\r\n  };\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deletePromoCode({ id }));\r\n    await doFetch(() => fetchPromoCodes());\r\n  };\r\n\r\n  const columns: ColumnsType<PromoCode> = [\r\n    {\r\n      title: \"Code\",\r\n      dataIndex: \"code\",\r\n      width: \"20%\",\r\n      render: (value: string, record: PromoCode) => (\r\n        <Link to={{ pathname: `promo-code`, state: record }}>{value}</Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Shop Name\",\r\n      dataIndex: \"shopName\",\r\n      width: \"20%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Dollars\",\r\n      dataIndex: \"dollars\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Discount\",\r\n      dataIndex: \"discount\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Creation\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"12%\",\r\n      align: \"center\",\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"10%\",\r\n      align: \"right\",\r\n      render: (_, record: PromoCode) => (\r\n        <>\r\n          <Link to={{ pathname: `promo-code`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const [fetchedPromoCodes, setFetchedPromoCodes] = useState<any[]>([]);\r\n  const [page, setPage] = useState<number>(0);\r\n  const LIMIT = 20;\r\n\r\n  const fetchData = () => {\r\n    const setNewData = () => {\r\n      setFetchedPromoCodes((prev) => [\r\n        ...prev.concat(promoCodes.slice(page * LIMIT, page * LIMIT + LIMIT)),\r\n      ]);\r\n      setPage((prev) => prev + 1);\r\n    };\r\n    if (!promoCodes.length) {\r\n      return;\r\n    }\r\n    if (!fetchedPromoCodes.length) {\r\n      setNewData();\r\n      return;\r\n    }\r\n    setTimeout(setNewData, 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [promoCodes]);\r\n\r\n  return (\r\n    <div className=\"promo-codes\">\r\n      <PageHeader\r\n        title=\"Promo Codes\"\r\n        subTitle=\"List of Promo Codes\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"promo-code\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <InfiniteScroll\r\n        dataLength={fetchedPromoCodes.length}\r\n        next={fetchData}\r\n        hasMore={loading || fetchedPromoCodes.length !== promoCodes.length}\r\n        loader={\r\n          !loading && (\r\n            <div className=\"scroll-message\">\r\n              <Spin />\r\n            </div>\r\n          )\r\n        }\r\n        endMessage={\r\n          <div className=\"scroll-message\">\r\n            <b>End of results.</b>\r\n          </div>\r\n        }\r\n      >\r\n        <Table\r\n          rowKey=\"id\"\r\n          pagination={false}\r\n          columns={columns}\r\n          dataSource={fetchedPromoCodes}\r\n          loading={loading}\r\n        />\r\n      </InfiniteScroll>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromoCodes;\r\n","import { Button, Col, Form, Input, message, PageHeader, Row } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { savePromoCode } from \"services/DiscoClubService\";\r\n\r\nconst PromoCodesDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const promoCode = form.getFieldsValue(true);\r\n      await savePromoCode(promoCode);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/promo-codes\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Promo Code Update\" subTitle=\"Promo Code\" />\r\n      <Form\r\n        name=\"promoCodeForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Promo Code\"\r\n                name=\"code\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Shop Name\"\r\n                name=\"shopName\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Discount\"\r\n                name=\"discount\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Disco Dollars\"\r\n                name=\"dollars\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/promo-codes\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PromoCodesDetail;\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Radio,\r\n  Row,\r\n} from \"antd\";\r\nimport { Endpoint } from \"interfaces/Endpoint\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveEndpoint } from \"services/DiscoClubService\";\r\n\r\nconst EndpointDetail: React.FC<RouteComponentProps> = ({\r\n  history,\r\n  location,\r\n}) => {\r\n  const initial = location.state as Endpoint;\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    if (initial?.id) {\r\n      form.setFieldsValue({ ...initial });\r\n    } else {\r\n      form.setFieldsValue({\r\n        name: \"\",\r\n        description: \"\",\r\n        container: \"\",\r\n        action: \"Search\",\r\n        application: \"Custom\",\r\n        isActive: false,\r\n      });\r\n    }\r\n  }, [form, initial]);\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const endpoint: Endpoint = form.getFieldsValue(true);\r\n\r\n      await saveEndpoint(endpoint);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/endpoints\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Endpoint Update\" subTitle=\"Endpoint\" />\r\n      <Form\r\n        name=\"endpointForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item label=\"Name\" name=\"name\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item label=\"Description\" name=\"description\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item label=\"Container\" name=\"container\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item label=\"Application\" name=\"application\">\r\n              <Input disabled />\r\n            </Form.Item>\r\n          </Col>\r\n\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item name=\"action\">\r\n              <Radio.Group>\r\n                <Radio value=\"Search\">Search</Radio>\r\n                <Radio value=\"Insert\">Insert</Radio>\r\n                <Radio value=\"Update\">Update</Radio>\r\n                <Radio value=\"Delete\">Delete</Radio>\r\n              </Radio.Group>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item name=\"isActive\">\r\n              <Checkbox disabled>isActive</Checkbox>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/endpoints\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EndpointDetail;\r\n","import { Button, Col, PageHeader, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { Endpoint } from \"interfaces/Endpoint\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchEndpoints } from \"services/DiscoClubService\";\r\nimport { EditOutlined } from \"@ant-design/icons\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\n\r\nconst Endpoints: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const {\r\n    setArrayList: setEndpoints,\r\n    filteredArrayList: filteredEndpoints,\r\n    addFilterFunction,\r\n  } = useFilter<Endpoint>([]);\r\n\r\n  const columns: ColumnsType<Endpoint> = [\r\n    { title: \"Name\", dataIndex: \"name\", width: \"15%\" },\r\n    { title: \"Container\", dataIndex: \"container\", width: \"15%\" },\r\n    { title: \"Method\", dataIndex: \"action\", width: \"10%\" },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record: Endpoint) => (\r\n        <>\r\n          {!record.isActive && (\r\n            <Link to={{ pathname: `/endpoint`, state: record }}>\r\n              <EditOutlined />\r\n            </Link>\r\n          )}\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  async function fetch() {\r\n    setLoading(true);\r\n    try {\r\n      const response: any = await fetchEndpoints();\r\n      setEndpoints(response.results);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"endpointName\", (endpoints) =>\r\n      endpoints.filter((endpoint) =>\r\n        endpoint.name.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"endpoints\">\r\n      <PageHeader\r\n        title=\"Endpoints\"\r\n        subTitle=\"List of Endpoints\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/endpoint\")}>\r\n            New Endpoint\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by Name\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredEndpoints}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Endpoints;\r\n","import { Button, Divider, Form, FormInstance, Input, Select } from \"antd\";\r\nimport React, { ChangeEventHandler, useEffect, useState } from \"react\";\r\nimport { FanGroup } from \"interfaces/FanGroup\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { fetchFanGroups, saveFanGroup } from \"services/DiscoClubService\";\r\n\r\ninterface FanGroupDropdownProps {\r\n  form: FormInstance<any>;\r\n  loading: boolean;\r\n  setLoading: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst FanGroupDropdown: React.FC<FanGroupDropdownProps> = ({\r\n  form,\r\n  loading,\r\n  setLoading,\r\n}) => {\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n  const [fanGroups, setFanGroups] = useState<FanGroup[]>([]);\r\n  const [selectedFanGroup, setSelectedFanGroup] = useState<string>(\r\n    form.getFieldValue(\"fanGroup\")\r\n  );\r\n  const [addFanGroupField, setAddFanGroupField] = useState<string>(\"\");\r\n\r\n  const getFanGroups = async () => {\r\n    const response: any = await fetchFanGroups();\r\n    setFanGroups(response.results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getFanGroups();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const addFanGroup = async () => {\r\n    await doRequest(\r\n      () => saveFanGroup({ name: addFanGroupField }),\r\n      \"Fan Group Created.\"\r\n    );\r\n    const response = await doFetch(() => fetchFanGroups());\r\n    setFanGroups(response.results);\r\n    setAddFanGroupField(\"\");\r\n  };\r\n\r\n  const onFanGroupChange: ChangeEventHandler<HTMLInputElement> = (event) => {\r\n    setAddFanGroupField(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <Form.Item label=\"Fan Group\">\r\n      <Select\r\n        style={{ width: 240 }}\r\n        placeholder=\"Fan Group\"\r\n        allowClear\r\n        onChange={(value = \"\") => {\r\n          setSelectedFanGroup(String(value));\r\n          form.setFieldsValue({ fanGroup: String(value) });\r\n        }}\r\n        value={selectedFanGroup}\r\n        dropdownRender={(menu) => (\r\n          <div>\r\n            {menu}\r\n            <Divider style={{ margin: \"4px 0\" }} />\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexWrap: \"nowrap\",\r\n                justifyContent: \"space-between\",\r\n                padding: 8,\r\n              }}\r\n            >\r\n              <Input\r\n                style={{ flex: \"auto\", marginRight: \"6px\" }}\r\n                value={addFanGroupField}\r\n                onChange={onFanGroupChange}\r\n              />\r\n              <Button onClick={addFanGroup} loading={loading} type=\"primary\">\r\n                Add item\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      >\r\n        {fanGroups.map((fanGroup) => (\r\n          <Select.Option key={fanGroup.id} value={fanGroup.id}>\r\n            {fanGroup.name}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    </Form.Item>\r\n  );\r\n};\r\n\r\nexport default FanGroupDropdown;\r\n","import { DeleteOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Form,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Select,\r\n  Table,\r\n  Typography,\r\n} from \"antd\";\r\nimport { formatMoment } from \"helpers/formatMoment\";\r\nimport { Category } from \"interfaces/Category\";\r\nimport { Creator } from \"interfaces/Creator\";\r\nimport { Role } from \"interfaces/Role\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport {\r\n  fetchCategories,\r\n  fetchCreators,\r\n  fetchProfiles,\r\n  saveUser,\r\n} from \"services/DiscoClubService\";\r\nimport FanGroupDropdown from \"./FanGroupDropdown\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst prefixSelector = (prefix: string) => (\r\n  <Form.Item name=\"dialCode\" noStyle>\r\n    <Select defaultValue={prefix || \"+353\"} style={{ width: 80 }}>\r\n      <Option value=\"+353\">+353</Option>\r\n      <Option value=\"+55\">+55</Option>\r\n      <Option value=\"+86\">+86</Option>\r\n      <Option value=\"+87\">+87</Option>\r\n    </Select>\r\n  </Form.Item>\r\n);\r\n\r\nconst FanDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const [roles, setRoles] = useState<Role[]>([]);\r\n  const [creators, setCreators] = useState<Creator[]>([]);\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const initial: any = location.state || {};\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    async function getRoles() {\r\n      const response: any = await fetchProfiles();\r\n      if (mounted) {\r\n        setRoles(response.results);\r\n        setLoading(false);\r\n      }\r\n    }\r\n\r\n    const getCreatores = async () => {\r\n      const response: any = await fetchCreators();\r\n      setCreators(response.results);\r\n    };\r\n    const getCategories = async () => {\r\n      const response: any = await fetchCategories();\r\n      setCategories(response.results);\r\n    };\r\n    setLoading(true);\r\n    getRoles();\r\n    getCreatores();\r\n    getCategories();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [form]);\r\n\r\n  const onChangeCreator = (key: string) => {\r\n    if (key) {\r\n      const { id, firstName, lastName, userName } =\r\n        creators.find((creator) => creator.userName === key) || {};\r\n      const followingCreators = form.getFieldValue(\"followingCreators\") || [];\r\n      form.setFieldsValue({\r\n        followingCreators: [\r\n          ...followingCreators,\r\n          { creatorId: id, firstName, lastName, userName },\r\n        ],\r\n      });\r\n    }\r\n  };\r\n\r\n  const onRemoveCreatorClick = (record: Creator) => {\r\n    const followingCreators = form.getFieldValue(\"followingCreators\") || [];\r\n    form.setFieldsValue({\r\n      followingCreators: followingCreators.filter(\r\n        (follow: Creator) => follow.userName !== record.userName\r\n      ),\r\n    });\r\n  };\r\n\r\n  const creatorColumns = [\r\n    { title: \"UserName\", dataIndex: \"userName\", width: \"15%\" },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      render: (_: any, record: Creator) => (\r\n        <>\r\n          <Button\r\n            type=\"link\"\r\n            style={{ padding: 0, margin: 6 }}\r\n            onClick={() => onRemoveCreatorClick(record)}\r\n          >\r\n            <DeleteOutlined />\r\n          </Button>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const onChangeCategories = (key: string) => {\r\n    if (key) {\r\n      const { id, name } =\r\n        categories.find((category) => category.name === key) || {};\r\n      const followingCategories =\r\n        form.getFieldValue(\"followingCategories\") || [];\r\n      form.setFieldsValue({\r\n        followingCategories: [...followingCategories, { idCategory: id, name }],\r\n      });\r\n    }\r\n  };\r\n\r\n  const onRemoveCategoryClick = (record: Category) => {\r\n    const followingCategories = form.getFieldValue(\"followingCategories\") || [];\r\n    followingCategories.splice(record, 1);\r\n    form.setFieldsValue({\r\n      followingCategories: followingCategories.filter(\r\n        (follow: Category) => follow.id !== record.id\r\n      ),\r\n    });\r\n  };\r\n\r\n  const categoryColumns = [\r\n    { title: \"Name\", dataIndex: \"name\", width: \"15%\" },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      render: (value: any, record: Category, index: number) => (\r\n        <>\r\n          <Button\r\n            type=\"link\"\r\n            style={{ padding: 0, margin: 6 }}\r\n            onClick={() => onRemoveCategoryClick(record)}\r\n          >\r\n            <DeleteOutlined />\r\n          </Button>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const formatUserData = (formUser: any) => {\r\n    const formattedUser = { ...formUser };\r\n    if (typeof formUser.birthday === \"string\") {\r\n      formattedUser.birthday = formUser.birthday;\r\n    }\r\n    if (typeof formUser.birthday === \"object\") {\r\n      formattedUser.birthday = formUser.birthday.format(\"DD-MM-YYYY\");\r\n    }\r\n\r\n    formattedUser.personalDetails = formattedUser.personalDetails || {};\r\n    formattedUser.personalDetails.phone =\r\n      formattedUser.personalDetails.phone || {};\r\n    formattedUser.personalDetails.phone.number = formUser.phoneNumber;\r\n\r\n    formattedUser.addresses = [\r\n      {\r\n        line1: formUser.line1,\r\n        line2: \"\",\r\n        city: formUser.city,\r\n        stateOrCounty: \"\",\r\n        country: formUser.country,\r\n        postalCode: formUser.postalCode,\r\n        isDefault: true,\r\n      },\r\n    ];\r\n\r\n    return formattedUser;\r\n  };\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const user = form.getFieldsValue(true);\r\n      const formattedUserData = formatUserData(user);\r\n      await saveUser(formattedUserData);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/fans\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Fan Update\" subTitle=\"Fan\" />\r\n      <Form\r\n        name=\"userForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={{\r\n          ...initial,\r\n          phoneNumber: initial.personalDetails?.phone?.number,\r\n          line1: initial.addresses?.[0]?.line1,\r\n          city: initial.addresses?.[0]?.city,\r\n          country: initial.addresses?.[0]?.country,\r\n          postalCode: initial.addresses?.[0]?.postalCode,\r\n        }}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          {initial.id && (\r\n            <Col lg={8} xs={24}>\r\n              <Form.Item label=\"_id\" name=\"id\">\r\n                <Input disabled />\r\n              </Form.Item>\r\n            </Col>\r\n          )}\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Name\" name=\"userName\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Email\" name=\"user\">\r\n              <Input type=\"email\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Password\" name=\"pwd\">\r\n              <Input.Password />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item name=\"profile\" label=\"Profile\">\r\n              <Select>\r\n                {roles.map((role) => (\r\n                  <Select.Option key={role.id} value={role.name}>\r\n                    {role.name}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item\r\n              label=\"Birthday\"\r\n              name=\"birthday\"\r\n              getValueProps={formatMoment}\r\n            >\r\n              <DatePicker format=\"DD/MM/YYYY\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item name=\"gender\" label=\"Gender\">\r\n              <Select>\r\n                <Select.Option value=\"Female\">Female</Select.Option>\r\n                <Select.Option value=\"Male\">Male</Select.Option>\r\n                <Select.Option value=\"Other\">Other</Select.Option>\r\n                <Select.Option value=\"Prefer not to say\">\r\n                  Prefer not to say\r\n                </Select.Option>\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Phone\" name=\"phoneNumber\">\r\n              <Input\r\n                addonBefore={prefixSelector(\r\n                  initial.personalDetails?.phone?.dialCode\r\n                )}\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Address\" name=\"line1\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"City\" name=\"city\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Country\" name=\"country\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Postal Code\" name=\"postalCode\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={8} xs={24}>\r\n            <FanGroupDropdown\r\n              form={form}\r\n              loading={loading}\r\n              setLoading={setLoading}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item\r\n              shouldUpdate={(prevValues, curValues) =>\r\n                prevValues.followingCreators !== curValues.followingCreators\r\n              }\r\n            >\r\n              {({ getFieldValue }) => {\r\n                const followingCreators: Creator[] =\r\n                  getFieldValue(\"followingCreators\") || [];\r\n\r\n                return (\r\n                  <>\r\n                    <Col lg={8} xs={24}>\r\n                      <Typography.Title level={5}>\r\n                        Following Creators\r\n                      </Typography.Title>\r\n                      <Form.Item>\r\n                        <Select\r\n                          placeholder=\"Please select a creator\"\r\n                          onChange={onChangeCreator}\r\n                          allowClear\r\n                        >\r\n                          {creators\r\n                            .filter(\r\n                              (creat) =>\r\n                                !followingCreators\r\n                                  .map((follow) => follow.userName)\r\n                                  .includes(creat.userName)\r\n                            )\r\n                            .map((creator) => (\r\n                              <Select.Option\r\n                                key={creator.id}\r\n                                value={creator.userName}\r\n                              >\r\n                                {creator.userName}\r\n                              </Select.Option>\r\n                            ))}\r\n                        </Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col lg={24} xs={24}>\r\n                      <Table\r\n                        dataSource={followingCreators}\r\n                        columns={creatorColumns}\r\n                      />\r\n                    </Col>\r\n                  </>\r\n                );\r\n              }}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item\r\n              shouldUpdate={(prevValues, curValues) =>\r\n                prevValues.followingCategories !== curValues.followingCategories\r\n              }\r\n            >\r\n              {({ getFieldValue }) => {\r\n                const followingCategories: Category[] =\r\n                  getFieldValue(\"followingCategories\") || [];\r\n\r\n                return (\r\n                  <>\r\n                    <Col lg={8} xs={24}>\r\n                      <Typography.Title level={5}>\r\n                        Following Categories\r\n                      </Typography.Title>\r\n                      <Form.Item>\r\n                        <Select\r\n                          placeholder=\"Please select a categories\"\r\n                          onChange={onChangeCategories}\r\n                          allowClear\r\n                        >\r\n                          {categories\r\n                            .filter(\r\n                              (creat) =>\r\n                                !followingCategories\r\n                                  .map((follow) => follow.id)\r\n                                  .includes(creat.id)\r\n                            )\r\n                            .map((category) => (\r\n                              <Select.Option\r\n                                key={category.id}\r\n                                value={category.name}\r\n                              >\r\n                                {category.name}\r\n                              </Select.Option>\r\n                            ))}\r\n                        </Select>\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col lg={24} xs={24}>\r\n                      <Table\r\n                        dataSource={followingCategories}\r\n                        columns={categoryColumns}\r\n                      />\r\n                    </Col>\r\n                  </>\r\n                );\r\n              }}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/fans\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FanDetail;\r\n","import { Col, Form, Input, Modal, Row } from \"antd\";\r\nimport { useResetFormOnCloseModal } from \"hooks/useResetFormCloseModal\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { updateManyFans } from \"services/DiscoClubService\";\r\nimport { EditMultipleModalProps } from \"components/EditMultipleButton\";\r\nimport FanGroupDropdown from \"./FanGroupDropdown\";\r\n\r\nconst EditFanModal: React.FC<EditMultipleModalProps<Fan>> = ({\r\n  selectedItems: selectedFans,\r\n  visible,\r\n  onCancel,\r\n  onOk,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  useEffect(() => {\r\n    form.resetFields();\r\n  }, [form]);\r\n\r\n  useResetFormOnCloseModal({\r\n    form,\r\n    visible,\r\n  });\r\n\r\n  const _onOk = () => {\r\n    form.validateFields().then(async () => {\r\n      const fanGroup = form.getFieldValue(\"fanGroup\");\r\n      const fansToUpdateIds = selectedFans.map((fan) => fan.id);\r\n      await doRequest(\r\n        () => updateManyFans(fanGroup, fansToUpdateIds),\r\n        \"Fans updated.\"\r\n      );\r\n      onOk();\r\n      form.resetFields();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Update Fans\"\r\n      visible={visible}\r\n      okText=\"Save\"\r\n      onOk={_onOk}\r\n      onCancel={onCancel}\r\n      width=\"300px\"\r\n      okButtonProps={{ loading: loading }}\r\n      forceRender\r\n    >\r\n      <Form form={form} name=\"updateFans\" layout=\"vertical\">\r\n        <Input.Group>\r\n          <Row gutter={8} justify=\"center\">\r\n            <Col>\r\n              <FanGroupDropdown\r\n                form={form}\r\n                loading={loading}\r\n                setLoading={setLoading}\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Input.Group>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default EditFanModal;\r\n","import APITestModal, {\r\n  RecordAPIRequest,\r\n  RecordAPITestModalProps,\r\n} from \"components/APITestModal\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport React from \"react\";\r\nimport { fetchFanFeed } from \"services/DiscoClubService\";\r\n\r\nconst getFanAPIRequests: (fan: Fan) => RecordAPIRequest[] = (fan) => [\r\n  {\r\n    name: \"GetOne/{userId}\",\r\n    route: () => fetchFanFeed(fan.id),\r\n    method: \"GET\",\r\n    params: [],\r\n  },\r\n];\r\n\r\nconst FanAPITestModal: React.FC<RecordAPITestModalProps<Fan>> = (props) => {\r\n  return (\r\n    <APITestModal {...{ ...props, getRecordAPIRequests: getFanAPIRequests }} />\r\n  );\r\n};\r\n\r\nexport default FanAPITestModal;\r\n","import { Modal, Table, Tag as AntTag } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport { FeedItem } from \"interfaces/FeedItem\";\r\nimport { Segment } from \"interfaces/Segment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchUserFeed } from \"services/DiscoClubService\";\r\n\r\ninterface FanFeedModalProps {\r\n  selectedRecord: Fan | null;\r\n  setSelectedRecord: React.Dispatch<React.SetStateAction<Fan | null>>;\r\n}\r\n\r\nconst reduceSegmentsTags = (packages: Segment[]) => {\r\n  return packages.reduce((acc: number, curr: Segment) => {\r\n    return acc + curr.tags?.length;\r\n  }, 0);\r\n};\r\n\r\nconst FanFeedModal: React.FC<FanFeedModalProps> = ({\r\n  selectedRecord,\r\n  setSelectedRecord,\r\n}) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [userFeed, setUserFeed] = useState<any[]>([]);\r\n  const { doFetch } = useRequest({ setLoading });\r\n\r\n  const getResources = async () => {\r\n    setUserFeed([]);\r\n    const { results } = await doFetch(() => fetchUserFeed(selectedRecord!.id));\r\n    setUserFeed(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (selectedRecord !== null) {\r\n      getResources();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [selectedRecord]);\r\n\r\n  const onClose = () => {\r\n    setSelectedRecord(null);\r\n  };\r\n\r\n  const columns: ColumnsType<FeedItem> = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      width: \"15%\",\r\n      // render: (value: string, record: FeedItem) => (\r\n      //   <Link to={{ pathname: `/video-feed`, state: record }}>{value}</Link>\r\n      // ),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Segments\",\r\n      dataIndex: \"package\",\r\n      render: (pack: Array<any> = []) => <AntTag>{pack.length}</AntTag>,\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Length\",\r\n      dataIndex: \"lengthTotal\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Expiration Date\",\r\n      dataIndex: \"validity\",\r\n      width: \"5%\",\r\n      render: (creationDate: Date) =>\r\n        new Date(creationDate).toLocaleDateString(),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Tags\",\r\n      dataIndex: \"package\",\r\n      width: \"5%\",\r\n      render: (pack: Array<any> = []) => (\r\n        <AntTag>{reduceSegmentsTags(pack)}</AntTag>\r\n      ),\r\n      align: \"center\",\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Modal\r\n      title=\"Video Feed\"\r\n      visible={!!selectedRecord}\r\n      footer={null}\r\n      width=\"800px\"\r\n      onOk={onClose}\r\n      onCancel={onClose}\r\n      okButtonProps={{ loading: loading }}\r\n      forceRender\r\n    >\r\n      <div className=\"feed-mixer\">\r\n        <Table\r\n          rowKey=\"id\"\r\n          columns={columns}\r\n          dataSource={userFeed}\r\n          loading={loading}\r\n        />\r\n      </div>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default FanFeedModal;\r\n","import { EditOutlined, SettingOutlined, OrderedListOutlined, } from \"@ant-design/icons\";\r\nimport { Button, Col, PageHeader, Row, Table, Tag } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport CopyIdToClipboard from \"components/CopyIdToClipboard\";\r\nimport EditMultipleButton from \"components/EditMultipleButton\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport { FanGroup } from \"interfaces/FanGroup\";\r\nimport EditFanModal from \"pages/fans/EditFanModal\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchFanGroups, fetchFans } from \"services/DiscoClubService\";\r\nimport FanAPITestModal from \"./FanAPITestModal\";\r\nimport FanFeedModal from \"./FanFeedModal\";\r\n\r\nconst tagColorByPermission: any = {\r\n  Admin: \"green\",\r\n  Temp: \"blue\",\r\n  Fan: \"\",\r\n};\r\n\r\nconst Fans: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState<any[]>([]);\r\n  const [fanAPITest, setFanAPITest] = useState<Fan | null>(null);\r\n  const [fanFeedModal, setFanFeedModal] = useState<Fan | null>(null);\r\n  const [fanGroups, setFanGroups] = useState<FanGroup[]>([]);\r\n\r\n  const { doFetch } = useRequest({ setLoading });\r\n\r\n  const {\r\n    setArrayList: setFans,\r\n    filteredArrayList: filteredFans,\r\n    addFilterFunction,\r\n  } = useFilter<Fan>([]);\r\n\r\n  const getFansGroups = async () => {\r\n    const { results } = await doFetch(() => fetchFanGroups());\r\n    setFanGroups(results);\r\n  };\r\n\r\n  const getFans = async () => {\r\n    const { results } = await doFetch(() => fetchFans());\r\n    setFans(results);\r\n  };\r\n\r\n  const getResources = async () => {\r\n    await Promise.all([getFans(), getFansGroups()]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"fanName\", (fans) =>\r\n      fans.filter((fan) => {\r\n        fan.name = fan.name || \"\";\r\n        const searchText = filterText.toUpperCase();\r\n        return (\r\n          fan.name.toUpperCase().includes(searchText) ||\r\n          fan.user.toUpperCase().includes(searchText)\r\n        );\r\n      })\r\n    );\r\n  };\r\n\r\n  const columns: ColumnsType<Fan> = [\r\n    {\r\n      title: \"_id\",\r\n      dataIndex: \"id\",\r\n      width: \"10%\",\r\n      render: (id) => <CopyIdToClipboard id={id} />,\r\n      align: \"center\",\r\n    },\r\n    { title: \"Name\", dataIndex: \"userName\", width: \"25%\", align: \"center\" },\r\n    { title: \"E-mail\", dataIndex: \"user\", width: \"25%\", align: \"center\" },\r\n    {\r\n      title: \"Profile\",\r\n      dataIndex: \"profile\",\r\n      width: \"10%\",\r\n      render: (profile = \"Fan\") => (\r\n        <Tag color={tagColorByPermission[profile]}>{profile}</Tag>\r\n      ),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Group\",\r\n      dataIndex: \"fanGroup\",\r\n      width: \"10%\",\r\n      render: (_, record) => {\r\n        const fanGroupName =\r\n          fanGroups.find((fanGroup) => fanGroup.id === record.fanGroup)?.name ||\r\n          \"\";\r\n        return (\r\n          <Tag color={tagColorByPermission[record.profile]}>{fanGroupName}</Tag>\r\n        );\r\n      },\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"10%\",\r\n      align: \"right\",\r\n      render: (_, record) => (\r\n        <>\r\n          <Link to={{ pathname: `/fan`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Button\r\n            onClick={() => setFanAPITest(record)}\r\n            type=\"link\"\r\n            style={{ padding: 0, margin: \"6px 0 6px 6px\" }}\r\n          >\r\n            <SettingOutlined />\r\n          </Button>\r\n          <Button\r\n            onClick={() => setFanFeedModal(record)}\r\n            type=\"link\"\r\n            style={{ padding: 0, margin: \"6px 0 6px 6px\" }}\r\n          >\r\n            <OrderedListOutlined />\r\n          </Button>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const handleEditFans = async () => {\r\n    await getResources();\r\n    setSelectedRowKeys([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fans\">\r\n      <PageHeader\r\n        title=\"Fans\"\r\n        subTitle=\"List of Fans\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/fan\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row align=\"bottom\" justify=\"space-between\">\r\n        <Col lg={16} xs={24}>\r\n          <Row gutter={8}>\r\n            <Col lg={8} xs={16}>\r\n              <SearchFilter\r\n                filterFunction={searchFilterFunction}\r\n                label=\"Search by Email\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <EditMultipleButton\r\n          text=\"Edit Fans\"\r\n          arrayList={filteredFans}\r\n          ModalComponent={EditFanModal}\r\n          selectedRowKeys={selectedRowKeys}\r\n          onOk={handleEditFans}\r\n        />\r\n      </Row>\r\n      <FanAPITestModal\r\n        selectedRecord={fanAPITest}\r\n        setSelectedRecord={setFanAPITest}\r\n      />\r\n      <FanFeedModal\r\n        selectedRecord={fanFeedModal}\r\n        setSelectedRecord={setFanFeedModal}\r\n      />\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredFans}\r\n        loading={loading}\r\n        rowSelection={{\r\n          selectedRowKeys,\r\n          onChange: setSelectedRowKeys,\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nexport default Fans;\r\n","import React from \"react\";\r\n\r\ninterface BrandManagersProps {}\r\n\r\nconst BrandManagers: React.FC<BrandManagersProps> = () => {\r\n  return null;\r\n};\r\n\r\nexport default BrandManagers;\r\n","import { Button, Col, Form, Input, message, PageHeader, Row, Tabs } from \"antd\";\r\nimport { MinusCircleOutlined } from \"@ant-design/icons\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { saveSettings } from \"services/DiscoClubService\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getSettings } from \"reducers/settings\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst Settings: React.FC = () => {\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { settings } = useSelector((state: any) => state.settings);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    form.resetFields();\r\n  }, [settings, form]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getSettings());\r\n  }, [dispatch]);\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await saveSettings(form.getFieldsValue(true));\r\n      setLoading(false);\r\n      dispatch(getSettings());\r\n      message.success(\"Register updated with success.\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Settings\" subTitle=\"Configuration\" />\r\n      <Form\r\n        form={form}\r\n        name=\"settingsForm\"\r\n        layout=\"vertical\"\r\n        onFinish={onFinish}\r\n        initialValues={settings}\r\n      >\r\n        <Tabs defaultActiveKey=\"template\">\r\n          <TabPane tab=\"Template\" key=\"template\">\r\n            <ItemList name=\"template\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Category\" key=\"category\">\r\n            <ItemList name=\"category\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Click Sound\" key=\"clickSound\">\r\n            <ItemList name=\"clickSound\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Currency\" key=\"currency\">\r\n            <ItemList name=\"currency\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Market\" key=\"market\">\r\n            <ItemList name=\"market\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Language\" key=\"language\">\r\n            <ItemList name=\"language\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Status (Orders)\" key=\"orders\">\r\n            <ItemList name=\"order\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Status (Promotions)\" key=\"promoStatus\">\r\n            <ItemList name=\"promoStatus\" />\r\n          </TabPane>\r\n          <TabPane tab=\"Checkout Type\" key=\"checkoutType\">\r\n            <ItemList name=\"checkoutType\" />\r\n          </TabPane>\r\n        </Tabs>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"primary\" onClick={onFinish} loading={loading}>\r\n              Save Settings\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface ItemListProp {\r\n  name: string;\r\n}\r\n\r\nconst ItemList: React.FC<ItemListProp> = ({ name }) => (\r\n  <Form.List name={name}>\r\n    {(fields, { add, remove }) => (\r\n      <div>\r\n        <Button onClick={() => add()}>\r\n          Add {name.charAt(0).toUpperCase() + name.slice(1)}\r\n        </Button>\r\n        {fields.map((field) => (\r\n          <Row gutter={8} key={Math.random()}>\r\n            <Col lg={6} xs={24}>\r\n              <Form.Item\r\n                name={[field.name, \"name\"]}\r\n                fieldKey={[field.fieldKey, \"name\"]}\r\n                label=\"Name\"\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={6} xs={24}>\r\n              <Form.Item\r\n                name={[field.name, \"value\"]}\r\n                fieldKey={[field.fieldKey, \"value\"]}\r\n                label=\"Value\"\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col style={{ display: \"flex\", alignItems: \"center\" }}>\r\n              <MinusCircleOutlined onClick={() => remove(field.name)} />\r\n            </Col>\r\n          </Row>\r\n        ))}\r\n      </div>\r\n    )}\r\n  </Form.List>\r\n);\r\n\r\nexport default Settings;\r\n","import { Button, Col, PageHeader, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { Role } from \"interfaces/Role\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchProfiles } from \"services/DiscoClubService\";\r\nimport { EditOutlined } from \"@ant-design/icons\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\n\r\nconst Roles: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const {\r\n    setArrayList: setRoles,\r\n    filteredArrayList: filteredRoles,\r\n    addFilterFunction,\r\n  } = useFilter<Role>([]);\r\n\r\n  async function fetch() {\r\n    setLoading(true);\r\n    try {\r\n      const response: any = await fetchProfiles();\r\n      setRoles(response.results);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const columns: ColumnsType<Role> = [\r\n    { title: \"Name\", dataIndex: \"name\", width: \"15%\" },\r\n    { title: \"Description\", dataIndex: \"description\", width: \"15%\" },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (value, record) => (\r\n        <>\r\n          <Link to={{ pathname: `/role`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"roleName\", (roles) =>\r\n      roles.filter((role) =>\r\n        role.name.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"roles\">\r\n      <PageHeader\r\n        title=\"Roles\"\r\n        subTitle=\"List of Roles\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/role\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by Name\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredRoles}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Roles;\r\n","import { Button, Col, Form, Input, message, PageHeader, Row } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveRole } from \"services/DiscoClubService\";\r\n\r\nconst RoleDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const [loading, setLoading] = useState(false);\r\n  const initial: any = location.state;\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const role = form.getFieldsValue(true);\r\n      await saveRole(role);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/roles\");\r\n    } catch (error) {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Role Update\" subTitle=\"Role\" />\r\n      <Form\r\n        name=\"roleForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={8} xs={24}>\r\n            <Form.Item label=\"Name\" name=\"name\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item label=\"Description\" name=\"description\">\r\n              <Input.TextArea />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/roles\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button type=\"primary\" onClick={onFinish} loading={loading}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RoleDetail;\r\n","import { isAuthenticated } from \"helpers/authFunctions\";\r\nimport { Redirect, Route } from \"react-router\";\r\n\r\nconst AuthRoute: React.FC<any> = (props) => {\r\n  const {\r\n    children,\r\n    component: Component,\r\n    layout: Layout,\r\n    path,\r\n    returnComponent,\r\n    ...rest\r\n  } = props;\r\n  const authenticated = isAuthenticated();\r\n  if (!authenticated && path !== \"/login\") return <Redirect to=\"login\" />;\r\n  if (returnComponent) return Component;\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(routeProps) => (\r\n        <Layout>\r\n          <Component {...rest} path={path} {...routeProps} />\r\n        </Layout>\r\n      )}\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default AuthRoute;\r\n","import { Component, ErrorInfo, ReactNode } from \"react\";\r\n\r\ninterface Props {\r\n  fallbackComponent: ReactNode;\r\n  children: ReactNode;\r\n}\r\n\r\ninterface State {\r\n  hasError: boolean;\r\n}\r\n\r\nclass ErrorBoundary extends Component<Props, State> {\r\n  public state: State = {\r\n    hasError: false,\r\n  };\r\n\r\n  public static getDerivedStateFromError(_: Error): State {\r\n    // Update state so the next render will show the fallback UI.\r\n    return { hasError: true };\r\n  }\r\n\r\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error(\"Uncaught error:\", error, errorInfo);\r\n  }\r\n\r\n  public render() {\r\n    if (this.state.hasError) {\r\n      return this.props.fallbackComponent;\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import jwtDecode from \"jwt-decode\";\r\n\r\nconst jwt = {\r\n  decode(token: string) {\r\n    try {\r\n      return jwtDecode(token);\r\n    } catch (erro) {}\r\n  },\r\n};\r\nexport default jwt;\r\n","import { Button } from \"antd\";\r\nimport React from \"react\";\r\n\r\nconst ErrorPage = () => {\r\n  return (\r\n    <div style={{ height: \"100%\", width: \"100%\" }}>\r\n      <h1>Sorry... there was an error.</h1>\r\n      <Button type=\"primary\" onClick={() => window.location.reload()}>\r\n        Reload Page\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorPage;\r\n","import {\r\n  ApartmentOutlined,\r\n  CloudServerOutlined,\r\n  ControlOutlined,\r\n  DollarOutlined,\r\n  FireOutlined,\r\n  FundOutlined,\r\n  GiftOutlined,\r\n  HeartFilled,\r\n  OrderedListOutlined,\r\n  SettingOutlined,\r\n  // AppstoreAddOutlined,\r\n  ShoppingCartOutlined,\r\n  SoundOutlined,\r\n  SwitcherOutlined,\r\n  TagOutlined,\r\n  TeamOutlined,\r\n  UserOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Menu } from \"antd\";\r\nimport SubMenu from \"antd/lib/menu/SubMenu\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminSideMenu = () => {\r\n  return (\r\n    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"dashboard\"]}>\r\n      <Menu.Item key=\"dashboard\" icon={<FundOutlined />}>\r\n        <Link to=\"/dashboard\">Dashboard</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"brands\" icon={<FundOutlined />}>\r\n        <Link to=\"/brands\">Brands</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"products\" icon={<TagOutlined />}>\r\n        <Link to=\"/products\">Products</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"staging-products\" icon={<TagOutlined />}>\r\n        <Link to=\"/staging-products\">Staging</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"2\" icon={<HeartFilled />}>\r\n        <Link to=\"/feed\">Videos Feed</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"feed-mixer\" icon={<OrderedListOutlined />}>\r\n        <Link to=\"/feed-mixer\">Feed Mixer</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"orders\" icon={<ShoppingCartOutlined />}>\r\n        <Link to=\"/orders\">Orders</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"wallets\" icon={<DollarOutlined />}>\r\n        <Link to=\"/wallets\">Wallets</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key=\"transactions\" icon={<DollarOutlined />}>\r\n        <Link to=\"/transactions\">Transactions</Link>\r\n      </Menu.Item>\r\n      <SubMenu key=\"marketing\" icon={<FireOutlined />} title=\"Marketing\">\r\n        <Menu.Item key=\"promotions\" icon={<SoundOutlined />}>\r\n          <Link to=\"/promotions\">Promotions</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"promo-displays\" icon={<GiftOutlined />}>\r\n          <Link to=\"/promo-displays\">Shop Display</Link>\r\n        </Menu.Item>\r\n      </SubMenu>\r\n      <SubMenu key=\"users\" icon={<TeamOutlined />} title=\"Users\">\r\n        <Menu.Item key=\"fans\" icon={<UserOutlined />}>\r\n          <Link to=\"/fans\">Fans</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"creators\" icon={<UserOutlined />}>\r\n          <Link to=\"/creators\">Creators</Link>\r\n        </Menu.Item>\r\n        {/* <Menu.Item key=\"brand-managers\" icon={<UserOutlined />}>\r\n          <Link to=\"/brand-managers\">Brand Managers</Link>\r\n        </Menu.Item> */}\r\n      </SubMenu>\r\n      <SubMenu key=\"sub-settings\" icon={<SettingOutlined />} title=\"Settings\">\r\n        <Menu.Item key=\"endpoints\" icon={<CloudServerOutlined />}>\r\n          <Link to=\"/endpoints\">Endpoints</Link>\r\n        </Menu.Item>\r\n        {/* <Menu.Item key=\"interfaces\" icon={<AppstoreAddOutlined />}>\r\n        <Link to=\"/interfaces\">Interfaces</Link>\r\n      </Menu.Item> */}\r\n        <Menu.Item key=\"roles\" icon={<ApartmentOutlined />}>\r\n          <Link to=\"/roles\">Roles</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"settings\" icon={<SettingOutlined />}>\r\n          <Link to=\"/settings\">Settings</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"access-control\" icon={<ControlOutlined />}>\r\n          <Link to=\"/access-control\">Access Control</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"tags\" icon={<TagOutlined />}>\r\n          <Link to=\"/tags\">Tags</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"categories\" icon={<SwitcherOutlined />}>\r\n          <Link to=\"/categories\">Categories</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"interests\" icon={<SwitcherOutlined />}>\r\n          <Link to=\"/interests\">Interests</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"promo-codes\" icon={<SwitcherOutlined />}>\r\n          <Link to=\"/promo-codes\">Promo Codes</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"dd-templates\" icon={<SwitcherOutlined />}>\r\n          <Link to=\"/dd-templates\">DD Templates</Link>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"fan-groups\" icon={<SwitcherOutlined />}>\r\n          <Link to=\"/fan-groups\">Fans Groups</Link>\r\n        </Menu.Item>\r\n      </SubMenu>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default AdminSideMenu;\r\n","import { TagOutlined } from \"@ant-design/icons\";\r\nimport { Menu } from \"antd\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminSideMenu = () => {\r\n  return (\r\n    <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={[\"staging-list\"]}>\r\n      <Menu.Item key=\"staging-list\" icon={<TagOutlined />}>\r\n        <Link to=\"/staging-list\">Products</Link>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default AdminSideMenu;\r\n","import { Button, Col, Layout, Row, Typography } from \"antd\";\r\nimport ErrorBoundary from \"components/ErrorBoundary\";\r\nimport jwt from \"helpers/jwt\";\r\nimport { useBuildTarget } from \"hooks/useBuildTarget\";\r\nimport ErrorPage from \"pages/error/ErrorPage\";\r\nimport { Link, RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport \"./AuthenticatedLayout.scss\";\r\nimport AdminSideMenu from \"./SideMenus/AdminSideMenu\";\r\nimport BrandManagerSideMenu from \"./SideMenus/BrandManagerSideMenu\";\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\nconst AuthenticatedLayout: React.FC<RouteComponentProps> = (props) => {\r\n  const { children, history } = props;\r\n\r\n  const appName = useBuildTarget({\r\n    ADMIN: \"Disco Admin\",\r\n    BRAND_MANAGER: \"Brand Manager\",\r\n  });\r\n\r\n  const logout = () => {\r\n    localStorage.clear();\r\n    history.push(\"/login\");\r\n  };\r\n\r\n  const getUserName = () => {\r\n    const user: any = jwt.decode(localStorage.getItem(\"token\") || \"\");\r\n    return user.name;\r\n  };\r\n\r\n  return (\r\n    <Layout>\r\n      <Header className=\"header\">\r\n        <h2 style={{ width: \"65%\" }}>\r\n          <Link to=\"/\">\r\n            {\" \"}\r\n            {appName} <small style={{ fontSize: 10 }}>v 1.22.06.1756</small>\r\n          </Link>\r\n        </h2>\r\n        <Row style={{ width: \"35%\" }} justify=\"end\" wrap={false}>\r\n          <div>\r\n            <Col xs={0} md={24} style={{ textAlign: \"end\" }}>\r\n              <Typography.Text style={{ color: \"white\" }}>\r\n                {getUserName()}\r\n              </Typography.Text>\r\n            </Col>\r\n          </div>\r\n          <div>\r\n            <Button onClick={logout} type=\"link\">\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        </Row>\r\n      </Header>\r\n      <Layout className=\"site-layout\">\r\n        <Sider\r\n          breakpoint=\"lg\"\r\n          collapsedWidth=\"0\"\r\n          style={{\r\n            minHeight: \"calc(100vh - 64px)\",\r\n          }}\r\n        >\r\n          {useBuildTarget({\r\n            ADMIN: <AdminSideMenu />,\r\n            BRAND_MANAGER: <BrandManagerSideMenu />,\r\n          })}\r\n        </Sider>\r\n        <Content\r\n          className=\"site-layout-background\"\r\n          style={{\r\n            margin: \"24px 16px\",\r\n            padding: 24,\r\n            minHeight: 280,\r\n          }}\r\n        >\r\n          <ErrorBoundary fallbackComponent={ErrorPage()}>\r\n            {children}\r\n          </ErrorBoundary>\r\n        </Content>\r\n      </Layout>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default withRouter(AuthenticatedLayout);\r\n","import { Layout } from \"antd\";\r\nimport \"./AuthenticatedLayout.scss\";\r\nconst { Content } = Layout;\r\n\r\nconst OpenLayout: React.FC = (props) => {\r\n  const { children } = props;\r\n  return (\r\n    <Layout style={{ height: \"100vh\" }}>\r\n      <Content\r\n        style={{\r\n          margin: \"24px 16px\",\r\n          padding: 24,\r\n          minHeight: 280,\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n        }}>\r\n        {children}\r\n      </Content>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default OpenLayout;\r\n","import { Form, message, Modal, Select, Typography } from \"antd\";\r\nimport { Privilege } from \"interfaces/Privilege\";\r\nimport { savePrivileges } from \"services/DiscoClubService\";\r\n\r\ninterface CloneModalProps {\r\n  showCloneModal: boolean;\r\n  setShowCloneModal: (visible: boolean) => void;\r\n  selectedProfile: string | undefined;\r\n  privileges: Privilege[];\r\n  profiles: string[];\r\n}\r\n\r\nconst CloneModal: React.FC<CloneModalProps> = ({\r\n  showCloneModal,\r\n  setShowCloneModal,\r\n  selectedProfile,\r\n  privileges,\r\n  profiles,\r\n}) => {\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = () => {\r\n    form.validateFields().then(async ({ profile }) => {\r\n      const clonedPrivileges = privileges.filter(\r\n        (privilege) => privilege.profile === selectedProfile\r\n      );\r\n      const profilePrivileges = privileges.filter(\r\n        (privilege) => privilege.profile === profile\r\n      );\r\n      const profilesToSave = profilePrivileges.reduce(\r\n        (prev: Privilege[], curr) => {\r\n          const currPrivilege = { ...curr };\r\n          const indexClone = clonedPrivileges.findIndex(\r\n            (privilege) => privilege.app === currPrivilege.app\r\n          );\r\n          if (indexClone > -1) {\r\n            const [privilegeClone] = clonedPrivileges.splice(indexClone, 1);\r\n            currPrivilege.privileges = privilegeClone.privileges;\r\n          }\r\n          prev.push(currPrivilege);\r\n          return prev;\r\n        },\r\n        []\r\n      );\r\n\r\n      profilesToSave.push(\r\n        ...clonedPrivileges.map(({ app, isEndpoint, privileges }) => ({\r\n          app,\r\n          isEndpoint,\r\n          privileges,\r\n          profile: profile,\r\n        }))\r\n      );\r\n      profilesToSave.forEach(async (profile) => {\r\n        const response: any = await savePrivileges(profile);\r\n        if (response.success) message.success(\"Profile clone was successfull\");\r\n        else message.error(response.error);\r\n      });\r\n\r\n      setShowCloneModal(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      visible={showCloneModal}\r\n      onCancel={() => setShowCloneModal(false)}\r\n      title=\"Clone profile\"\r\n      onOk={() => form.submit()}\r\n      forceRender>\r\n      <Form onFinish={onFinish} layout=\"vertical\" form={form}>\r\n        <Typography.Title level={5}>\r\n          {`Cloning `}\r\n          <Typography.Text strong> {`${selectedProfile}`}</Typography.Text>\r\n        </Typography.Title>\r\n        <Form.Item name=\"profile\" label=\"Profile\" rules={[{ required: true }]}>\r\n          <Select\r\n            placeholder=\"Select a profile to save\"\r\n            style={{ width: \"100%\" }}\r\n            value={selectedProfile}>\r\n            {profiles\r\n              .filter((profile) => profile !== selectedProfile)\r\n              .map((profie: any) => (\r\n                <Select.Option key={profie} value={profie}>\r\n                  {profie}\r\n                </Select.Option>\r\n              ))}\r\n          </Select>\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default CloneModal;\r\n","import {\r\n  Button,\r\n  Checkbox,\r\n  Col,\r\n  Form,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Select,\r\n  Spin,\r\n  Tabs,\r\n  Typography,\r\n} from \"antd\";\r\nimport { Role } from \"interfaces/Role\";\r\nimport { useEffect, useState, useCallback } from \"react\";\r\nimport {\r\n  fetchPrivileges,\r\n  fetchProfiles,\r\n  fetchEndpoints,\r\n  savePrivileges,\r\n  deletePrivileges,\r\n} from \"services/DiscoClubService\";\r\nimport CloneModal from \"./CloneModal\";\r\nimport { Privilege } from \"interfaces/Privilege\";\r\nimport { Endpoint } from \"interfaces/Endpoint\";\r\nimport { CheckboxChangeEvent } from \"antd/lib/checkbox\";\r\n\r\nconst { TabPane } = Tabs;\r\nconst { Text } = Typography;\r\n\r\nconst methodsList = [\"All\", \"Search\", \"GetById\", \"Insert\", \"Update\", \"Remove\"];\r\n\r\ninterface endpointPrivilege {\r\n  privilege: Privilege | undefined;\r\n  endpoint: Endpoint;\r\n}\r\n\r\nconst AccessControl: React.FC = () => {\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  const [profiles, setProfiles] = useState<string[]>([]);\r\n\r\n  const [selectedProfile, setSelectedProfile] = useState<string>(\"\");\r\n  const [selectedMethod, setSelectedMethod] = useState<string>(\"All\");\r\n\r\n  const [endpoints, setEndpoints] = useState<Endpoint[]>([]);\r\n  const [privileges, setPrivileges] = useState<Privilege[]>([]);\r\n  const [endpointPrivileges, setEndpointPrivileges] = useState<\r\n    endpointPrivilege[]\r\n  >([]);\r\n\r\n  const [showCloneModal, setShowCloneModal] = useState<boolean>(false);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const getPrivileges = async (selectedProfile: string) => {\r\n    try {\r\n      const response: any = await fetchPrivileges(selectedProfile);\r\n      setPrivileges(response.results);\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const getEndpoints = useCallback(async () => {\r\n    try {\r\n      const response: any = await fetchEndpoints();\r\n      setEndpoints(response.results);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  const getProfiles = useCallback(async () => {\r\n    try {\r\n      const response: any = await fetchProfiles();\r\n      const prof = response.results.map((profile: Role) => profile.name);\r\n      setProfiles(prof);\r\n      setSelectedProfile(prof[1]);\r\n      getPrivileges(prof[1]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getResources = async () => {\r\n      await Promise.all([getEndpoints(), getProfiles()]);\r\n    };\r\n    getResources();\r\n  }, [getProfiles, getEndpoints]);\r\n\r\n  useEffect(() => {\r\n    const filteredEndpoints =\r\n      selectedMethod === \"All\"\r\n        ? endpoints\r\n        : endpoints.filter((endpoint) => endpoint.action === selectedMethod);\r\n\r\n    const filteredPrivileges = privileges.filter(\r\n      (privilege) => privilege.isEndpoint\r\n    );\r\n\r\n    setEndpointPrivileges(\r\n      filteredEndpoints.map((endpoint) => {\r\n        return {\r\n          endpoint,\r\n          privilege: filteredPrivileges.find(\r\n            (privilege) => privilege.app === endpoint.name\r\n          ),\r\n        };\r\n      })\r\n    );\r\n  }, [endpoints, privileges, selectedMethod, setEndpointPrivileges]);\r\n\r\n  const onFinish = () => {\r\n    console.log(\"finish\");\r\n  };\r\n\r\n  const onCloneClick = () => {\r\n    setShowCloneModal(true);\r\n  };\r\n\r\n  const onChangeProfile = (value: string) => {\r\n    setLoading(true);\r\n    getPrivileges(value);\r\n    setSelectedProfile(value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Access Control\" />\r\n      <Row gutter={8}>\r\n        <Col xxl={4} lg={6} xs={18}>\r\n          <Select\r\n            placeholder=\"please select a profile\"\r\n            style={{ width: \"100%\" }}\r\n            onChange={onChangeProfile}\r\n            value={selectedProfile}\r\n          >\r\n            {profiles.map((profie: any) => (\r\n              <Select.Option key={profie} value={profie}>\r\n                {profie}\r\n              </Select.Option>\r\n            ))}\r\n          </Select>\r\n        </Col>\r\n        <Col xs={6}>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={onCloneClick}\r\n            disabled={!selectedProfile}\r\n          >\r\n            Clone\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <Form\r\n        form={form}\r\n        name=\"accessControlForm\"\r\n        layout=\"vertical\"\r\n        onFinish={onFinish}\r\n      >\r\n        <Tabs\r\n          defaultActiveKey=\"template\"\r\n          style={{ width: \"100%\" }}\r\n          onChange={setSelectedMethod}\r\n        >\r\n          {methodsList.map((method, index) => (\r\n            <TabPane tab={method} key={method}>\r\n              <Row gutter={24}>\r\n                {loading ? (\r\n                  <Spin style={{ margin: \"0 auto\" }} />\r\n                ) : (\r\n                  endpointPrivileges.map((data, _index) => (\r\n                    <FunctionPrivilege\r\n                      endpointPrivilege={data}\r\n                      profile={selectedProfile}\r\n                      key={`position_${_index}`}\r\n                    />\r\n                  ))\r\n                )}\r\n              </Row>\r\n            </TabPane>\r\n          ))}\r\n        </Tabs>\r\n      </Form>\r\n      <CloneModal\r\n        showCloneModal={showCloneModal}\r\n        setShowCloneModal={setShowCloneModal}\r\n        selectedProfile={selectedProfile}\r\n        profiles={profiles}\r\n        privileges={privileges}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\ninterface FunctionPrivilegeProps {\r\n  endpointPrivilege: endpointPrivilege;\r\n  profile: string;\r\n}\r\n\r\nconst FunctionPrivilege: React.FC<FunctionPrivilegeProps> = ({\r\n  endpointPrivilege,\r\n  profile,\r\n}) => {\r\n  const { privilege: initialPrivilege, endpoint } = endpointPrivilege;\r\n\r\n  const [privilege, setPrevilege] = useState<Privilege>(\r\n    initialPrivilege || {\r\n      app: endpoint.name,\r\n      privileges: \"\",\r\n      profile: profile,\r\n      isEndpoint: true,\r\n    }\r\n  );\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const onChangePermission = async (value: CheckboxChangeEvent) => {\r\n    setLoading(true);\r\n    if (value.target.checked) {\r\n      const _privilege = { ...privilege, privileges: \"ADULM\" };\r\n      await savePrivileges(_privilege);\r\n      setPrevilege(_privilege);\r\n    } else {\r\n      await deletePrivileges(privilege);\r\n      const _privilege = { ...privilege, privileges: \"\" };\r\n      setPrevilege(_privilege);\r\n    }\r\n    message.success(\"Changes saved!\");\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <Col lg={8} md={12} xs={24} style={{ margin: \"8px 0\" }}>\r\n      <Spin spinning={loading}>\r\n        <Checkbox\r\n          checked={privilege.privileges === \"ADULM\"}\r\n          onChange={onChangePermission}\r\n        >\r\n          <Text>{endpoint.name}</Text>\r\n        </Checkbox>\r\n      </Spin>\r\n    </Col>\r\n  );\r\n};\r\n\r\nexport default AccessControl;\r\n","import {\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n  SearchOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Dropdown,\r\n  Image as AntImage,\r\n  Input,\r\n  Menu,\r\n  PageHeader,\r\n  Popconfirm,\r\n  Space,\r\n  Table,\r\n  Tabs,\r\n} from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { categoriesSettings } from \"helpers/utils\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport {\r\n  AllCategories,\r\n  AllCategoriesAPI,\r\n  ProductCategory,\r\n} from \"interfaces/Category\";\r\nimport { Image } from \"interfaces/Image\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { productCategoriesAPI } from \"services/DiscoClubService\";\r\n\r\nconst { categoriesKeys, categoriesFields } = categoriesSettings;\r\n\r\nconst Categories: React.FC<RouteComponentProps> = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { fetchAllCategories, allCategories } = useAllCategories({\r\n    setLoading,\r\n  });\r\n  const [selectedTab, setSelectedTab] = useState<string>(\"Super Category\");\r\n\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [searchedColumn, setSearchedColumn] = useState<string>(\"\");\r\n  const searchInput = useRef<Input>(null);\r\n\r\n  useEffect(() => {\r\n    fetchAllCategories();\r\n  }, [fetchAllCategories]);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    try {\r\n      setLoading(true);\r\n      const selectedField = categoriesFields[\r\n        categoriesKeys.indexOf(selectedTab)\r\n      ] as keyof AllCategoriesAPI;\r\n      await productCategoriesAPI[\r\n        selectedField as keyof AllCategoriesAPI\r\n      ].delete({\r\n        id,\r\n      });\r\n      fetchAllCategories();\r\n    } catch (err) {\r\n      console.log(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (selectedKeys: any, confirm: any, dataIndex: any) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex);\r\n  };\r\n\r\n  const handleReset = (clearFilters: any) => {\r\n    clearFilters();\r\n    setSearchText(\"\");\r\n  };\r\n\r\n  const getColumnSearchProps = (dataIndex: string) => ({\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters,\r\n    }: {\r\n      setSelectedKeys: any;\r\n      selectedKeys: any;\r\n      confirm: any;\r\n      clearFilters: any;\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ marginBottom: 8, display: \"block\" }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              confirm({ closeDropdown: false });\r\n              setSearchText(selectedKeys[0]);\r\n              setSearchedColumn(dataIndex);\r\n            }}\r\n          >\r\n            Filter\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered: any) => (\r\n      <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />\r\n    ),\r\n    onFilter: (value: any, record: any) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex]\r\n            .toString()\r\n            .toLowerCase()\r\n            .includes(value.toLowerCase())\r\n        : \"\",\r\n    onFilterDropdownVisibleChange: (visible: any) => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current!.select(), 100);\r\n      }\r\n    },\r\n    render: (text: any) =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : \"\"}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  const columns: ColumnsType<ProductCategory> = [\r\n    {\r\n      title: \"Name\",\r\n      width: \"15%\",\r\n      ...getColumnSearchProps(\r\n        categoriesFields[\r\n          categoriesKeys.indexOf(selectedTab)\r\n        ] as keyof ProductCategory\r\n      ),\r\n      render: (_, record) => (\r\n        <>\r\n          {\r\n            record[\r\n              categoriesFields[\r\n                categoriesKeys.indexOf(selectedTab)\r\n              ] as keyof ProductCategory\r\n            ]\r\n          }\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Image\",\r\n      dataIndex: \"image\",\r\n      width: \"15%\",\r\n      render: (image: Image) => <AntImage src={image?.url} width={70} />,\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record) => (\r\n        <>\r\n          <Link\r\n            to={{\r\n              pathname: `/category`,\r\n              search: `?category-level=${categoriesKeys.indexOf(selectedTab)}`,\r\n              state: record,\r\n            }}\r\n          >\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const handleTabChange = (value: string) => {\r\n    setSelectedTab(value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"categories\">\r\n      <PageHeader\r\n        title=\"Categories\"\r\n        subTitle=\"List of categories\"\r\n        extra={[\r\n          <Dropdown\r\n            overlay={\r\n              <Menu>\r\n                {categoriesKeys.map((key, index) => (\r\n                  <Menu.Item>\r\n                    <Link\r\n                      to={{\r\n                        pathname: `/category`,\r\n                        search: `?category-level=${index}`,\r\n                      }}\r\n                    >\r\n                      {key}\r\n                    </Link>\r\n                  </Menu.Item>\r\n                ))}\r\n              </Menu>\r\n            }\r\n            trigger={[\"click\"]}\r\n          >\r\n            <Button>New Item</Button>\r\n          </Dropdown>,\r\n        ]}\r\n      />\r\n      <Tabs onChange={handleTabChange}>\r\n        {categoriesKeys.map((key) => (\r\n          <Tabs.TabPane tab={key} key={key}>\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={columns}\r\n              dataSource={allCategories[key as keyof AllCategories]}\r\n              loading={loading}\r\n            />\r\n          </Tabs.TabPane>\r\n        ))}\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n","import React, { useEffect } from \"react\";\r\nimport { Form, Input, Button, Row, Col, FormInstance } from \"antd\";\r\nimport { MinusOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport { SearchTag } from \"interfaces/SearchTag\";\r\n\r\nconst searchTagFactory = (tagAsString?: string): SearchTag => ({\r\n  name: tagAsString ? tagAsString.split(\":\")[0] : \"\",\r\n  value: tagAsString ? tagAsString.split(\":\")[1] : \"\",\r\n});\r\n\r\nconst SearchTags = ({\r\n  form,\r\n  tagsAsStrings = [],\r\n}: {\r\n  form: FormInstance<any>;\r\n  tagsAsStrings?: string[];\r\n}) => {\r\n  useEffect(() => {\r\n    const searchTags = tagsAsStrings.length\r\n      ? tagsAsStrings.map(searchTagFactory)\r\n      : [searchTagFactory()];\r\n    form.setFieldsValue({ searchTags });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const add = () => {\r\n    form.setFieldsValue({\r\n      searchTags: [...form.getFieldValue(\"searchTags\"), searchTagFactory()],\r\n    });\r\n  };\r\n\r\n  const del = (index: number) => {\r\n    form.setFieldsValue({\r\n      searchTags: [\r\n        ...form.getFieldValue(\"searchTags\").slice(0, index),\r\n        ...form.getFieldValue(\"searchTags\").slice(index + 1),\r\n      ],\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form.Item\r\n      shouldUpdate={(prevValues, curValues) =>\r\n        prevValues.searchTags !== curValues.searchTags\r\n      }\r\n    >\r\n      {({ getFieldValue }) =>\r\n        getFieldValue(\"searchTags\")?.map((_: SearchTag, index: number) => (\r\n          <Row gutter={8} key={index}>\r\n            <Col xs={10}>\r\n              <Form.Item label=\"Tag Name\" name={[\"searchTags\", index, \"name\"]}>\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col xs={10}>\r\n              <Form.Item\r\n                label=\"Tag Value\"\r\n                name={[\"searchTags\", index, \"value\"]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col xs={4} style={{ marginTop: \"24px\" }}>\r\n              {index === form.getFieldValue(\"searchTags\").length - 1 ? (\r\n                <Button\r\n                  onClick={add}\r\n                  type=\"link\"\r\n                  style={{ padding: 0, margin: 6 }}\r\n                >\r\n                  <PlusOutlined />\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  onClick={() => del(index)}\r\n                  type=\"link\"\r\n                  style={{ padding: 0, margin: 6 }}\r\n                >\r\n                  <MinusOutlined />\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        ))\r\n      }\r\n    </Form.Item>\r\n  );\r\n};\r\nexport default SearchTags;\r\n","import { Button, Col, Form, Input, PageHeader, Row, Select } from \"antd\";\r\nimport { Upload } from \"components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { productCategoriesAPI } from \"services/DiscoClubService\";\r\n\r\nimport { SearchTag } from \"interfaces/SearchTag\";\r\nimport SearchTags from \"./SearchTags\";\r\nimport { categoriesSettings } from \"helpers/utils\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport {\r\n  AllCategories,\r\n  AllCategoriesAPI,\r\n  ProductCategory,\r\n} from \"interfaces/Category\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\n\r\nconst { categoriesKeys, categoriesArray, categoriesFields } =\r\n  categoriesSettings;\r\n\r\nconst CategoryDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const initial: any = location.state;\r\n  const params = new URLSearchParams(location.search);\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  const categoryLevel = Number(params.get(\"category-level\"));\r\n  const categoryUpdateName = categoriesKeys[categoryLevel];\r\n  const categoryField = categoriesFields[categoryLevel];\r\n\r\n  const { fetchAllCategories, filteredCategories, filterCategory } =\r\n    useAllCategories({\r\n      setLoading,\r\n      initialValues: initial\r\n        ? {\r\n            superCategory: initial.superCategory,\r\n            category: initial.category,\r\n            subCategory: initial.subCategory,\r\n            subSubCategory: initial.subSubCategory,\r\n          }\r\n        : undefined,\r\n    });\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    fetchAllCategories();\r\n  }, [fetchAllCategories]);\r\n\r\n  const convertTagsIntoStrings = (searchTag: SearchTag): string => {\r\n    return `${searchTag.name}:${searchTag.value}`;\r\n  };\r\n\r\n  const onFinish = async () => {\r\n    const category = {\r\n      ...form.getFieldsValue(true),\r\n      searchTags: form\r\n        .getFieldValue(\"searchTags\")\r\n        .map(convertTagsIntoStrings)\r\n        .filter((str: string) => str.length > 1),\r\n    };\r\n    await doRequest(() =>\r\n      productCategoriesAPI[categoryField as keyof AllCategoriesAPI].save(\r\n        category\r\n      )\r\n    );\r\n    history.push(\"/categories\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title={`${categoryUpdateName} Update`} subTitle=\"Category\" />\r\n      <Form\r\n        name=\"categoryForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        onFinish={onFinish}\r\n        initialValues={initial}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            {categoriesArray\r\n              .filter((_, index) => index < categoryLevel + 1)\r\n              .map(({ key, field }, _index) => (\r\n                <Form.Item\r\n                  label={key}\r\n                  name={field}\r\n                  rules={[{ required: true }]}\r\n                >\r\n                  {_index < categoryLevel ? (\r\n                    <Select\r\n                      disabled={\r\n                        !filteredCategories[key as keyof AllCategories].length\r\n                      }\r\n                      // allowClear={true}\r\n                      placeholder=\"Please select a category\"\r\n                      onChange={(_, option: any) =>\r\n                        filterCategory(\r\n                          option?.children as string,\r\n                          key,\r\n                          (_field) => {\r\n                            if (\r\n                              categoriesFields.indexOf(_field) < categoryLevel\r\n                            )\r\n                              form.setFieldsValue({ [_field]: \"\" });\r\n                          }\r\n                        )\r\n                      }\r\n                    >\r\n                      {(\r\n                        filteredCategories[\r\n                          key as keyof AllCategories\r\n                        ] as unknown as ProductCategory[]\r\n                      ).map((category) => (\r\n                        <Select.Option\r\n                          key={category.id}\r\n                          value={\r\n                            category[field as keyof ProductCategory] as string\r\n                          }\r\n                        >\r\n                          {category[field as keyof ProductCategory]}\r\n                        </Select.Option>\r\n                      ))}\r\n                    </Select>\r\n                  ) : (\r\n                    <Input></Input>\r\n                  )}\r\n                </Form.Item>\r\n              ))}\r\n            <SearchTags form={form} tagsAsStrings={initial?.searchTags} />\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Image\">\r\n              <Upload.ImageUpload\r\n                maxCount={1}\r\n                fileList={initial?.image}\r\n                form={form}\r\n                formProp=\"image\"\r\n              />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/categories\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategoryDetail;\r\n","import { CalendarOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Select,\r\n  Space,\r\n  Table,\r\n} from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SelectBrand } from \"components/SelectBrand\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport { Order } from \"interfaces/Order\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchFans, fetchOrders, saveOrder } from \"services/DiscoClubService\";\r\nimport useFilter from \"hooks/useFilter\";\r\n\r\nconst Orders: React.FC<RouteComponentProps> = () => {\r\n  const [tableloading, setTableLoading] = useState<boolean>(false);\r\n  const [orderUpdateList, setOrderUpdateList] = useState<boolean[]>([]);\r\n\r\n  const {\r\n    arrayList: orders,\r\n    setArrayList: setOrders,\r\n    filteredArrayList: filteredOrders,\r\n    addFilterFunction,\r\n    removeFilterFunction,\r\n  } = useFilter<Order>([]);\r\n\r\n  const [fans, setFans] = useState<Fan[]>([]);\r\n\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n\r\n  const searchInput = useRef<Input>(null);\r\n\r\n  const handleSearch = (selectedKeys: any, confirm: any, dataIndex: any) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n  };\r\n\r\n  const handleReset = (clearFilters: any) => {\r\n    clearFilters();\r\n    setSearchText(\"\");\r\n  };\r\n\r\n  const {\r\n    settings: { order: ordersSettings = [] },\r\n  } = useSelector((state: any) => state.settings);\r\n\r\n  const handleSelectChange = async (value: string, orderIndex: number) => {\r\n    const currentOrderUpdateList = [...orderUpdateList];\r\n    currentOrderUpdateList[orderIndex] = true;\r\n    setOrderUpdateList(currentOrderUpdateList);\r\n    await saveOrder({\r\n      ...orders[orderIndex],\r\n      stage: value,\r\n    });\r\n\r\n    const _orders = [...orders];\r\n    _orders[orderIndex].hLastUpdate = moment\r\n      .utc()\r\n      .format(\"YYYY-MM-DDTHH:mm:ss.SSSSSSSZ\");\r\n    setOrders(_orders);\r\n\r\n    message.success(\"Changes saved!\");\r\n    setOrderUpdateList((prev) => {\r\n      prev[orderIndex] = false;\r\n      return [...prev];\r\n    });\r\n  };\r\n\r\n  const handleDateChange = (values: any) => {\r\n    if (!values) {\r\n      removeFilterFunction(\"creationDate\");\r\n      return;\r\n    }\r\n    const startDate = moment(values[0], \"DD/MM/YYYY\").startOf(\"day\").utc();\r\n    const endDate = moment(values[1], \"DD/MM/YYYY\").endOf(\"day\").utc();\r\n    addFilterFunction(\"creationDate\", (orders: Order[]) =>\r\n      orders.filter(({ hCreationDate }) => {\r\n        return moment(hCreationDate).utc().isBetween(startDate, endDate);\r\n      })\r\n    );\r\n  };\r\n\r\n  const getFan = (fanId: string) => fans.find((fan) => fan.id === fanId);\r\n\r\n  const getColumnSearchProps = (dataIndex: any) => ({\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters,\r\n    }: {\r\n      setSelectedKeys: any;\r\n      selectedKeys: any;\r\n      confirm: any;\r\n      clearFilters: any;\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ marginBottom: 8, display: \"block\" }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              confirm({ closeDropdown: false });\r\n              setSearchText(selectedKeys[0]);\r\n            }}\r\n          >\r\n            Filter\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered: any) => (\r\n      <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />\r\n    ),\r\n    onFilter: (value: any, record: any) => {\r\n      const fan = getFan(record.userid);\r\n      return fan?.user.includes(value.toLowerCase()) || false;\r\n    },\r\n    onFilterDropdownVisibleChange: (visible: any) => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current!.select(), 100);\r\n      }\r\n    },\r\n    render: (userId: any) => {\r\n      const fan = getFan(userId);\r\n      return (\r\n        <Link to={{ pathname: `/fan`, state: fan }}>\r\n          <Highlighter\r\n            highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\r\n            searchWords={[searchText]}\r\n            autoEscape\r\n            textToHighlight={fan?.user || \"\"}\r\n          />\r\n        </Link>\r\n      );\r\n    },\r\n  });\r\n\r\n  const columns: ColumnsType<Order> = [\r\n    {\r\n      title: \"User\",\r\n      dataIndex: \"userid\",\r\n      width: \"10%\",\r\n      align: \"left\",\r\n      ...getColumnSearchProps(\"userid\"),\r\n    },\r\n    {\r\n      title: \"Paid\",\r\n      dataIndex: \"paid\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n      render: (value: boolean) => <b>{value ? \"Yes\" : \"No\"}</b>,\r\n    },\r\n    {\r\n      title: \"Amount / 100\",\r\n      dataIndex: \"amount\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n      render: (value: number) => `${value / 100}x`,\r\n    },\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: [\"product\", \"name\"],\r\n      width: \"12%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Creation\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      filterIcon: <CalendarOutlined />,\r\n      filterDropdown: () => (\r\n        <DatePicker.RangePicker\r\n          style={{ padding: 8 }}\r\n          onChange={handleDateChange}\r\n        />\r\n      ),\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Disco Dollars\",\r\n      dataIndex: \"discoDollars\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Stage\",\r\n      dataIndex: \"stage\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      render: (value: string, _, index) => (\r\n        <Select\r\n          loading={orderUpdateList[index]}\r\n          disabled={orderUpdateList[index]}\r\n          defaultValue={value}\r\n          style={{ width: \"175px\" }}\r\n          onChange={(value) => handleSelectChange(value, index)}\r\n        >\r\n          {ordersSettings.map((ordersSetting: any) => (\r\n            <Select.Option\r\n              key={ordersSetting.value}\r\n              value={ordersSetting.value}\r\n            >\r\n              {ordersSetting.name}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Last Update\",\r\n      dataIndex: \"hLastUpdate\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n          {/* <div style={{ color: \"grey\" }}>({moment(value).fromNow()})</div> */}\r\n        </>\r\n      ),\r\n    },\r\n    // {\r\n    //   title: \"Actions\",\r\n    //   key: \"action\",\r\n    //   width: \"5%\",\r\n    //   align: \"right\",\r\n    //   render: (_, record) => (\r\n    //     <Link to={{ pathname: `/order`, state: record }}>\r\n    //       <EditOutlined />\r\n    //     </Link>\r\n    //   ),\r\n    // },\r\n  ];\r\n\r\n  const getOrders = async () => {\r\n    const response: any = await fetchOrders();\r\n    const orders = response.results.filter((order: Order) => !!order.product);\r\n    return orders;\r\n  };\r\n\r\n  const getFans = async () => {\r\n    const response: any = await fetchFans();\r\n    return response.results;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getResources = async () => {\r\n      setTableLoading(true);\r\n      const orders: Order[] = await getOrders();\r\n      const fans: Fan[] = await getFans();\r\n      const ordersWithFanName = orders.map((order) => {\r\n        const fan = fans.find((fan) => fan.id === order.userId);\r\n        order.fanName = fan?.name;\r\n        return order;\r\n      });\r\n      setOrders(ordersWithFanName);\r\n      setFans(fans);\r\n      setTableLoading(false);\r\n    };\r\n    getResources();\r\n  }, [setOrders]);\r\n\r\n  const onChangeBrand = async (_selectedBrand: Brand | undefined) => {\r\n    if (!_selectedBrand) {\r\n      removeFilterFunction(\"brandName\");\r\n      return;\r\n    }\r\n    addFilterFunction(\"brandName\", (orders) =>\r\n      orders.filter(\r\n        (order) => order.product?.brand.brandName === _selectedBrand.brandName\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"orders\">\r\n      <PageHeader title=\"Orders\" subTitle=\"List of Orders\" />\r\n      <Row gutter={8}>\r\n        <Col xxl={40} lg={6} xs={18}>\r\n          <SelectBrand\r\n            style={{ width: \"100%\" }}\r\n            allowClear={true}\r\n            onChange={onChangeBrand}\r\n          ></SelectBrand>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredOrders}\r\n        loading={tableloading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import { Button, Col, Form, Input, message, PageHeader, Row } from \"antd\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveOrder } from \"services/DiscoClubService\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst OrderDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState(false);\r\n  const [form] = Form.useForm();\r\n\r\n  const {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    settings: { order: ordersSettings = [] },\r\n  } = useSelector((state: any) => state.settings);\r\n\r\n  const onFinish = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const order = form.getFieldsValue(true);\r\n      await saveOrder(order);\r\n      setLoading(false);\r\n      message.success(\"Register updated with success.\");\r\n      history.push(\"/orders\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Order Update\" subTitle=\"Order\" />\r\n      <Form\r\n        form={form}\r\n        layout=\"vertical\"\r\n        onFinish={onFinish}\r\n        initialValues={initial}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"First Name\" name=\"firstName\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Last name\" name=\"lastName\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/orders\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderDetail;\r\n","import Select from \"antd/lib/select\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchFans } from \"../services/DiscoClubService\";\r\nimport { Fan } from \"../interfaces/Fan\";\r\nimport { Typography } from \"antd\";\r\n\r\ntype SelectFanProps = Omit<\r\n  React.SelectHTMLAttributes<HTMLSelectElement>,\r\n  \"onChange\"\r\n> & {\r\n  onChange: (selectedFan: Fan) => {};\r\n  label?: string;\r\n};\r\n\r\nexport const SelectFan: React.FC<SelectFanProps> = ({\r\n  onChange,\r\n  placeholder = \"Select a fan\",\r\n  style,\r\n  label = \"Fan Filter\",\r\n}) => {\r\n  const [fans, setFans] = useState<Fan[]>([]);\r\n  const [searchList, setSearchList] = useState<string[]>([]);\r\n  const [selectedFan, setSelectedFan] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    const getFans = async () => {\r\n      try {\r\n        const { results }: any = await fetchFans();\r\n        const _searchList: string[] = [];\r\n        results.forEach((fan: Fan) => {\r\n          // if (fan.name) _searchList.unshift(fan.name);\r\n          // if (fan.email) _searchList.push(fan.email);\r\n          if (fan.user) _searchList.push(fan.user);\r\n        });\r\n        setSearchList(_searchList);\r\n        setFans(results);\r\n      } catch (e) {}\r\n    };\r\n    getFans();\r\n  }, []);\r\n\r\n  const _onChange = (value: string) => {\r\n    setSelectedFan(value);\r\n    onChange(\r\n      fans.find(\r\n        // (fan) => fan.name === value || fan.email === value\r\n        (fan) => fan.user === value\r\n      ) as Fan\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"16px\" }}>\r\n      <Typography.Title level={5} title={label}>\r\n        {label}\r\n      </Typography.Title>\r\n      <Select\r\n        value={selectedFan}\r\n        onChange={_onChange}\r\n        showSearch\r\n        style={style}\r\n        placeholder={placeholder}\r\n      >\r\n        {searchList.map((value) => (\r\n          <Select.Option key={value} value={value}>\r\n            {value}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n","import { CalendarOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport { DatePicker, Col, PageHeader, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { Transaction } from \"interfaces/Transaction\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchWalletTransactions } from \"services/DiscoClubService\";\r\nimport moment from \"moment\";\r\nimport { SelectFan } from \"components/SelectFan\";\r\n\r\nconst Transactions: React.FC<RouteComponentProps> = () => {\r\n  const [tableLoading, setTableLoading] = useState<boolean>(false);\r\n\r\n  const [transactions, setTransactions] = useState<Transaction[]>([]);\r\n  const [filteredTransactions, setFilteredTransactions] = useState<\r\n    Transaction[]\r\n  >([]);\r\n\r\n  const columns: ColumnsType<Transaction> = [\r\n    {\r\n      title: \"Creation Time\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"15%\",\r\n      align: \"left\",\r\n      filterIcon: <CalendarOutlined />,\r\n      filterDropdown: () => (\r\n        <DatePicker.RangePicker\r\n          style={{ padding: 8 }}\r\n          onChange={handleDateChange}\r\n        />\r\n      ),\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Brand\",\r\n      dataIndex: \"brandName\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Disco Dollars\",\r\n      dataIndex: \"discoDollars\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Disco Gold\",\r\n      dataIndex: \"discoGold\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record) => (\r\n        <Link to={{ pathname: `/transactions`, state: record }}>\r\n          <EditOutlined />\r\n        </Link>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const onChangeFan = async (_selectedFan: Fan) => {\r\n    setTableLoading(true);\r\n    const { results }: any = await fetchWalletTransactions(_selectedFan.id);\r\n    setTableLoading(false);\r\n    setTransactions(results);\r\n    setFilteredTransactions(results);\r\n  };\r\n\r\n  const handleDateChange = (values: any) => {\r\n    if (!values) {\r\n      setFilteredTransactions(transactions);\r\n      return;\r\n    }\r\n    const startDate = moment(values[0], \"DD/MM/YYYY\").startOf(\"day\").utc();\r\n    const endDate = moment(values[1], \"DD/MM/YYYY\").endOf(\"day\").utc();\r\n    setFilteredTransactions(\r\n      transactions.filter(({ hCreationDate }) => {\r\n        return moment(hCreationDate).utc().isBetween(startDate, endDate);\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"transactions\">\r\n      <PageHeader title=\"Transactions\" subTitle=\"List of Transactions\" />\r\n      <Row gutter={8} style={{ marginBottom: \"20px\" }}>\r\n        <Col xxl={40} lg={6} xs={18}>\r\n          <SelectFan\r\n            style={{ width: \"100%\" }}\r\n            onChange={onChangeFan}\r\n          ></SelectFan>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredTransactions}\r\n        loading={tableLoading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Transactions;\r\n","import Select from \"antd/lib/select\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { fetchFanGroups, fetchFans } from \"../services/DiscoClubService\";\r\nimport { FanFilter } from \"../interfaces/Fan\";\r\nimport { Typography } from \"antd\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { FanGroup } from \"interfaces/FanGroup\";\r\n\r\ntype SelectFanQueryProps = Omit<\r\n  React.SelectHTMLAttributes<HTMLSelectElement>,\r\n  \"onChange\"\r\n> & {\r\n  onChange: (selectedFan: FanFilter) => {};\r\n  label?: string;\r\n};\r\n\r\nconst fansQueryFilters: FanFilter[] = [\r\n  {\r\n    id: \"allfans\",\r\n    user: \"All Disco Fans\",\r\n    isFilter: true,\r\n    isGroup: false,\r\n  },\r\n];\r\n\r\nexport const SelectFanQuery: React.FC<SelectFanQueryProps> = ({\r\n  onChange,\r\n  placeholder = \"Select\",\r\n  style,\r\n  label = \"Fan Filter\",\r\n}) => {\r\n  const [fans, setFans] = useState<FanFilter[]>([]);\r\n  const [searchList, setSearchList] = useState<string[]>([]);\r\n  const [selectedFan, setSelectedFan] = useState<string>(\"\");\r\n  const { doFetch } = useRequest();\r\n\r\n  const getResources = async () => {\r\n    const { results: fansResults } = await doFetch(() => fetchFans());\r\n    const { results: fanGroupsResults }: { results: FanGroup[] } =\r\n      await doFetch(() => fetchFanGroups());\r\n    const _searchList: string[] = [];\r\n    const _fansQueryFilters: FanFilter[] = [\r\n      ...fansQueryFilters,\r\n      ...fanGroupsResults.map((fanGroup) => ({\r\n        id: fanGroup.id,\r\n        user: fanGroup.name,\r\n        isFilter: true,\r\n        isGroup: true,\r\n      })),\r\n    ];\r\n    fansResults.unshift(..._fansQueryFilters);\r\n    fansResults.forEach((fan: FanFilter) => {\r\n      if (fan.user) _searchList.push(fan.user);\r\n    });\r\n    setSearchList(_searchList);\r\n    setFans([...fansResults]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const _onChange = async (value: string) => {\r\n    setSelectedFan(value);\r\n    onChange(fans.find((fan) => fan.user === value) as FanFilter);\r\n    getResources();\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"16px\" }}>\r\n      <Typography.Title level={5} title={label}>\r\n        {label}\r\n      </Typography.Title>\r\n      <Select\r\n        value={selectedFan}\r\n        onChange={_onChange}\r\n        showSearch\r\n        style={style}\r\n        placeholder={placeholder}\r\n      >\r\n        {searchList.map((value) => (\r\n          <Select.Option key={value} value={value}>\r\n            {value}\r\n          </Select.Option>\r\n        ))}\r\n      </Select>\r\n    </div>\r\n  );\r\n};\r\n","import { MinusOutlined, PlusOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Space,\r\n  Switch,\r\n  Table,\r\n  Tabs,\r\n  Tag as AntTag,\r\n} from \"antd\";\r\nimport Checkbox, { CheckboxChangeEvent } from \"antd/lib/checkbox/Checkbox\";\r\nimport { SwitchChangeEventHandler } from \"antd/lib/switch\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SortableTable } from \"components\";\r\nimport { SelectFanQuery } from \"components/SelectFanQuery\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { FanFilter } from \"interfaces/Fan\";\r\nimport { FeedItem } from \"interfaces/FeedItem\";\r\nimport { Segment } from \"interfaces/Segment\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport {\r\n  fetchGroupFeed,\r\n  fetchUserFeed,\r\n  fetchVideoFeed,\r\n  lockFeedMixer,\r\n  saveUserFeed,\r\n  setPreserveDdTags,\r\n  unlockFeedMixer,\r\n  unsetPreserveDdTags,\r\n  updateMultipleUsersFeed,\r\n  updateUsersFeedByGroup,\r\n} from \"services/DiscoClubService\";\r\n\r\nconst reduceSegmentsTags = (packages: Segment[]) => {\r\n  return packages.reduce((acc: number, curr: Segment) => {\r\n    return acc + curr.tags?.length;\r\n  }, 0);\r\n};\r\nconst FeedMixer: React.FC<RouteComponentProps> = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n\r\n  const [userFeed, setUserFeed] = useState<any[]>([]);\r\n  const [templateFeed, setTemplateFeed] = useState<any[]>([]);\r\n\r\n  const [selectedFan, setSelectedFan] = useState<FanFilter>();\r\n  const [selectedTab, setSelectedTab] = useState<string>(\"\");\r\n\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [searchedColumn, setSearchedColumn] = useState<string>(\"\");\r\n\r\n  const [lockedFeed, setLockedFeed] = useState<boolean>(false);\r\n\r\n  const [displayFeedName, setDisplayFeedName] = useState<string>();\r\n\r\n  useEffect(() => {\r\n    setDisplayFeedName(\r\n      selectedFan?.isFilter ? `${selectedFan.user} Feed` : \"User Feed\"\r\n    );\r\n  }, [selectedFan]);\r\n\r\n  const searchInput = useRef<Input>(null);\r\n\r\n  const handleSearch = (selectedKeys: any, confirm: any, dataIndex: any) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex);\r\n  };\r\n\r\n  const handleReset = (clearFilters: any) => {\r\n    clearFilters();\r\n    setSearchText(\"\");\r\n  };\r\n\r\n  const getColumnSearchProps = (dataIndex: any) => ({\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters,\r\n    }: {\r\n      setSelectedKeys: any;\r\n      selectedKeys: any;\r\n      confirm: any;\r\n      clearFilters: any;\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ marginBottom: 8, display: \"block\" }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              confirm({ closeDropdown: false });\r\n              setSearchText(selectedKeys[0]);\r\n              setSearchedColumn(dataIndex);\r\n            }}\r\n          >\r\n            Filter\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered: any) => (\r\n      <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />\r\n    ),\r\n    onFilter: (value: any, record: any) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex]\r\n            .toString()\r\n            .toLowerCase()\r\n            .includes(value.toLowerCase())\r\n        : \"\",\r\n    onFilterDropdownVisibleChange: (visible: any) => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current!.select(), 100);\r\n      }\r\n    },\r\n    render: (text: any) =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : \"\"}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  const addVideo = (record: FeedItem, _: number) => {\r\n    setUserFeed((prev) => [record, ...prev]);\r\n    message.success(\"Video added into user feed.\");\r\n  };\r\n\r\n  const removeVideo = (_: FeedItem, index: number) => {\r\n    setUserFeed((prev) => [...prev.slice(0, index), ...prev.slice(index + 1)]);\r\n  };\r\n\r\n  const addObj = { icon: <PlusOutlined />, fn: addVideo };\r\n  const removeObj = { icon: <MinusOutlined />, fn: removeVideo };\r\n\r\n  const [actionObj, setActionObj] =\r\n    useState<{ icon: any; fn: (record: FeedItem, index: number) => void }>(\r\n      removeObj\r\n    );\r\n\r\n  const handleTabChange = (tab: string) => {\r\n    setSelectedTab(tab);\r\n    setActionObj(tab === \"User Feed\" ? removeObj : addObj);\r\n  };\r\n\r\n  const columns: ColumnsType<FeedItem> = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"title\",\r\n      width: \"15%\",\r\n      // render: (value: string, record: FeedItem) => (\r\n      //   <Link to={{ pathname: `/video-feed`, state: record }}>{value}</Link>\r\n      // ),\r\n      align: \"center\",\r\n      ...(() =>\r\n        selectedTab === \"Template Feed\" ? getColumnSearchProps(\"title\") : {})(),\r\n    },\r\n    {\r\n      title: \"Segments\",\r\n      dataIndex: \"package\",\r\n      render: (pack: Array<any> = []) => <AntTag>{pack.length}</AntTag>,\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Length\",\r\n      dataIndex: \"lengthTotal\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Expiration Date\",\r\n      dataIndex: \"validity\",\r\n      width: \"5%\",\r\n      render: (creationDate: Date) =>\r\n        new Date(creationDate).toLocaleDateString(),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Tags\",\r\n      dataIndex: \"package\",\r\n      width: \"5%\",\r\n      render: (pack: Array<any> = []) => (\r\n        <AntTag>{reduceSegmentsTags(pack)}</AntTag>\r\n      ),\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record, index) => (\r\n        <Button\r\n          onClick={() => actionObj.fn(record, index)}\r\n          type=\"link\"\r\n          style={{ padding: 0, margin: \"0 6px\" }}\r\n        >\r\n          {actionObj.icon}\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const onChangeFan = async (_selectedFan: FanFilter) => {\r\n    const fetchFeed = async (_selectedFan: FanFilter) => {\r\n      const response = await doFetch(() =>\r\n        _selectedFan.isGroup\r\n          ? fetchGroupFeed(_selectedFan.id)\r\n          : fetchUserFeed(_selectedFan.id)\r\n      );\r\n      return response;\r\n    };\r\n\r\n    setSelectedFan(_selectedFan);\r\n    if (!templateFeed.length) {\r\n      const [{ results: _userFeed }, { results: _templateFeed }] =\r\n        await Promise.all([\r\n          fetchFeed(_selectedFan),\r\n          doFetch(() => fetchVideoFeed()),\r\n        ]);\r\n      setUserFeed(_userFeed);\r\n      setTemplateFeed(_templateFeed);\r\n    } else {\r\n      const { results } = await fetchFeed(_selectedFan);\r\n      setUserFeed(results);\r\n    }\r\n    setLockedFeed(_selectedFan.specialLock === \"y\");\r\n  };\r\n\r\n  const saveChanges = async () => {\r\n    const action = () =>\r\n      selectedFan!.isFilter\r\n        ? selectedFan!.id === \"allfans\"\r\n          ? updateMultipleUsersFeed(userFeed)\r\n          : updateUsersFeedByGroup(selectedFan!.id, userFeed)\r\n        : saveUserFeed(selectedFan!.id, userFeed);\r\n    await doRequest(action, `${displayFeedName} updated.`);\r\n  };\r\n\r\n  const handleLockChange: SwitchChangeEventHandler = async (checked) => {\r\n    await doRequest(() =>\r\n      checked\r\n        ? lockFeedMixer(selectedFan!.id)\r\n        : unlockFeedMixer(selectedFan!.id)\r\n    );\r\n    setLockedFeed(checked);\r\n  };\r\n\r\n  const handleCheckboxChange = async (e: CheckboxChangeEvent) => {\r\n    const fnToCall = e.target.checked ? setPreserveDdTags : unsetPreserveDdTags;\r\n    await doRequest(() => fnToCall(selectedFan!.id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"feed-mixer\">\r\n      <PageHeader title=\"Feed Mixer\" subTitle=\"Define feed for users.\" />\r\n      <Row gutter={8} style={{ marginBottom: \"20px\" }}>\r\n        <Col>\r\n          <SelectFanQuery\r\n            style={{ width: \"250px\" }}\r\n            onChange={onChangeFan}\r\n          ></SelectFanQuery>\r\n        </Col>\r\n        {selectedFan && !selectedFan.isFilter && (\r\n          <>\r\n            <Col>\r\n              <Form.Item\r\n                label=\"Lock Feed\"\r\n                style={{ margin: \"32px 12px 16px 16px\" }}\r\n              >\r\n                <Switch\r\n                  loading={loading}\r\n                  onChange={handleLockChange}\r\n                  checked={lockedFeed}\r\n                ></Switch>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col>\r\n              <Form.Item\r\n                name=\"preserveDdTags\"\r\n                label=\"Preserve DD Tags\"\r\n                style={{ margin: \"32px 16px 16px 16px\" }}\r\n              >\r\n                <Checkbox\r\n                  onChange={handleCheckboxChange}\r\n                  disabled={loading}\r\n                ></Checkbox>\r\n              </Form.Item>\r\n            </Col>\r\n          </>\r\n        )}\r\n        {selectedFan && (\r\n          <Col>\r\n            <Button\r\n              onClick={saveChanges}\r\n              style={{\r\n                marginTop: \"32px\",\r\n                color: \"white\",\r\n                borderColor: \"white\",\r\n                backgroundColor: selectedFan.isFilter\r\n                  ? \"rgb(255, 77, 79)\"\r\n                  : \"#4CAF50\",\r\n              }}\r\n            >\r\n              {selectedFan.isFilter\r\n                ? `Deploy Feed to ${selectedFan.user}`\r\n                : \"Deploy Feed\"}\r\n            </Button>\r\n          </Col>\r\n        )}\r\n      </Row>\r\n      {selectedFan && (\r\n        <Tabs defaultActiveKey=\"User Feed\" onChange={handleTabChange}>\r\n          <Tabs.TabPane tab={displayFeedName} key=\"User Feed\">\r\n            <SortableTable\r\n              rowKey=\"id\"\r\n              columns={columns}\r\n              dataSource={userFeed}\r\n              setDataSource={setUserFeed}\r\n              loading={loading}\r\n            />\r\n          </Tabs.TabPane>\r\n          <Tabs.TabPane tab=\"Template Feed\" key=\"Template Feed\">\r\n            <Table\r\n              rowKey=\"id\"\r\n              columns={columns}\r\n              dataSource={templateFeed}\r\n              loading={loading}\r\n            />\r\n          </Tabs.TabPane>\r\n        </Tabs>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FeedMixer;\r\n","import {\r\n  ArrowRightOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Checkbox, Col, PageHeader, Popconfirm, Row } from \"antd\";\r\nimport { CheckboxChangeEvent } from \"antd/lib/checkbox\";\r\nimport EditableTable, { EditableColumnType } from \"components/EditableTable\";\r\nimport EditMultipleButton from \"components/EditMultipleButton\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport { SelectBrand } from \"components/SelectBrand\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { Product } from \"interfaces/Product\";\r\nimport moment from \"moment\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  deleteStagingProduct,\r\n  fetchProducts,\r\n  fetchStagingProducts,\r\n  saveStagingProduct,\r\n  transferStageProduct,\r\n} from \"services/DiscoClubService\";\r\nimport EditProductModal from \"./EditProductModal\";\r\nimport ProductExpandedRow from \"./ProductExpandedRow\";\r\n\r\nconst StagingList: React.FC<RouteComponentProps> = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [selectedRowKeys, setSelectedRowKeys] = useState<any[]>([]);\r\n\r\n  const {\r\n    setArrayList: setProducts,\r\n    filteredArrayList: filteredProducts,\r\n    addFilterFunction,\r\n    removeFilterFunction,\r\n  } = useFilter<Product>([]);\r\n\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n  const { doRequest: saveCategories, loading: loadingCategories } =\r\n    useRequest();\r\n  const { fetchAllCategories, allCategories } = useAllCategories({\r\n    setLoading,\r\n  });\r\n\r\n  const getResources = useCallback(async () => {\r\n    const [{ results }] = await Promise.all([\r\n      doFetch(fetchStagingProducts),\r\n      fetchAllCategories(),\r\n    ]);\r\n    setProducts(results);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getProducts = async () => {\r\n    const { results } = await doFetch(fetchStagingProducts);\r\n    setProducts(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n  }, [getResources]);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deleteStagingProduct(id));\r\n    await getProducts();\r\n  };\r\n\r\n  const onSaveCategories = async (record: Product) => {\r\n    await saveCategories(() => saveStagingProduct(record));\r\n    await getProducts();\r\n  };\r\n\r\n  const onSaveProduct = async (record: Product) => {\r\n    await doRequest(() => saveStagingProduct(record));\r\n    await getProducts();\r\n  };\r\n\r\n  const handleStage = async (productId: string) => {\r\n    await doRequest(() => transferStageProduct(productId), \"Product commited.\");\r\n    await getProducts();\r\n  };\r\n\r\n  const columns: EditableColumnType<Product>[] = [\r\n    {\r\n      title: \"Name\",\r\n      dataIndex: \"name\",\r\n      width: \"25.5%\",\r\n      render: (value: string, record: Product) => (\r\n        <Link to={{ pathname: `/product/staging`, state: record }}>\r\n          {value}\r\n        </Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Brand\",\r\n      dataIndex: [\"brand\", \"brandName\"],\r\n      width: \"18%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Max DD\",\r\n      dataIndex: \"maxDiscoDollars\",\r\n      width: \"7%\",\r\n      align: \"center\",\r\n      editable: true,\r\n      number: true,\r\n    },\r\n    {\r\n      title: \"First Import\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"12.5%\",\r\n      align: \"center\",\r\n      render: (hCreationDate: Date | null | undefined) =>\r\n        hCreationDate ? (\r\n          <>\r\n            <div>\r\n              {moment(hCreationDate).format(\"DD/MM/YY\")}{\" \"}\r\n              {moment(hCreationDate).format(\"HH:mm\")}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        ),\r\n    },\r\n    {\r\n      title: \"Last Import\",\r\n      dataIndex: \"lastImportDate\",\r\n      width: \"12.5%\",\r\n      align: \"center\",\r\n      render: (lastImportDate: Date | null | undefined) =>\r\n        lastImportDate ? (\r\n          <>\r\n            <div>\r\n              {moment(lastImportDate).format(\"DD/MM/YY\")}{\" \"}\r\n              {moment(lastImportDate).format(\"HH:mm\")}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        ),\r\n    },\r\n    {\r\n      title: \"Last Go-Live\",\r\n      dataIndex: \"lastGoLiveDate\",\r\n      width: \"12.5%\",\r\n      align: \"center\",\r\n      render: (lastGoLiveDate: Date | null | undefined) =>\r\n        lastGoLiveDate ? (\r\n          <>\r\n            <div>\r\n              {moment(lastGoLiveDate).format(\"DD/MM/YY\")}{\" \"}\r\n              {moment(lastGoLiveDate).format(\"HH:mm\")}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          \"\"\r\n        ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"12%\",\r\n      align: \"right\",\r\n      render: (_, record: Product) => (\r\n        <>\r\n          <Link to={{ pathname: `/product/staging`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, marginLeft: 8 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n          <Button\r\n            onClick={() => handleStage(record.id)}\r\n            type=\"link\"\r\n            style={{ color: \"green\", padding: 0, margin: 6 }}\r\n          >\r\n            <ArrowRightOutlined />\r\n          </Button>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"productName\", (products) =>\r\n      products.filter((product) =>\r\n        product.name?.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  const onChangeBrand = async (_selectedBrand: Brand | undefined) => {\r\n    if (!_selectedBrand) {\r\n      removeFilterFunction(\"brandName\");\r\n      return;\r\n    }\r\n    addFilterFunction(\"brandName\", (products) =>\r\n      products.filter(\r\n        (product) => product.brand.brandName === _selectedBrand.brandName\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleEditProducts = async () => {\r\n    await fetchProducts({});\r\n    setSelectedRowKeys([]);\r\n  };\r\n\r\n  const handleFilterClassified = (e: CheckboxChangeEvent) => {\r\n    if (!e.target.checked) {\r\n      removeFilterFunction(\"categorized\");\r\n      return;\r\n    }\r\n    addFilterFunction(\"categorized\", (products) =>\r\n      products.filter((product) => !product.categories?.length)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Staging\" subTitle=\"List of Staging Products\" />\r\n      <Row align=\"bottom\" justify=\"space-between\">\r\n        <Col lg={16} xs={24}>\r\n          <Row gutter={8}>\r\n            <Col lg={8} xs={16}>\r\n              <SearchFilter\r\n                filterFunction={searchFilterFunction}\r\n                label=\"Search by Name\"\r\n              />\r\n            </Col>\r\n            <Col lg={8} xs={16}>\r\n              <SelectBrand\r\n                style={{ width: \"100%\" }}\r\n                allowClear={true}\r\n                onChange={onChangeBrand}\r\n              ></SelectBrand>\r\n            </Col>\r\n            <Col lg={8} xs={16}>\r\n              <Checkbox\r\n                onChange={handleFilterClassified}\r\n                style={{ margin: \"42px 0 16px 8px\" }}\r\n              >\r\n                Unclassified only\r\n              </Checkbox>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <EditMultipleButton\r\n          text=\"Edit Products\"\r\n          arrayList={filteredProducts}\r\n          ModalComponent={EditProductModal}\r\n          selectedRowKeys={selectedRowKeys}\r\n          onOk={handleEditProducts}\r\n        />\r\n      </Row>\r\n      <EditableTable\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredProducts}\r\n        loading={loading}\r\n        onSave={onSaveProduct}\r\n        rowSelection={{\r\n          selectedRowKeys,\r\n          onChange: setSelectedRowKeys,\r\n        }}\r\n        expandable={{\r\n          expandedRowRender: (record: Product) => (\r\n            <ProductExpandedRow\r\n              key={record.id}\r\n              record={record}\r\n              allCategories={allCategories}\r\n              onSaveProduct={onSaveCategories}\r\n              loading={loadingCategories}\r\n            ></ProductExpandedRow>\r\n          ),\r\n        }}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StagingList;\r\n","import {\r\n  CalendarOutlined,\r\n  DeleteOutlined,\r\n  EditOutlined,\r\n} from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  DatePicker,\r\n  PageHeader,\r\n  Popconfirm,\r\n  Row,\r\n  Table,\r\n} from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { Promotion, PromotionAndStatusList } from \"interfaces/Promotion\";\r\nimport moment from \"moment\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  deletePromotion,\r\n  fetchPromoStatus,\r\n  fetchPromotions,\r\n} from \"services/DiscoClubService\";\r\n\r\nconst Promotions: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [tableloading, setTableLoading] = useState<boolean>(false);\r\n  const { doRequest, doFetch } = useRequest({ setLoading: setTableLoading });\r\n  const [promoStatusList, setPromoStatusList] = useState<any>();\r\n  // const [promotionUpdateList, setPromotionUpdateList] = useState<boolean[]>([]);\r\n\r\n  const {\r\n    // arrayList: promotions,\r\n    setArrayList: setPromotions,\r\n    filteredArrayList: filteredPromotions,\r\n    addFilterFunction,\r\n    removeFilterFunction,\r\n  } = useFilter<Promotion>([]);\r\n\r\n  const handleDateChange = (values: any) => {\r\n    if (!values) {\r\n      removeFilterFunction(\"creationDate\");\r\n      return;\r\n    }\r\n    const startDate = moment(values[0], \"DD/MM/YYYY\").startOf(\"day\").utc();\r\n    const endDate = moment(values[1], \"DD/MM/YYYY\").endOf(\"day\").utc();\r\n    addFilterFunction(\"creationDate\", (promotions: Promotion[]) =>\r\n      promotions.filter(({ hCreationDate }) => {\r\n        return moment(hCreationDate).utc().isBetween(startDate, endDate);\r\n      })\r\n    );\r\n  };\r\n\r\n  const columns: ColumnsType<Promotion> = [\r\n    {\r\n      title: \"Promo ID\",\r\n      dataIndex: \"id\",\r\n      width: \"10%\",\r\n      render: (value: string, record: Promotion) => (\r\n        <Link to={{ pathname: `promotion`, state: record }}>{value}</Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Brand\",\r\n      dataIndex: [\"brand\", \"brandName\"],\r\n      width: \"10%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Creation\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      filterIcon: <CalendarOutlined />,\r\n      filterDropdown: () => (\r\n        <DatePicker.RangePicker\r\n          style={{ padding: 8 }}\r\n          onChange={handleDateChange}\r\n        />\r\n      ),\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record) => (\r\n        <>\r\n          <Link\r\n            to={{\r\n              pathname: `/promotion`,\r\n              state: {\r\n                promotion: record,\r\n                promoStatusList: promoStatusList,\r\n              } as PromotionAndStatusList,\r\n            }}\r\n          >\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const getPromotions = useCallback(async () => {\r\n    const { results } = await doFetch(fetchPromotions);\r\n    setPromotions(results);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getPromoStatus = useCallback(async () => {\r\n    const { results } = await doFetch(fetchPromoStatus);\r\n    setPromoStatusList(results[0]?.promoStatus);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getResources = useCallback(async () => {\r\n    await Promise.all([getPromotions(), getPromoStatus()]);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deletePromotion({ id }));\r\n    await getResources();\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n  }, [getResources]);\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"promoId\", (promotions) =>\r\n      promotions.filter((promotion) =>\r\n        promotion.id.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"promotions\">\r\n      <PageHeader\r\n        title=\"Promotions\"\r\n        subTitle=\"List of Promotions\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"/promotion\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by ID\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredPromotions}\r\n        loading={tableloading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Promotions;\r\n","import { Button, Col, Form, Input, PageHeader, Row, Select } from \"antd\";\r\nimport { RichTextEditor } from \"components/RichTextEditor\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { PromotionAndStatusList } from \"interfaces/Promotion\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { fetchVideoFeed2, savePromotion } from \"services/DiscoClubService\";\r\n\r\nconst PromotionDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const _state = location.state as undefined | PromotionAndStatusList;\r\n  // const promoStatusList = _state?.promoStatusList;\r\n  const initial = _state?.promotion;\r\n  const [form] = Form.useForm();\r\n  const { doRequest, doFetch, loading } = useRequest();\r\n  const [packages, setPackages] = useState<any[]>([]);\r\n\r\n  const onFinish = async () => {\r\n    const promotion = form.getFieldsValue(true);\r\n    await doRequest(() => savePromotion(promotion));\r\n    history.push(\"/promotions\");\r\n  };\r\n\r\n  const getPackages = useCallback(async () => {\r\n    const { results } = await doFetch(fetchVideoFeed2);\r\n    setPackages(results);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getResources = useCallback(async () => {\r\n    await getPackages();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n  }, [getResources]);\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Promotion Update\" subTitle=\"Promotion\" />\r\n      <Form\r\n        form={form}\r\n        layout=\"vertical\"\r\n        onFinish={onFinish}\r\n        initialValues={initial}\r\n        autoComplete=\"off\"\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Description\" name=\"description\">\r\n              <Input />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item label=\"Brief\" name=\"brief\">\r\n              <RichTextEditor formField=\"brief\" form={form} />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={12} xs={24}>\r\n            <Form.Item name=\"packages\" label=\"Packages\">\r\n              <Select mode=\"tags\">\r\n                {packages.map((_package: any) => (\r\n                  <Select.Option key={_package.id} value={_package.title}>\r\n                    {_package.title}\r\n                  </Select.Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/promotions\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PromotionDetail;\r\n","import { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport { Button, Col, PageHeader, Popconfirm, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { DdTemplate } from \"interfaces/DdTemplate\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteDdTemplate, fetchDdTemplates } from \"services/DiscoClubService\";\r\n\r\nconst DdTemplates: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n\r\n  const {\r\n    setArrayList: setDdTemplates,\r\n    filteredArrayList: filteredDdTemplates,\r\n    addFilterFunction,\r\n  } = useFilter<DdTemplate>([]);\r\n\r\n  const getResources = async () => {\r\n    await getDdTemplates();\r\n  };\r\n\r\n  const getDdTemplates = async () => {\r\n    const { results } = await doFetch(fetchDdTemplates);\r\n    setDdTemplates(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deleteDdTemplate({ id }));\r\n    await getDdTemplates();\r\n  };\r\n\r\n  const columns: ColumnsType<DdTemplate> = [\r\n    {\r\n      title: \"Tag Name\",\r\n      dataIndex: \"tagName\",\r\n      width: \"20%\",\r\n      render: (value: string, record: DdTemplate) => (\r\n        <Link to={{ pathname: `dd-template`, state: record }}>{value}</Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Template\",\r\n      dataIndex: \"template\",\r\n      width: \"12%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Disco Gold\",\r\n      dataIndex: \"discoGold\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Disco Dollars\",\r\n      dataIndex: \"discoDollars\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Creation\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"10%\",\r\n      align: \"right\",\r\n      render: (_, record: DdTemplate) => (\r\n        <>\r\n          <Link to={{ pathname: `dd-template`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"ddTagName\", (dds) =>\r\n      dds.filter((dd) =>\r\n        dd.tagName.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader\r\n        title=\"Disco Dollars Templates\"\r\n        subTitle=\"List of Disco Dollars Templates\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"dd-template\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by Tag Name\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredDdTemplates}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DdTemplates;\r\n","import { Button, Col, Form, Input, PageHeader, Row } from \"antd\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveDdTemplate } from \"services/DiscoClubService\";\r\n\r\nconst DdTemplatesDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [form] = Form.useForm();\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  const onFinish = async () => {\r\n    const ddTemplate = form.getFieldsValue(true);\r\n    await doRequest(() => saveDdTemplate(ddTemplate));\r\n    history.push(\"/dd-templates\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        title=\"Disco Dollar Template Update\"\r\n        subTitle=\"Disco Dollar Template \"\r\n      />\r\n      <Form\r\n        name=\"ddTemplateForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Tag Name\"\r\n                name=\"tagName\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Template\"\r\n                name=\"template\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Disco Gold\"\r\n                name=\"discoGold\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item\r\n                label=\"Disco Dollars\"\r\n                name=\"discoDollars\"\r\n                rules={[{ required: true }]}\r\n              >\r\n                <Input type=\"number\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button\r\n              type=\"default\"\r\n              onClick={() => history.push(\"/dd-templates\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default DdTemplatesDetail;\r\n","import { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport { Button, Col, PageHeader, Popconfirm, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { PromoDisplay } from \"interfaces/PromoDisplay\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  deletePromoDisplay,\r\n  fetchPromoDisplays,\r\n} from \"services/DiscoClubService\";\r\n\r\nconst PromoDisplays: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n\r\n  const {\r\n    setArrayList: setPromoDisplays,\r\n    filteredArrayList: filteredPromoDisplays,\r\n    addFilterFunction,\r\n  } = useFilter<PromoDisplay>([]);\r\n\r\n  const getResources = async () => {\r\n    await getPromoDisplays();\r\n  };\r\n\r\n  const getPromoDisplays = async () => {\r\n    const { results } = await doFetch(fetchPromoDisplays);\r\n    setPromoDisplays(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deletePromoDisplay({ id }));\r\n    await getPromoDisplays();\r\n  };\r\n\r\n  const columns: ColumnsType<PromoDisplay> = [\r\n    {\r\n      title: \"Shop Display ID\",\r\n      dataIndex: \"id\",\r\n      width: \"20%\",\r\n      render: (value: string, record: PromoDisplay) => (\r\n        <Link to={{ pathname: `promo-display`, state: record }}>{value}</Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Display Start Date\",\r\n      dataIndex: \"displayStartDate\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Display Expire Date\",\r\n      dataIndex: \"displayExpireDate\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"10%\",\r\n      align: \"right\",\r\n      render: (_, record: PromoDisplay) => (\r\n        <>\r\n          <Link to={{ pathname: `promo-display`, state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"promoId\", (promoDisplays) =>\r\n      promoDisplays.filter((promoDisplay) =>\r\n        promoDisplay.id.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader\r\n        title=\"Shop Display\"\r\n        subTitle=\"List of Shop Display\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"promo-display\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by ID\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredPromoDisplays}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromoDisplays;\r\n","import { Button, Col, DatePicker, Form, PageHeader, Row } from \"antd\";\r\nimport { RichTextEditor } from \"components/RichTextEditor\";\r\nimport { formatMoment } from \"helpers/formatMoment\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { savePromoDisplay } from \"services/DiscoClubService\";\r\n\r\nconst PromoDisplaysDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [form] = Form.useForm();\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  const onFinish = async () => {\r\n    const promoDisplay = form.getFieldsValue(true);\r\n    await doRequest(() => savePromoDisplay(promoDisplay));\r\n    history.push(\"/promo-displays\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Shop Display Update\" subTitle=\"Shop Display \" />\r\n      <Form\r\n        name=\"promoDisplayForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row>\r\n          <Col lg={24} xs={24}>\r\n            <Form.Item label=\"Display HTML\">\r\n              <RichTextEditor formField=\"displayHtml\" form={form} />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item\r\n              name=\"displayStartDate\"\r\n              label=\"Display Start Date\"\r\n              getValueProps={formatMoment}\r\n              rules={[{ required: true }]}\r\n            >\r\n              <DatePicker format=\"DD/MM/YYYY\" />\r\n            </Form.Item>\r\n          </Col>\r\n          <Col lg={6} xs={24}>\r\n            <Form.Item\r\n              name=\"displayExpireDate\"\r\n              label=\"Display Expire Date\"\r\n              getValueProps={formatMoment}\r\n              rules={[{ required: true }]}\r\n            >\r\n              <DatePicker format=\"DD/MM/YYYY\" />\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button\r\n              type=\"default\"\r\n              onClick={() => history.push(\"/promo-displays\")}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PromoDisplaysDetail;\r\n","import { PureComponent } from \"react\";\r\nimport { PieChart, Pie, Cell, ResponsiveContainer } from \"recharts\";\r\n\r\nconst data = [\r\n  { name: \"Group A\", value: 400 },\r\n  { name: \"Group B\", value: 300 },\r\n  { name: \"Group C\", value: 300 },\r\n  { name: \"Group D\", value: 200 },\r\n];\r\n\r\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\"];\r\n\r\nconst RADIAN = Math.PI / 180;\r\nconst renderCustomizedLabel = ({\r\n  cx,\r\n  cy,\r\n  midAngle,\r\n  innerRadius,\r\n  outerRadius,\r\n  percent,\r\n  index,\r\n}: {\r\n  cx: any;\r\n  cy: any;\r\n  midAngle: any;\r\n  innerRadius: any;\r\n  outerRadius: any;\r\n  percent: any;\r\n  index: any;\r\n}) => {\r\n  const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n  const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n  const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n\r\n  return (\r\n    <text\r\n      x={x}\r\n      y={y}\r\n      fill=\"white\"\r\n      textAnchor={x > cx ? \"start\" : \"end\"}\r\n      dominantBaseline=\"central\"\r\n    >\r\n      {`${(percent * 100).toFixed(0)}%`}\r\n    </text>\r\n  );\r\n};\r\n\r\nexport default class Example extends PureComponent {\r\n  static demoUrl =\r\n    \"https://codesandbox.io/s/pie-chart-with-customized-label-dlhhj\";\r\n\r\n  render() {\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <PieChart width={400} height={400}>\r\n          <Pie\r\n            data={data}\r\n            cx=\"50%\"\r\n            cy=\"50%\"\r\n            labelLine={false}\r\n            label={renderCustomizedLabel}\r\n            outerRadius={80}\r\n            fill=\"#8884d8\"\r\n            dataKey=\"value\"\r\n          >\r\n            {data.map((entry, index) => (\r\n              <Cell\r\n                key={`cell-${index}`}\r\n                fill={COLORS[index % COLORS.length]}\r\n              />\r\n            ))}\r\n          </Pie>\r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n    );\r\n  }\r\n}\r\n","import React, { PureComponent } from \"react\";\r\nimport {\r\n  Radar,\r\n  RadarChart,\r\n  PolarGrid,\r\n  PolarAngleAxis,\r\n  PolarRadiusAxis,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nconst data = [\r\n  {\r\n    subject: \"Math\",\r\n    A: 120,\r\n    B: 110,\r\n    fullMark: 150,\r\n  },\r\n  {\r\n    subject: \"Chinese\",\r\n    A: 98,\r\n    B: 130,\r\n    fullMark: 150,\r\n  },\r\n  {\r\n    subject: \"English\",\r\n    A: 86,\r\n    B: 130,\r\n    fullMark: 150,\r\n  },\r\n  {\r\n    subject: \"Geography\",\r\n    A: 99,\r\n    B: 100,\r\n    fullMark: 150,\r\n  },\r\n  {\r\n    subject: \"Physics\",\r\n    A: 85,\r\n    B: 90,\r\n    fullMark: 150,\r\n  },\r\n  {\r\n    subject: \"History\",\r\n    A: 65,\r\n    B: 85,\r\n    fullMark: 150,\r\n  },\r\n];\r\n\r\nexport default class Example extends PureComponent {\r\n  static demoUrl = \"https://codesandbox.io/s/simple-radar-chart-rjoc6\";\r\n\r\n  render() {\r\n    return (\r\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n        <RadarChart cx=\"50%\" cy=\"50%\" outerRadius=\"80%\" data={data}>\r\n          <PolarGrid />\r\n          <PolarAngleAxis dataKey=\"subject\" />\r\n          <PolarRadiusAxis />\r\n          <Radar\r\n            name=\"Mike\"\r\n            dataKey=\"A\"\r\n            stroke=\"#8884d8\"\r\n            fill=\"#8884d8\"\r\n            fillOpacity={0.6}\r\n          />\r\n        </RadarChart>\r\n      </ResponsiveContainer>\r\n    );\r\n  }\r\n}\r\n","import { Col, Row } from \"antd\";\r\nimport React from \"react\";\r\nimport {\r\n  Bar,\r\n  BarChart,\r\n  CartesianGrid,\r\n  Legend,\r\n  Line,\r\n  LineChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from \"recharts\";\r\nimport Pie from \"./Pie\";\r\nimport Radar from \"./Radar\";\r\n\r\ninterface DashboardProps {}\r\n\r\nconst Dashboard: React.FC<DashboardProps> = () => {\r\n  const data = [\r\n    {\r\n      name: \"Page A\",\r\n      uv: 4000,\r\n      pv: 2400,\r\n      amt: 2400,\r\n    },\r\n    {\r\n      name: \"Page B\",\r\n      uv: 3000,\r\n      pv: 1398,\r\n      amt: 2210,\r\n    },\r\n    {\r\n      name: \"Page C\",\r\n      uv: 2000,\r\n      pv: 9800,\r\n      amt: 2290,\r\n    },\r\n    {\r\n      name: \"Page D\",\r\n      uv: 2780,\r\n      pv: 3908,\r\n      amt: 2000,\r\n    },\r\n    {\r\n      name: \"Page E\",\r\n      uv: 1890,\r\n      pv: 4800,\r\n      amt: 2181,\r\n    },\r\n    {\r\n      name: \"Page F\",\r\n      uv: 2390,\r\n      pv: 3800,\r\n      amt: 2500,\r\n    },\r\n    {\r\n      name: \"Page G\",\r\n      uv: 3490,\r\n      pv: 4300,\r\n      amt: 2100,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Row style={{ height: \"50%\" }}>\r\n        <Col style={{ width: \"75%\" }}>\r\n          <ResponsiveContainer>\r\n            <LineChart\r\n              width={500}\r\n              height={300}\r\n              data={data}\r\n              margin={{\r\n                top: 5,\r\n                right: 30,\r\n                left: 20,\r\n                bottom: 5,\r\n              }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"name\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Line\r\n                type=\"monotone\"\r\n                dataKey=\"pv\"\r\n                stroke=\"#8884d8\"\r\n                activeDot={{ r: 8 }}\r\n              />\r\n              <Line type=\"monotone\" dataKey=\"uv\" stroke=\"#82ca9d\" />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </Col>\r\n        <Col style={{ width: \"25%\" }}>\r\n          <Pie></Pie>\r\n        </Col>\r\n      </Row>\r\n      <Row style={{ height: \"50%\" }}>\r\n        <Col style={{ width: \"60%\" }}>\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <BarChart\r\n              width={500}\r\n              height={300}\r\n              data={data}\r\n              margin={{\r\n                top: 5,\r\n                right: 30,\r\n                left: 20,\r\n                bottom: 5,\r\n              }}\r\n            >\r\n              <CartesianGrid strokeDasharray=\"3 3\" />\r\n              <XAxis dataKey=\"name\" />\r\n              <YAxis />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Bar dataKey=\"pv\" fill=\"#8884d8\" />\r\n              <Bar dataKey=\"uv\" fill=\"#82ca9d\" />\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </Col>\r\n        <Col style={{ width: \"40%\" }}>\r\n          <Radar></Radar>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { MinusOutlined, PlusOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport {\r\n  Button,\r\n  Image as AntImage,\r\n  Input,\r\n  message,\r\n  PageHeader,\r\n  Row,\r\n  Space,\r\n  Tabs,\r\n} from \"antd\";\r\nimport Table, { ColumnsType } from \"antd/lib/table\";\r\nimport { SortableTable } from \"components\";\r\nimport useAllCategories from \"hooks/useAllCategories\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { ProductCategory } from \"interfaces/Category\";\r\nimport { FeedItem } from \"interfaces/FeedItem\";\r\nimport { Image } from \"interfaces/Image\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport Highlighter from \"react-highlight-words\";\r\nimport { fetchInterests, saveInterests } from \"services/DiscoClubService\";\r\n\r\ninterface InterestsProps {}\r\n\r\nconst Interests: React.FC<InterestsProps> = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { fetchAllCategories, allCategories } = useAllCategories({\r\n    setLoading,\r\n  });\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [searchedColumn, setSearchedColumn] = useState<string>(\"\");\r\n\r\n  const [selectedTab, setSelectedTab] = useState<string>(\"\");\r\n\r\n  const [interests, setInterests] = useState<any[]>([]);\r\n  const [mergedCategories, setMergedCategories] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (!allCategories[\"Super Category\"].length) return;\r\n\r\n    const getCategoryParams = (category: ProductCategory) => ({\r\n      searchTags: category.searchTags,\r\n      image: category.image,\r\n    });\r\n\r\n    const _mergedCategories: any[] = [];\r\n\r\n    allCategories[\"Category\"].forEach((category) => {\r\n      _mergedCategories.push({\r\n        description: category.category,\r\n        categoryId: category.id,\r\n        ...getCategoryParams(category),\r\n      });\r\n    });\r\n    allCategories[\"Sub Category\"].forEach((category) => {\r\n      _mergedCategories.push({\r\n        description: category.subCategory,\r\n        subCategoryId: category.id,\r\n        ...getCategoryParams(category),\r\n      });\r\n    });\r\n    allCategories[\"Sub Sub Category\"].forEach((category) => {\r\n      _mergedCategories.push({\r\n        description: category.subSubCategory,\r\n        subSubCategoryId: category.id,\r\n        ...getCategoryParams(category),\r\n      });\r\n    });\r\n\r\n    setMergedCategories(_mergedCategories);\r\n  }, [allCategories]);\r\n\r\n  const searchInput = useRef<Input>(null);\r\n\r\n  const handleSearch = (selectedKeys: any, confirm: any, dataIndex: any) => {\r\n    confirm();\r\n    setSearchText(selectedKeys[0]);\r\n    setSearchedColumn(dataIndex);\r\n  };\r\n\r\n  const handleReset = (clearFilters: any) => {\r\n    clearFilters();\r\n    setSearchText(\"\");\r\n  };\r\n\r\n  const getColumnSearchProps = (dataIndex: any) => ({\r\n    filterDropdown: ({\r\n      setSelectedKeys,\r\n      selectedKeys,\r\n      confirm,\r\n      clearFilters,\r\n    }: {\r\n      setSelectedKeys: any;\r\n      selectedKeys: any;\r\n      confirm: any;\r\n      clearFilters: any;\r\n    }) => (\r\n      <div style={{ padding: 8 }}>\r\n        <Input\r\n          ref={searchInput}\r\n          placeholder={`Search ${dataIndex}`}\r\n          value={selectedKeys[0]}\r\n          onChange={(e) =>\r\n            setSelectedKeys(e.target.value ? [e.target.value] : [])\r\n          }\r\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n          style={{ marginBottom: 8, display: \"block\" }}\r\n        />\r\n        <Space>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\r\n            icon={<SearchOutlined />}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Search\r\n          </Button>\r\n          <Button\r\n            onClick={() => handleReset(clearFilters)}\r\n            size=\"small\"\r\n            style={{ width: 90 }}\r\n          >\r\n            Reset\r\n          </Button>\r\n          <Button\r\n            type=\"link\"\r\n            size=\"small\"\r\n            onClick={() => {\r\n              confirm({ closeDropdown: false });\r\n              setSearchText(selectedKeys[0]);\r\n              setSearchedColumn(dataIndex);\r\n            }}\r\n          >\r\n            Filter\r\n          </Button>\r\n        </Space>\r\n      </div>\r\n    ),\r\n    filterIcon: (filtered: any) => (\r\n      <SearchOutlined style={{ color: filtered ? \"#1890ff\" : undefined }} />\r\n    ),\r\n    onFilter: (value: any, record: any) =>\r\n      record[dataIndex]\r\n        ? record[dataIndex]\r\n            .toString()\r\n            .toLowerCase()\r\n            .includes(value.toLowerCase())\r\n        : \"\",\r\n    onFilterDropdownVisibleChange: (visible: any) => {\r\n      if (visible) {\r\n        setTimeout(() => searchInput.current!.select(), 100);\r\n      }\r\n    },\r\n    render: (text: any) =>\r\n      searchedColumn === dataIndex ? (\r\n        <Highlighter\r\n          highlightStyle={{ backgroundColor: \"#ffc069\", padding: 0 }}\r\n          searchWords={[searchText]}\r\n          autoEscape\r\n          textToHighlight={text ? text.toString() : \"\"}\r\n        />\r\n      ) : (\r\n        text\r\n      ),\r\n  });\r\n\r\n  const addInterest = (record: FeedItem, _: number) => {\r\n    setInterests((prev) => [record, ...prev]);\r\n    message.success(\"Category added into interests.\");\r\n  };\r\n\r\n  const removeInterest = (_: FeedItem, index: number) => {\r\n    setInterests((prev) => [...prev.slice(0, index), ...prev.slice(index + 1)]);\r\n  };\r\n\r\n  const addObj = { icon: <PlusOutlined />, fn: addInterest };\r\n  const removeObj = { icon: <MinusOutlined />, fn: removeInterest };\r\n\r\n  const [actionObj, setActionObj] =\r\n    useState<{ icon: any; fn: (record: FeedItem, index: number) => void }>(\r\n      removeObj\r\n    );\r\n\r\n  const handleTabChange = (tab: string) => {\r\n    setSelectedTab(tab);\r\n    setActionObj(tab === \"Interests\" ? removeObj : addObj);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getResources = async () => {\r\n      const [{ results: _interests }] = await Promise.all([\r\n        doFetch(fetchInterests),\r\n        fetchAllCategories(),\r\n      ]);\r\n      setInterests(_interests);\r\n    };\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const columns: ColumnsType<FeedItem> = [\r\n    {\r\n      title: \"Title\",\r\n      dataIndex: \"description\",\r\n      width: \"15%\",\r\n      ...(() =>\r\n        selectedTab === \"All Categories\"\r\n          ? getColumnSearchProps(\"description\")\r\n          : {})(),\r\n    },\r\n    {\r\n      title: \"Image\",\r\n      dataIndex: \"image\",\r\n      width: \"15%\",\r\n      render: (image: Image) => <AntImage src={image?.url} width={70} />,\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"5%\",\r\n      align: \"right\",\r\n      render: (_, record, index) => (\r\n        <Button\r\n          onClick={() => actionObj.fn(record, index)}\r\n          type=\"link\"\r\n          style={{ padding: 0, margin: \"0 6px\" }}\r\n        >\r\n          {actionObj.icon}\r\n        </Button>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const saveChanges = async () => {\r\n    await doRequest(() => saveInterests(interests), \"Interests updated.\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"interests\">\r\n      <PageHeader title=\"Interests\" />\r\n      <Row>\r\n        <Button\r\n          onClick={saveChanges}\r\n          style={{\r\n            marginBottom: \"16px\",\r\n            color: \"white\",\r\n            borderColor: \"#4CAF50\",\r\n            backgroundColor: \"#4CAF50\",\r\n          }}\r\n        >\r\n          Save Changes\r\n        </Button>\r\n      </Row>\r\n      <Tabs defaultActiveKey=\"Interests\" onChange={handleTabChange}>\r\n        <Tabs.TabPane tab=\"Interests\" key=\"Interests\">\r\n          <SortableTable\r\n            rowKey=\"id\"\r\n            columns={columns}\r\n            dataSource={interests}\r\n            setDataSource={setInterests}\r\n            loading={loading}\r\n          />\r\n        </Tabs.TabPane>\r\n        <Tabs.TabPane tab=\"All Categories\" key=\"All Categories\">\r\n          <Table\r\n            rowKey=\"id\"\r\n            columns={columns}\r\n            dataSource={mergedCategories}\r\n            loading={loading}\r\n          />\r\n        </Tabs.TabPane>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Interests;\r\n","import { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\r\nimport { Button, Col, PageHeader, Popconfirm, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SearchFilter } from \"components/SearchFilter\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { FanGroup } from \"interfaces/FanGroup\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { deleteFanGroup, fetchFanGroups } from \"services/DiscoClubService\";\r\n\r\nconst FanGroups: React.FC<RouteComponentProps> = ({ history }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doFetch, doRequest } = useRequest({ setLoading });\r\n\r\n  const {\r\n    setArrayList: setFanGroups,\r\n    filteredArrayList: filteredFanGroups,\r\n    addFilterFunction,\r\n  } = useFilter<FanGroup>([]);\r\n\r\n  const getResources = async () => {\r\n    await getFanGroups();\r\n  };\r\n\r\n  const getFanGroups = async () => {\r\n    const { results } = await doFetch(fetchFanGroups);\r\n    setFanGroups(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const deleteItem = async (id: string) => {\r\n    await doRequest(() => deleteFanGroup({ id }));\r\n    await getFanGroups();\r\n  };\r\n\r\n  const columns: ColumnsType<FanGroup> = [\r\n    {\r\n      title: \"Group Name\",\r\n      dataIndex: \"name\",\r\n      width: \"20%\",\r\n      render: (value: string, record: FanGroup) => (\r\n        <Link to={{ pathname: \"fans-group\", state: record }}>{value}</Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Creation\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"15%\",\r\n      align: \"center\",\r\n      render: (value: Date) => (\r\n        <>\r\n          <div>{moment(value).format(\"DD/MM/YYYY\")}</div>\r\n          <div>{moment(value).format(\"HH:mm\")}</div>\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Actions\",\r\n      key: \"action\",\r\n      width: \"10%\",\r\n      align: \"right\",\r\n      render: (_, record: FanGroup) => (\r\n        <>\r\n          <Link to={{ pathname: \"fans-group\", state: record }}>\r\n            <EditOutlined />\r\n          </Link>\r\n          <Popconfirm\r\n            title=\"Are you sure？\"\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            onConfirm={() => deleteItem(record.id)}\r\n          >\r\n            <Button type=\"link\" style={{ padding: 0, margin: 6 }}>\r\n              <DeleteOutlined />\r\n            </Button>\r\n          </Popconfirm>\r\n        </>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const searchFilterFunction = (filterText: string) => {\r\n    addFilterFunction(\"fanGroupName\", (fanGroups) =>\r\n      fanGroups.filter((fanGroup) =>\r\n        fanGroup.name.toUpperCase().includes(filterText.toUpperCase())\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <PageHeader\r\n        title=\"Fan Groups\"\r\n        subTitle=\"List of Fan Groups\"\r\n        extra={[\r\n          <Button key=\"1\" onClick={() => history.push(\"fans-group\")}>\r\n            New Item\r\n          </Button>,\r\n        ]}\r\n      />\r\n      <Row gutter={8}>\r\n        <Col lg={8} xs={16}>\r\n          <SearchFilter\r\n            filterFunction={searchFilterFunction}\r\n            label=\"Search by Name\"\r\n          />\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredFanGroups}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FanGroups;\r\n","import { Button, Col, Form, Input, PageHeader, Row } from \"antd\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { saveFanGroup } from \"services/DiscoClubService\";\r\n\r\nconst FanGroupsDetail: React.FC<RouteComponentProps> = (props) => {\r\n  const { history, location } = props;\r\n  const initial: any = location.state;\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [form] = Form.useForm();\r\n  const { doRequest } = useRequest({ setLoading });\r\n\r\n  const onFinish = async () => {\r\n    const fanGroup = form.getFieldsValue(true);\r\n    await doRequest(() => saveFanGroup(fanGroup));\r\n    history.push(\"/fan-groups\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader title=\"Fan Group Update\" subTitle=\"Fan Group\" />\r\n      <Form\r\n        name=\"fanGroupForm\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        initialValues={initial}\r\n        onFinish={onFinish}\r\n      >\r\n        <Row gutter={8}>\r\n          <Col lg={12} xs={24}>\r\n            <Col lg={16} xs={24}>\r\n              <Form.Item label=\"Name\" name=\"name\" rules={[{ required: true }]}>\r\n                <Input />\r\n              </Form.Item>\r\n            </Col>\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={8}>\r\n          <Col>\r\n            <Button type=\"default\" onClick={() => history.push(\"/fan-groups\")}>\r\n              Cancel\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button loading={loading} type=\"primary\" onClick={onFinish}>\r\n              Save Changes\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </Form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FanGroupsDetail;\r\n","import {\r\n  Button,\r\n  Col,\r\n  Form,\r\n  InputNumber,\r\n  Popconfirm,\r\n  Row,\r\n  Typography,\r\n} from \"antd\";\r\nimport { useForm } from \"antd/lib/form/Form\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { useState } from \"react\";\r\nimport { addBalanceToUser, resetUserBalance } from \"services/DiscoClubService\";\r\n\r\ninterface WalletEditProps {\r\n  fanId: string;\r\n  brandId: string;\r\n  getResources: () => Promise<any>;\r\n  label?: string;\r\n}\r\n\r\nconst WalletEdit: React.FC<WalletEditProps> = ({\r\n  fanId,\r\n  brandId,\r\n  getResources,\r\n  label,\r\n}) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doRequest } = useRequest({ setLoading: setLoading });\r\n  const [form] = useForm();\r\n\r\n  const addBalance = async ({ balanceToAdd }: { balanceToAdd: number }) => {\r\n    await doRequest(() => addBalanceToUser(fanId, brandId, balanceToAdd));\r\n    form.resetFields();\r\n    await getResources();\r\n  };\r\n\r\n  const resetBalance = async () => {\r\n    await doRequest(() => resetUserBalance(fanId, brandId));\r\n    await getResources();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Col lg={12} xs={24}>\r\n        <Form form={form} onFinish={addBalance}>\r\n          {label && (\r\n            <Typography.Title level={5} title={label}>\r\n              {label}\r\n            </Typography.Title>\r\n          )}\r\n          <Row gutter={4}>\r\n            <Col lg={8} xs={8}>\r\n              <Form.Item name=\"balanceToAdd\">\r\n                <InputNumber></InputNumber>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col lg={12} xs={12}>\r\n              <Row gutter={4}>\r\n                <Col>\r\n                  <Button htmlType=\"submit\" loading={loading} type=\"primary\">\r\n                    Add\r\n                  </Button>\r\n                </Col>\r\n                <Col>\r\n                  <Popconfirm\r\n                    title=\"Are you sure？\"\r\n                    okText=\"Yes\"\r\n                    cancelText=\"No\"\r\n                    onConfirm={resetBalance}\r\n                  >\r\n                    <Button danger>Reset</Button>\r\n                  </Popconfirm>\r\n                </Col>\r\n              </Row>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Col>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WalletEdit;\r\n","import { Col, PageHeader, Row, Table } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport { SelectBrand } from \"components/SelectBrand\";\r\nimport { SelectFan } from \"components/SelectFan\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport { Brand } from \"interfaces/Brand\";\r\nimport { Fan } from \"interfaces/Fan\";\r\nimport { Wallet } from \"interfaces/Wallet\";\r\nimport { WalletDetailParams } from \"interfaces/WalletTransactions\";\r\nimport { useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { fetchBalancePerBrand } from \"services/DiscoClubService\";\r\nimport WalletEdit from \"./WalletEdit\";\r\n\r\nconst Wallets: React.FC<RouteComponentProps> = () => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [selectedFan, setSelectedFan] = useState<Fan>();\r\n  const [selectedBrand, setSelectedBrand] = useState<Brand>();\r\n  const { doFetch } = useRequest({ setLoading: setLoading });\r\n\r\n  const {\r\n    // arrayList: wallets,\r\n    setArrayList: setWallets,\r\n    filteredArrayList: filteredWallets,\r\n    addFilterFunction,\r\n    removeFilterFunction,\r\n  } = useFilter<Wallet>([]);\r\n\r\n  const columns: ColumnsType<Wallet> = [\r\n    {\r\n      title: \"Brand\",\r\n      dataIndex: \"brandName\",\r\n      width: \"40%\",\r\n      render: (value: string, record: Wallet) => (\r\n        <Link\r\n          to={{\r\n            pathname: \"wallet\",\r\n            state: {\r\n              fan: selectedFan,\r\n              brand: {\r\n                id: record.brandId,\r\n                discoDollars: record.discoDollars,\r\n                discoGold: record.discoGold,\r\n                name: record.brandName,\r\n              },\r\n            } as WalletDetailParams,\r\n          }}\r\n        >\r\n          {value}\r\n        </Link>\r\n      ),\r\n    },\r\n    {\r\n      title: \"DD Balance\",\r\n      dataIndex: \"discoDollars\",\r\n      width: \"15%\",\r\n      align: \"right\",\r\n    },\r\n  ];\r\n\r\n  const onChangeFan = async (_selectedFan: Fan) => {\r\n    const { balance }: any = await doFetch(\r\n      () => fetchBalancePerBrand(_selectedFan.id),\r\n      true\r\n    );\r\n    setWallets(balance);\r\n    setSelectedFan(_selectedFan);\r\n  };\r\n\r\n  const onChangeBrand = async (_selectedBrand: Brand | undefined) => {\r\n    if (!_selectedBrand) {\r\n      removeFilterFunction(\"brandName\");\r\n      return;\r\n    }\r\n    addFilterFunction(\"brandName\", (wallets) =>\r\n      wallets.filter((wallet) => wallet.brandName === _selectedBrand.brandName)\r\n    );\r\n    setSelectedBrand(_selectedBrand);\r\n  };\r\n\r\n  return (\r\n    <div className=\"wallets\">\r\n      <PageHeader title=\"Fan Wallets\" subTitle=\"List of fan wallets\" />\r\n      <Row align=\"bottom\" justify=\"space-between\">\r\n        <Col lg={24} xs={24}>\r\n          <Row gutter={8}>\r\n            <Col lg={6} xs={12}>\r\n              <SelectFan onChange={onChangeFan} style={{ width: \"100%\" }} />\r\n            </Col>\r\n            <Col lg={6} xs={12}>\r\n              <SelectBrand\r\n                style={{ width: \"100%\" }}\r\n                allowClear={true}\r\n                onChange={onChangeBrand}\r\n              ></SelectBrand>\r\n            </Col>\r\n            {selectedFan && selectedBrand && (\r\n              <>\r\n                <WalletEdit\r\n                  fanId={selectedFan.id}\r\n                  brandId={selectedBrand.id}\r\n                  getResources={() => onChangeFan(selectedFan)}\r\n                  label=\"Manage DDs\"\r\n                />\r\n              </>\r\n            )}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredWallets}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wallets;\r\n","import { CalendarOutlined } from \"@ant-design/icons\";\r\nimport { Col, DatePicker, PageHeader, Row, Table, Typography } from \"antd\";\r\nimport { ColumnsType } from \"antd/lib/table\";\r\nimport useFilter from \"hooks/useFilter\";\r\nimport { useRequest } from \"hooks/useRequest\";\r\nimport {\r\n  WalletDetailParams,\r\n  WalletTransaction,\r\n} from \"interfaces/WalletTransactions\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { fetchTransactionsPerBrand } from \"services/DiscoClubService\";\r\nimport WalletEdit from \"./WalletEdit\";\r\n\r\nconst WalletDetail: React.FC<RouteComponentProps> = ({ location }) => {\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const { doFetch } = useRequest({ setLoading: setLoading });\r\n  const initial = location.state as unknown as WalletDetailParams;\r\n\r\n  const {\r\n    // arrayList: wallets,\r\n    setArrayList: setTransactions,\r\n    filteredArrayList: filteredTransactions,\r\n    addFilterFunction,\r\n    removeFilterFunction,\r\n  } = useFilter<WalletTransaction>([]);\r\n\r\n  const getResources = async () => {\r\n    const { results } = await doFetch(() =>\r\n      fetchTransactionsPerBrand(initial.fan.id, initial.brand.id)\r\n    );\r\n    setTransactions(results);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getResources();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const columns: ColumnsType<WalletTransaction> = [\r\n    {\r\n      title: \"Date Time\",\r\n      dataIndex: \"hCreationDate\",\r\n      width: \"20%\",\r\n      align: \"left\",\r\n      filterIcon: <CalendarOutlined />,\r\n      filterDropdown: () => (\r\n        <DatePicker.RangePicker\r\n          style={{ padding: 8 }}\r\n          onChange={handleDateChange}\r\n        />\r\n      ),\r\n      render: (value: Date) =>\r\n        `${moment(value).format(\"DD/MM/YYYY\")} ${moment(value).format(\r\n          \"HH:mm:ss\"\r\n        )}`,\r\n    },\r\n    {\r\n      title: \"Type\",\r\n      dataIndex: \"type\",\r\n      width: \"12%\",\r\n    },\r\n    {\r\n      title: \"Amount\",\r\n      dataIndex: \"discoDollars\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n    },\r\n    {\r\n      title: \"Who\",\r\n      dataIndex: \"userId\",\r\n      width: \"20%\",\r\n      align: \"right\",\r\n    },\r\n  ];\r\n\r\n  const handleDateChange = (values: any) => {\r\n    if (!values) {\r\n      removeFilterFunction(\"creationDate\");\r\n      return;\r\n    }\r\n    const startDate = moment(values[0], \"DD/MM/YYYY\").startOf(\"day\").utc();\r\n    const endDate = moment(values[1], \"DD/MM/YYYY\").endOf(\"day\").utc();\r\n    addFilterFunction(\"creationDate\", (transactions: WalletTransaction[]) =>\r\n      transactions.filter(({ hCreationDate }) => {\r\n        return moment(hCreationDate).utc().isBetween(startDate, endDate);\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"walletdetail\">\r\n      <PageHeader title=\"Wallet Fan/Brand Transactions\" />\r\n      <Row align=\"bottom\" justify=\"space-between\">\r\n        <Col lg={24} xs={24}>\r\n          <Row gutter={8}>\r\n            <Col lg={6} xs={12}>\r\n              <Typography.Text strong>Fan: {initial.fan.user}</Typography.Text>\r\n            </Col>\r\n            <Col lg={6} xs={12}>\r\n              <Typography.Text strong>\r\n                Brand: {initial.brand.name}\r\n              </Typography.Text>\r\n            </Col>\r\n            <WalletEdit\r\n              fanId={initial.fan.id}\r\n              brandId={initial.brand.id}\r\n              getResources={getResources}\r\n            />\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n      <Table\r\n        rowKey=\"id\"\r\n        columns={columns}\r\n        dataSource={filteredTransactions}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WalletDetail;\r\n","import { Switch } from \"react-router-dom\";\r\nimport Login from \"pages/login/Login\";\r\nimport VideoFeed from \"pages/video-feed/VideoFeed\";\r\nimport VideoFeedDetail from \"pages/video-feed/VideoFeedDetail\";\r\nimport ProductDetails from \"pages/products/ProductsDetails\";\r\nimport Creators from \"pages/creators/Creators\";\r\nimport CreatorDetail from \"pages/creators/CreatorDetail\";\r\nimport Products from \"pages/products/Products\";\r\nimport TagDetail from \"pages/tags/TagDetail\";\r\nimport Tags from \"pages/tags/Tags\";\r\nimport Brands from \"pages/brands/Brands\";\r\nimport BrandDetail from \"pages/brands/BrandDetail\";\r\nimport PromoCodes from \"pages/promo-codes/PromoCodes\";\r\nimport PromoCodesDetail from \"pages/promo-codes/PromoCodesDetail\";\r\nimport EndpointDetail from \"pages/endpoints/EndpointDetail\";\r\nimport Endpoints from \"pages/endpoints/Endpoints\";\r\nimport FanDetail from \"pages/fans/FanDetail\";\r\nimport Fans from \"pages/fans/Fans\";\r\nimport BrandManagers from \"pages/brand-managers/BrandManagers\";\r\nimport Settings from \"pages/settings/Settings\";\r\nimport Roles from \"pages/roles/Roles\";\r\nimport RoleDetail from \"pages/roles/RoleDetail\";\r\nimport AuthRoute from \"components/auth-route/AuthRoute\";\r\nimport AuthenticatedLayout from \"layout/AuthenticatedLayout\";\r\nimport OpenLayout from \"layout/OpenLayout\";\r\n// import Interfaces from \"pages/interfaces/Interfaces\";\r\n// import InterfaceDetail from \"pages/interfaces/InterfaceDetail\";\r\nimport AccessControl from \"pages/access-control/AccessControl\";\r\n// import Preview from \"pages/preview/Preview\";\r\nimport Categories from \"pages/categories/Categories\";\r\nimport CategoryDetail from \"pages/categories/CategoryDetail\";\r\nimport Orders from \"pages/orders/Orders\";\r\nimport OrderDetail from \"pages/orders/OrderDetail\";\r\nimport Transactions from \"pages/transactions/Transactions\";\r\nimport FeedMixer from \"pages/feed-mixer/FeedMixer\";\r\nimport StagingList from \"pages/products/StagingList\";\r\nimport Promotions from \"pages/promotions/Promotions\";\r\nimport PromotionDetail from \"pages/promotions/PromotionDetail\";\r\nimport DdTemplates from \"pages/dd-templates/DdTemplates\";\r\nimport DdTemplateDetail from \"pages/dd-templates/DdTemplateDetail\";\r\nimport PromoDisplay from \"pages/promo-display/PromoDisplay\";\r\nimport PromoDisplayDetail from \"pages/promo-display/PromoDisplayDetail\";\r\nimport Dashboard from \"pages/dashboard/Dashboard\";\r\nimport Interests from \"pages/interests/Interests\";\r\nimport FanGroups from \"pages/fan-groups/FanGroups\";\r\nimport FanGroupDetail from \"pages/fan-groups/FanGroupDetail\";\r\nimport Wallets from \"pages/wallets/Wallets\";\r\nimport WalletDetail from \"pages/wallets/WalletDetail\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nfunction AdminRoutes() {\r\n  return (\r\n    <Switch>\r\n      <AuthRoute\r\n        exact\r\n        path=\"/\"\r\n        returnComponent\r\n        component={<Redirect to=\"/dashboard\" />}\r\n      />\r\n      <AuthRoute\r\n        path=\"/dashboard\"\r\n        component={Dashboard}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute path=\"/login\" component={Login} layout={OpenLayout} />\r\n      <AuthRoute\r\n        path=\"/video-feed\"\r\n        component={VideoFeedDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/feed\"\r\n        component={VideoFeed}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/product/:productMode\"\r\n        component={ProductDetails}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/products\"\r\n        component={Products}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/creator\"\r\n        component={CreatorDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/creators\"\r\n        component={Creators}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/category\"\r\n        component={CategoryDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/categories\"\r\n        component={Categories}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/tag\"\r\n        component={TagDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute path=\"/tags\" component={Tags} layout={AuthenticatedLayout} />\r\n      <AuthRoute\r\n        path=\"/brand\"\r\n        component={BrandDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/brands\"\r\n        component={Brands}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/promo-code\"\r\n        component={PromoCodesDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/promo-codes\"\r\n        component={PromoCodes}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/endpoint\"\r\n        component={EndpointDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/endpoints\"\r\n        component={Endpoints}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      {/* <AuthRoute\r\n        path=\"/interface\"\r\n        component={InterfaceDetail}\r\n        layout={AuthenticatedLayout}\r\n      /> */}\r\n      {/* <AuthRoute\r\n        path=\"/interfaces\"\r\n        component={Interfaces}\r\n        layout={AuthenticatedLayout}\r\n      /> */}\r\n      <AuthRoute\r\n        path=\"/fan\"\r\n        component={FanDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute path=\"/fans\" component={Fans} layout={AuthenticatedLayout} />\r\n      <AuthRoute\r\n        path=\"/brand-managers\"\r\n        component={BrandManagers}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/role\"\r\n        component={RoleDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute path=\"/roles\" component={Roles} layout={AuthenticatedLayout} />\r\n      <AuthRoute\r\n        path=\"/settings\"\r\n        component={Settings}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/access-control\"\r\n        component={AccessControl}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      {/* <AuthRoute\r\n        path=\"/preview\"\r\n        component={Preview}\r\n        layout={AuthenticatedLayout}\r\n      /> */}\r\n      <AuthRoute\r\n        path=\"/order\"\r\n        component={OrderDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/orders\"\r\n        component={Orders}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/transactions\"\r\n        component={Transactions}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/feed-mixer\"\r\n        component={FeedMixer}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/staging-products\"\r\n        component={StagingList}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/promotion\"\r\n        component={PromotionDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/promotions\"\r\n        component={Promotions}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/dd-template\"\r\n        component={DdTemplateDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/dd-templates\"\r\n        component={DdTemplates}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/promo-display\"\r\n        component={PromoDisplayDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/promo-displays\"\r\n        component={PromoDisplay}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/interests\"\r\n        component={Interests}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/fans-group\"\r\n        component={FanGroupDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/fan-groups\"\r\n        component={FanGroups}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/wallet\"\r\n        component={WalletDetail}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/wallets\"\r\n        component={Wallets}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default AdminRoutes;\r\n","import AuthRoute from \"components/auth-route/AuthRoute\";\r\nimport AuthenticatedLayout from \"layout/AuthenticatedLayout\";\r\nimport OpenLayout from \"layout/OpenLayout\";\r\nimport Login from \"pages/login/Login\";\r\nimport StagingList from \"pages/products/StagingList\";\r\nimport ProductDetails from \"pages/products/ProductsDetails\";\r\nimport { Switch } from \"react-router-dom\";\r\nimport { Redirect } from \"react-router\";\r\n\r\nfunction BrandManagerRoutes() {\r\n  return (\r\n    <Switch>\r\n      <AuthRoute\r\n        exact\r\n        path=\"/\"\r\n        returnComponent\r\n        component={<Redirect to=\"/staging-list\" />}\r\n      />\r\n\r\n      <AuthRoute path=\"/login\" component={Login} layout={OpenLayout} />\r\n      <AuthRoute\r\n        path=\"/product/:productMode\"\r\n        component={ProductDetails}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n      <AuthRoute\r\n        path=\"/staging-list\"\r\n        component={StagingList}\r\n        layout={AuthenticatedLayout}\r\n      />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default BrandManagerRoutes;\r\n","import { useBuildTarget } from \"hooks/useBuildTarget\";\r\nimport AdminRoutes from \"./AdminRoutes\";\r\nimport BrandManagerRoutes from \"./BrandManagerRoutes\";\r\n\r\nconst Routes = () =>\r\n  useBuildTarget({\r\n    ADMIN: <AdminRoutes />,\r\n    BRAND_MANAGER: <BrandManagerRoutes />,\r\n  });\r\n\r\nexport default Routes;\r\n","import { isAuthenticated } from \"helpers/authFunctions\";\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { getSettings } from \"reducers/settings\";\r\nimport Routes from \"./routes/Routes\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated()) dispatch(getSettings());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Routes />\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport settingsReducer from \"reducers/settings\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    settings: settingsReducer,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport \"./index.scss\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport store from \"./store/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}