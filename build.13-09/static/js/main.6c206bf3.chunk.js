(this["webpackJsonpdiscoclub-admin"]=this["webpackJsonpdiscoclub-admin"]||[]).push([[0],{1030:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(45),i=n.n(c),s=n(77),o=(n(605),function(){return null!==localStorage.getItem("token")}),l=n(25),u=n(73),d=n(7),j=n.n(d),b=n(11),x=n(258),O=n(22),h=n(583),f=n(539),p=n.n(f).a.create({baseURL:"https://jfka72daefd700248f3a.discoclub.com",headers:{"Content-Type":"application/json"}});function m(e){for(var t in e)"id"===t?(e._id=e[t],delete e[t]):"object"===typeof e[t]&&m(e[t])}function g(e){for(var t in e)"_id"===t?(e.id=e[t],delete e[t]):"object"===typeof e[t]&&g(e[t]);return e}p.interceptors.request.use((function(e){var t=JSON.parse(JSON.stringify(e.data||{}));return t&&m(t),e.headers.Authorization="Bearer ".concat(localStorage.getItem("token")),e.data=t,e}));var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Something went wrong.",n=arguments.length>2?arguments[2]:void 0;throw h.b.error(t),n?Object(O.a)({error:e},n):e};p.interceptors.response.use((function(e){var t=null===e||void 0===e?void 0:e.data,n=t.error,a=t.message,r=t.success,c=t.results;return n?v(n,a||n,e.data):!1!==r||c&&!c.length||v(new Error("Request failed"),"Request failed."),g(e.data)}),(function(e){var t;switch(null===(t=e.response)||void 0===t?void 0:t.status){case 404:case 401:default:v(e)}}));var y=function(){return p.get("Wi/Ep/ListVideoFeed")},w=function(){return p.get("Wi/Ep/GetVideoFeed")},C=function(e){var t=e.brandId,n=e.query,a=e.unclassified,r=e.page,c=void 0===r?0:r,i=e.limit,s=void 0===i?0:i;return p.put("Disco/Product/Adm/List/".concat(c,"/").concat(s),{brandId:t,query:n,unclassified:a})},k=function(){return p.put("Disco/Staging/Product/List",{})},F=function(){return p.get("Wi/Ep/ListBrands")},S=function(){return p.get("Wi/Ep/GetProductCategories")},I={superCategory:{fetch:function(){return p.get("Wi/Ep/ListProductSuperCategories")},save:function(e){return e.id?p.post("Wi/Ep/UpdateProductSuperCategories",e):p.put("Wi/Ep/AddProductSuperCategories",e)},delete:function(e){return p.delete("Wi/Ep/RemoveProductSuperCategories",{data:e})}},category:{fetch:function(){return p.get("Wi/Ep/ListProductCategories")},save:function(e){return e.id?p.post("Wi/Ep/UpdateProductCategories",e):p.put("Wi/Ep/AddProductCategories",e)},delete:function(e){return p.delete("Wi/Ep/RemoveProductCategories",{data:e})}},subCategory:{fetch:function(){return p.get("Wi/Ep/ListProductSubCategories")},save:function(e){return e.id?p.post("Wi/Ep/UpdateProductSubCategories",e):p.put("Wi/Ep/AddProductSubCategories",e)},delete:function(e){return p.delete("Wi/Ep/RemoveProductSubCategories",{data:e})}},subSubCategory:{fetch:function(){return p.get("Wi/Ep/ListProductSubSubCategories")},save:function(e){return e.id?p.post("Wi/Ep/UpdateProductSubSubCategories",e):p.put("Wi/Ep/AddProductSubSubCategories",e)},delete:function(e){return p.delete("Wi/Ep/RemoveProductSubSubCategories",{data:e})}}},D=function(){return p.get("Wi/Ep/ListTags")},T=function(){return p.get("Wi/Ep/ListCreators")},P=function(){return p.get("Wi/Ep/ListUsers")},E=function(){return p.get("Wi/Ep/ListFans")},L=function(){return p.get("Wi/Ep/ListProfiles")},N=function(){return p.get("Wi/Ep/ListEndpoints")},A=function(e){return p.get("Disco/Feed/GetUserFeed/".concat(e))},V=function(){return p.get("Wi/Ep/ListPromoCodes")},M=function(){return p.get("Wi/Ep/ListPromotions")},U=function(){return p.get("Wi/Ep/ListPromoStatus")},R=function(){return p.get("Wi/Ep/ListDdTemplate")},Y=function(){return p.get("Wi/Ep/ListPromoDisplay")},B=function(){return p.get("Wi/Ep/ListInterest")},W=function(){return p.get("Wi/Ep/ListFanGroup")},K=function(e){return e.id?p.post("/Disco/Product/Update",e):p.put("/Disco/Product/Add",e)},q=function(e){return p.post("Disco/Staging/Product/Update",e)},G=function(e){return e.id?p.post("Disco/Creator/Update",e):p.put("Disco/Creator/Add",e)},H=function(e){return e.id?p.post("Disco/Brand/Update",e):p.put("Wi/Ep/AddBrand",e)},z=function(e){return p.post("Wi/Ep/AddPrivilege",e)},_=function(e){return e.id?p.post("Wi/Ep/UpdateOrder",e):p.put("Wi/Ep/AddOrder",e)},J=function(e){return e.id?p.post("Wi/Ep/UpdateFanGroup",e):p.put("Wi/EP/AddFanGroup",e)},X=function(e){return p.delete("Disco/Feed/Delete/".concat(e))},Z=function(e){return p.delete("Disco/Creator/Delete/".concat(e))},Q=function(e){return p.delete("Disco/Staging/Product/Remove/".concat(e))},$=function(e){return p.get("Disco/Staging/Product/Transfer/".concat(e))},ee=function(e){return p.get("Disco/Feed/LockUnlockUser/".concat(e,"/n"))},te=function(e){return p.get("Disco/Wallet/PreserveDdTagsToUser/".concat(e,"/y"))},ne=function(e){return p.get("Disco/Wallet/PreserveDdTagsToUser/".concat(e,"/n"))},ae=function(e,t){return p.put("Disco/Feed/UpdateUsersFeedByGroup/".concat(e),{feeds:t})},re=function(e,t,n){return p.get("Disco/Wallet/AddBalanceToUser/".concat(e,"/").concat(t,"/").concat(n))},ce=function(e,t){return p.get("Disco/Wallet/ResetUserBalance/".concat(e,"/").concat(t))},ie=Object(x.b)("settings/FetchSettings",Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("Wi/Ep/GetSettings");case 2:return t=e.sent,e.abrupt("return",t.results[0]);case 4:case"end":return e.stop()}}),e)})))),se=Object(x.c)({name:"settings",initialState:{settings:{}},reducers:{},extraReducers:Object(u.a)({},ie.fulfilled.type,(function(e,t){e.settings=t.payload}))}).reducer,oe=function(e){return e.ADMIN},le=n(58),ue=n(8),de=n(1058),je=n(1051),be=n(1057),xe=n(70),Oe=n(1),he=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=function(){var e=Object(b.a)(j.a.mark((function e(n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,r=n,p.put("Auth/GetApiToken",r);case 4:(a=e.sent).success&&(localStorage.setItem("token",a.token),t.push("/")),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:i(!1);case 11:case"end":return e.stop()}var r}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsx)(de.a,{children:Object(Oe.jsxs)(je.a,{name:"auth",initialValues:{remember:!0},onFinish:s,onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(Oe.jsx)(je.a.Item,{label:"Username",name:"user",rules:[{required:!0,message:"Please input your username!"}],children:Object(Oe.jsx)(be.a,{})}),Object(Oe.jsx)(je.a.Item,{label:"Password",name:"pwd",rules:[{required:!0,message:"Please input your password!"}],children:Object(Oe.jsx)(be.a.Password,{})}),Object(Oe.jsx)(je.a.Item,{children:Object(Oe.jsx)(xe.a,{type:"primary",htmlType:"submit",loading:c,children:"Submit"})})]})})},fe=n(34),pe=n(589),me=n(586),ge=n(1033),ve=n(1055),ye=n(591),we=n(1034),Ce=n(1056),ke=n(542),Fe=n(1048),Se=n(211),Ie=n(588),De=n(541);function Te(e){var t=e.id;return Object(Oe.jsx)(De.CopyToClipboard,{text:t,children:Object(Oe.jsx)(xe.a,{onClick:function(){h.b.success("Copied _id to Clipboard.")},type:"link",style:{borderWidth:"1px",borderColor:"#1890ff",borderStyle:"solid",width:"36px",padding:"0px 6px"},children:Object(Oe.jsx)(Ie.a,{})})})}var Pe=ge.a.Content,Ee=function(e){return e.reduce((function(e,t){var n;return e+(null===(n=t.tags)||void 0===n?void 0:n.length)}),0)},Le=Object(le.i)((function(e){var t=e.history,n=Object(a.useState)([]),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),o=Object(ue.a)(s,2),u=o[0],d=o[1],x=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,y();case 4:t=e.sent,d(!1),i(t.results),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),h.b.error("Error to get feed"),d(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,X(t);case 3:x();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/Disco/Feed/RebuildAll");case 2:h.b.success("All feeds was rebuilt");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=[{title:"_id",dataIndex:"id",width:"3%",render:function(e){return Object(Oe.jsx)(Te,{id:e})},align:"center"},{title:"Title",dataIndex:"title",width:"18%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"/video-feed",state:t},children:e})},align:"center"},{title:"Segments",dataIndex:"package",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:e.length})},width:"5%",align:"center"},{title:"Length",dataIndex:"lengthTotal",width:"5%",align:"center"},{title:"Expiration Date",dataIndex:"validity",width:"5%",render:function(e){return new Date(e).toLocaleDateString()},align:"center"},{title:"Tags",dataIndex:"package",width:"5%",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:Ee(e)})},align:"center"},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/video-feed",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return O(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}],g=Object(a.useState)([]),v=Object(ue.a)(g,2),w=v[0],C=v[1],k=Object(a.useState)(0),F=Object(ue.a)(k,2),S=F[0],I=F[1],D=function(){var e=function(){C((function(e){return Object(fe.a)(e.concat(c.slice(20*S,20*S+20)))})),I((function(e){return e+1}))};c.length&&(w.length?setTimeout(e,1e3):e())};return Object(a.useEffect)((function(){x()}),[]),Object(a.useEffect)((function(){D()}),[c]),Object(Oe.jsxs)("div",{className:"video-feed",children:[Object(Oe.jsx)(Ce.a,{title:"Video feed update",subTitle:"List of Feeds",extra:[Object(Oe.jsx)(xe.a,{disabled:!0,onClick:function(){ve.a.error({title:"Caution!!",content:"This action can't be undone and will remove and then generate feed for all Disco Fans. Are you sure you want to proceed?",onOk:f,okText:"Rebuild",okButtonProps:{danger:!0},closable:!0,onCancel:function(){}})},danger:!0,type:"primary",children:"Publish to Public"},"1"),Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/video-feed")},children:"New Item"},"2")]}),Object(Oe.jsx)(Pe,{children:Object(Oe.jsx)(Se.a,{dataLength:w.length,next:D,hasMore:u||w.length!==c.length,loader:!u&&Object(Oe.jsx)("div",{className:"scroll-message",children:Object(Oe.jsx)(ke.a,{})}),endMessage:Object(Oe.jsx)("div",{className:"scroll-message",children:Object(Oe.jsx)("b",{children:"End of results."})}),children:Object(Oe.jsx)(Fe.a,{size:"small",columns:m,rowKey:"id",dataSource:w,loading:u,pagination:!1})})})]})})),Ne=n(231),Ae=n(121),Ve=n(260),Me=function(e){var t=e.form,n=e.visible,r=Object(a.useRef)();Object(a.useEffect)((function(){r.current=n}),[n]);var c=r.current;Object(a.useEffect)((function(){!n&&c&&t.resetFields()}),[n,t,c])},Ue=n(169),Re=n(1052),Ye=Object(a.createContext)(null),Be=function(e){var t=e.title,n=e.editable,r=e.children,c=e.dataIndex,i=e.record,s=e.onSave,o=e.number,l=Object(Ue.a)(e,["title","editable","children","dataIndex","record","onSave","number"]),d=Object(a.useState)(!1),x=Object(ue.a)(d,2),h=x[0],f=x[1],p=Object(a.useRef)(null),m=Object(a.useRef)(null),g=Object(a.useContext)(Ye);Object(a.useEffect)((function(){h&&(o?m.current.focus():p.current.focus())}),[h,o]);var v=function(){f(!h),g.setFieldsValue(Object(u.a)({},c,i[c]))},y=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.validateFields();case 3:t=e.sent,v(),s(Object(O.a)(Object(O.a)({},i),t)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Save failed:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),w=r;return n&&(w=h?Object(Oe.jsx)(je.a.Item,{style:{margin:0},name:c,rules:[{required:!0,message:"".concat(t," is required.")}],children:o?Object(Oe.jsx)(Re.a,{ref:m,onPressEnter:y,onBlur:y}):Object(Oe.jsx)(be.a,{ref:p,onPressEnter:y,onBlur:y})}):Object(Oe.jsx)("div",{className:"editable-cell-value-wrap",onClick:v,children:r})),Object(Oe.jsx)("td",Object(O.a)(Object(O.a)({},l),{},{children:w}))},We=function(e){e.index;var t=Object(Ue.a)(e,["index"]),n=je.a.useForm(),a=Object(ue.a)(n,1)[0];return Object(Oe.jsx)(je.a,{form:a,component:!1,children:Object(Oe.jsx)(Ye.Provider,{value:a,children:Object(Oe.jsx)("tr",Object(O.a)({},t))})})},Ke=n(1047),qe=n(590),Ge=function(e){var t=e.fileList,n=e.maxCount,r=void 0===n?1:n,c=e.form,i=e.formProp,s=e.accept,o=void 0===s?"image/png, image/jpeg":s,l=Object(a.useState)([]),d=Object(ue.a)(l,2),x=d[0],O=d[1];Object(a.useEffect)((function(){t&&("string"===typeof t&&O([{url:t}]),"object"===typeof t&&(t.length>0?O(t):O([t])))}),[t]);var f=Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(qe.a,{}),Object(Oe.jsx)("div",{style:{marginTop:8},children:"Upload"})]});function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(1===t.length)return n?Object(u.a)({},n,Object(u.a)({},t[0],{})):Object(u.a)({},t[0],e);var a=p(e,t.slice(1),t.slice(0,1)[0]);return n?Object(u.a)({},n,a):a}var m=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url){e.next=5;break}return e.next=4,new Promise((function(e){var n=new FileReader;n.readAsDataURL(t.originFileObj),n.onload=function(){return e(n.result)}}));case 4:n=e.sent;case 5:(a=new Image).src=n,null===(r=window.open(n))||void 0===r||r.document.write(a.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g="".concat("https://jfka72daefd700248f3a.discoclub.com","/Wi/Upload");return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Ke.a,{action:g,headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},onChange:function(e){if(O(e.fileList),1===r)!function(e){if("string"===typeof i&&("removed"===e.file.status&&c.setFieldsValue(Object(u.a)({},i,{})),"done"===e.file.status)){var t=JSON.parse(e.file.xhr.response);c.setFieldsValue(Object(u.a)({},i,{url:t.result.replace(";",""),uid:e.file.uid}))}}(e);else{if("removed"===e.file.status){var t=c.getFieldValue("image")||[];"object"===typeof i?c.setFieldsValue(Object(u.a)({},i.slice(0,1)[0],p(t.filter((function(e){return"removed"!==e.status})),i.slice(1)))):c.setFieldsValue(Object(u.a)({},i,t.filter((function(e){return"removed"!==e.status}))))}if("done"===e.file.status){var n=JSON.parse(e.file.xhr.response),a=c.getFieldValue("image")||[];"object"===typeof i?c.setFieldsValue(Object(u.a)({},i.slice(0,1)[0],p([].concat(Object(fe.a)(a),[{url:n.result.replace(";",""),uid:e.file.uid}]),i.slice(1)))):c.setFieldsValue(Object(u.a)({},i,[].concat(Object(fe.a)(a),[{url:n.result.replace(";",""),uid:e.file.uid}]))),h.b.success("".concat(e.file.name," file uploaded successfully"))}else"error"===e.file.status&&h.b.error("".concat(e.file.name," file upload failed."))}},accept:o,listType:"picture-card",fileList:x,maxCount:r,onPreview:m,children:x.length>=r?null:f})})},He=function(e){var t=e.accept,n=void 0===t?"video/*":t;return Object(Oe.jsx)(Ge,Object(O.a)(Object(O.a)({},e),{},{accept:n}))},ze={ImageUpload:Ge,VideoUpload:He},_e=ze,Je=n(1075),Xe=n(545),Ze=n.n(Xe),Qe=n(339),$e=Object(Qe.c)((function(){return Object(Oe.jsx)(Je.a,{style:{cursor:"grab",color:"#999"}})})),et=Object(Qe.b)((function(e){return Object(Oe.jsx)("tr",Object(O.a)({},e))})),tt=Object(Qe.a)((function(e){return Object(Oe.jsx)("tbody",Object(O.a)({},e))})),nt=function(e){var t,n=e.columns,a=void 0===n?[]:n,r=e.setDataSource,c=(null===(t=e.dataSource)||void 0===t?void 0:t.map((function(e,t){return e.index=t,e})))||[],i=[{title:"Sort",dataIndex:"sort",width:"5%",className:"drag-visible",render:function(){return Object(Oe.jsx)($e,{})}}].concat(Object(fe.a)(a)),s=function(e){var t=e.oldIndex,n=e.newIndex;if(t!==n){var a=Ze()(Object(fe.a)(c),t,n).filter((function(e){return!!e}));r(a)}};return Object(Oe.jsx)(Fe.a,Object(O.a)(Object(O.a)({},e),{},{rowKey:"index",pagination:!1,dataSource:c,columns:i,components:{body:{wrapper:function(e){return Object(Oe.jsx)(tt,Object(O.a)({useDragHandle:!0,disableAutoscroll:!0,helperClass:"row-dragging",onSortEnd:s},e))},row:function(e){e.className,e.style;var t=Object(Ue.a)(e,["className","style"]),n=c.findIndex((function(e){return e.index===t["data-row-key"]}));return Object(Oe.jsx)(et,Object(O.a)({index:n},t))}}}}))},at=function(e){var t=e.tag,n=e.visible,r=e.selectedPositions,c=e.onCancel,i=e.onDeletePosition,s=e.onSavePosition,o=e.onAddPosition,l=Object(a.useState)([]),u=Object(ue.a)(l,2),d=u[0],x=u[1],h=Object(a.useState)(),f=Object(ue.a)(h,2),p=f[0],m=f[1],g=Object(a.useState)(!1),v=Object(ue.a)(g,2),y=v[0],w=v[1],C=je.a.useForm(),k=Object(ue.a)(C,1)[0];Object(a.useEffect)((function(){k.resetFields()}),[t,k]),Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:n=t.sent,e&&(x(n.results),w(!1));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return w(!0),function(){t.apply(this,arguments)}(),function(){e=!1}}),[]),Me({form:k,visible:n});var F={body:{row:We,cell:Be}},S=[{title:"Start time",dataIndex:"startTime",editable:!0,number:!0},{title:"Opacity",dataIndex:"opacity",editable:!0,number:!0},{title:"Position X",dataIndex:"x",editable:!0,number:!0},{title:"Position Y",dataIndex:"y",editable:!0,number:!0},{title:"Z Index",dataIndex:"z",editable:!0,number:!0},{title:"actions",dataIndex:"actions",render:function(e,t,n){return r.length>=1?Object(Oe.jsx)(we.a,{title:"Sure to delete?",onConfirm:function(){return i(n)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})}):null}}].map((function(e){return e.editable?Object(O.a)(Object(O.a)({},e),{},{onCell:function(t,n){return{record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,number:e.number,onSave:function(e){return s(e,n)}}}}):e}));return Object(Oe.jsx)(ve.a,{title:"Tag",visible:n,onOk:function(){k.setFieldsValue(Object(O.a)({},p)),k.submit()},onCancel:c,width:"80%",forceRender:!0,okButtonProps:{loading:y},children:Object(Oe.jsxs)(je.a,{form:k,name:"tagForm",initialValues:t,layout:"vertical",children:[Object(Oe.jsx)(be.a.Group,{children:Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:0,children:Object(Oe.jsx)(je.a.Item,{name:"tagName",label:"Tag",children:Object(Oe.jsx)(Ve.a,{onChange:function(e){m(d.find((function(t){return t.id===e})))},children:d.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.tagName},e.id)}))})})})})}),Object(Oe.jsx)(xe.a,{type:"primary",style:{margin:"8px 0"},onClick:function(){return o()},children:"Add Movements"}),Object(Oe.jsx)(Fe.a,{rowKey:function(e){return"posotion_".concat(e.x,"_").concat(e.z,"_").concat(Math.random())},title:function(){return"Tag Motion"},components:F,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:r,columns:S})]})})},rt=function(e){var t=e.brand,n=e.visible,r=e.onCancel,c=je.a.useForm(),i=Object(ue.a)(c,1)[0],s=Object(a.useState)([]),o=Object(ue.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(!1),x=Object(ue.a)(d,2),h=x[0],f=x[1],p=Object(a.useState)(),m=Object(ue.a)(p,2),g=m[0],v=m[1];Object(a.useEffect)((function(){i.resetFields()}),[t,i]),Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:n=t.sent,e&&(u(n.results),f(!1));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return f(!0),function(){t.apply(this,arguments)}(),function(){e=!1}}),[]),Me({form:i,visible:n});return Object(Oe.jsx)(ve.a,{title:"Brand",visible:n,onOk:function(){i.setFieldsValue(Object(O.a)({},g)),i.submit()},onCancel:r,width:"80%",okButtonProps:{loading:h},forceRender:!0,children:Object(Oe.jsx)(je.a,{form:i,name:"brandForm",initialValues:t,layout:"vertical",children:Object(Oe.jsx)(be.a.Group,{children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:0,children:Object(Oe.jsx)(je.a.Item,{name:"brandName",label:"Brand",children:Object(Oe.jsx)(Ve.a,{onChange:function(e){v(l.find((function(t){return t.id===e})))},children:l.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.brandName},e.id)}))})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"startTime",label:"Start Time",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"duration",label:"Duration",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"opacity",label:"Opacity",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"x",label:"Position X",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"y",label:"Position Y",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"z",label:"Z Index",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})})]})})})})},ct=n(1053),it=n(407),st=n(328),ot=n(1050),lt=n(1046),ut=n(37),dt=n.n(ut),jt=function(e){return{value:"string"===typeof e?dt()(e):e}},bt=n(1076),xt=function(e){var t=e.segment,n=e.onCancel,r=e.formFn,c=je.a.useForm(),i=Object(ue.a)(c,1)[0];r(i);var s=Object(a.useState)([]),o=Object(ue.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)([]),x=Object(ue.a)(d,2),h=x[0],f=x[1],p=Object(a.useState)([]),m=Object(ue.a)(p,2),g=m[0],v=m[1],y=Object(a.useState)([]),w=Object(ue.a)(y,2),C=w[0],k=w[1],S=Object(a.useState)(!1),I=Object(ue.a)(S,2),T=I[0],P=I[1];Object(a.useEffect)((function(){i.resetFields();var e=i.getFieldValue("tags");v((function(t){return e.forEach((function(e,n){var a;t[n]=(null===(a=e.brand)||void 0===a?void 0:a.id)||""})),Object(fe.a)(t)})),f((function(t){return e.forEach((function(e,n){t[n]=l.filter((function(t){var n,a;return(null===(n=t.brand)||void 0===n?void 0:n.id)===(null===(a=e.brand)||void 0===a?void 0:a.id)}))})),Object(fe.a)(t)}))}),[t,i,l]),Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D();case 2:n=t.sent,e&&(u(n.results),P(!1));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F();case 2:n=t.sent,e&&(k(n.results),P(!1));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return P(!0),function(){t.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){e=!1}}),[]);return Object(Oe.jsxs)(je.a,{form:i,initialValues:t,name:"segmentForm",layout:"vertical",children:[Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"sequence",label:"Sequence",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsxs)(Ae.a,{lg:6,xs:24,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Video URL",children:Object(Oe.jsx)(_e.VideoUpload,{fileList:null===t||void 0===t?void 0:t.video,formProp:"video",form:i})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Thumbnail URL",children:Object(Oe.jsx)(_e.ImageUpload,{form:i,formProp:"thumbnail",fileList:null===t||void 0===t?void 0:t.thumbnail})})})]}),Object(Oe.jsxs)(Ae.a,{lg:18,xs:24,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(ct.a.Title,{level:4,children:"Brands"})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.List,{name:"brands",children:function(e,t){var n=t.add,a=t.remove;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsx)(Ae.a,{lg:4,xs:24,style:{display:"flex",alignItems:"center"},children:Object(Oe.jsx)(xe.a,{onClick:function(){return n({position:[{startTime:1,opacity:1,duration:2,x:100,y:100,z:1}]})},children:"Add Brand"})})}),e.map((function(e){return Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"id"],label:"Brand",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{showSearch:!0,filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},onChange:function(t){return function(e,t){var n=i.getFieldValue("brands"),a=C.find((function(t){return t.id===e})),r=Object(O.a)({},a);r.selectedLogo&&(r.selectedLogoUrl=a[r.selectedLogo].url),n[t]=r,i.setFieldsValue({brands:n}),i.setFields([{name:"brands",touched:!0}])}(t,e.name)},loading:T,children:C.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.brandName},e.id)}))})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(t,n){var a,r;return(null===(a=t.brands[e.name])||void 0===a?void 0:a.id)!==(null===(r=n.brands[e.name])||void 0===r?void 0:r.id)},children:function(t){var n,a,r,c,s=(0,t.getFieldValue)("brands")[e.name];return Object(Oe.jsx)(je.a.Item,{name:[e.name,"selectedLogo"],label:"Brand logo",children:Object(Oe.jsxs)(Ve.a,{placeholder:"Please select a logo",onChange:function(t){return function(e,t){var n=i.getFieldValue("brands"),a=n[t];n[t].selectedLogoUrl=a[e].url,i.setFieldsValue({brands:n}),i.setFields([{name:"brands",touched:!0}])}(t,e.name)},children:[(null===(n=s.brandLogo)||void 0===n?void 0:n.url)&&Object(Oe.jsx)(Ve.a.Option,{value:"brandLogo",children:"Brand"}),(null===(a=s.colourLogo)||void 0===a?void 0:a.url)&&Object(Oe.jsx)(Ve.a.Option,{value:"colourLogo",children:"Colour"}),(null===(r=s.blackLogo)||void 0===r?void 0:r.url)&&Object(Oe.jsx)(Ve.a.Option,{value:"blackLogo",children:"Black"}),(null===(c=s.whiteLogo)||void 0===c?void 0:c.url)&&Object(Oe.jsx)(Ve.a.Option,{value:"whiteLogo",children:"White"})]})})}})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"startTime"],fieldKey:[e.fieldKey,"startTime"],label:"Start Time",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"opacity"],fieldKey:[e.fieldKey,"opacity"],label:"Opacity",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"duration"],fieldKey:[e.fieldKey,"duration"],label:"duration",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"x"],fieldKey:[e.fieldKey,"x"],label:"Position X",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"y"],fieldKey:[e.fieldKey,"y"],label:"position Y",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"z"],fieldKey:[e.fieldKey,"z"],label:"Z Index",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{style:{display:"flex",alignItems:"center"},children:Object(Oe.jsx)(bt.a,{onClick:function(){return a(e.name)}})})]},Math.random())}))]})}})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(ct.a.Title,{level:4,children:"Tags"})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.List,{name:"tags",children:function(e,t){var n=t.add,a=t.remove;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(xe.a,{onClick:function(){return n({position:[{startTime:1,opacity:1,duration:2,x:100,y:100,z:1}]})},children:"Add Tag"}),e.map((function(e,t){return Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Brand",children:Object(Oe.jsx)(Ve.a,{showSearch:!0,allowClear:!0,filterOption:function(e,t){return(null===t||void 0===t?void 0:t.children.toLowerCase().indexOf(e.toLowerCase()))>=0},loading:T,onChange:function(e){return function(e,t){if(f((function(n){return n[t]=e?l.filter((function(t){var n;return(null===(n=t.brand)||void 0===n?void 0:n.id)===e})):l,Object(fe.a)(n)})),v((function(n){return n[t]=e,Object(fe.a)(n)})),e){var n=i.getFieldValue("tags");n[t].id="",i.setFieldsValue({tags:n})}}(e,t)},value:g[t],children:C.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.brandName},e.id)}))})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"id"],label:"Tag",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{onChange:function(n){return function(e,t,n){var a=i.getFieldValue("tags"),r=l.find((function(t){return t.id===e})),c=Object(O.a)(Object(O.a)({},a[t]),r);a[t]=c,v((function(e){var t;return e[n]=(null===r||void 0===r||null===(t=r.brand)||void 0===t?void 0:t.id)||"",e})),i.setFieldsValue({tags:a}),i.setFields([{name:"tags",touched:!0}])}(n,e.name,t)},loading:T,children:(h[t]?h[t]:l).map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.tagName},e.id)}))})})}),Object(Oe.jsx)(Ae.a,{lg:3,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"startTime"],fieldKey:[e.fieldKey,"startTime"],label:"Start Time",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:3,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"opacity"],fieldKey:[e.fieldKey,"opacity"],label:"Opacity",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:3,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"duration"],fieldKey:[e.fieldKey,"duration"],label:"duration",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:3,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"x"],fieldKey:[e.fieldKey,"x"],label:"Position X",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:3,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"y"],fieldKey:[e.fieldKey,"y"],label:"Position Y",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:3,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"position",0,"z"],fieldKey:[e.fieldKey,"z"],label:"Z Index",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{style:{display:"flex",alignItems:"center"},children:Object(Oe.jsx)(bt.a,{onClick:function(){return a(e.name)}})})]},Math.random())}))]})}})})]})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{onClick:n,children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"primary",htmlType:"submit",loading:T,children:"Save Segment"})})]})]})},Ot=(n(682),n(187)),ht=n(546),ft=n.n(ht),pt=n(547),mt=n.n(pt),gt=n(548),vt=(n(776),function(e){var t=e.formField,n=e.form,r=n.getFieldValue(t),c=r?Ot.EditorState.createWithContent(Ot.ContentState.createFromBlockArray(ft()(r).contentBlocks)):Ot.EditorState.createEmpty(),i=Object(a.useState)(c),s=Object(ue.a)(i,2),o=s[0],l=s[1];return Object(Oe.jsx)(gt.Editor,{editorState:o,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:function(e){l(e),n.setFieldsValue(Object(u.a)({},t,mt()(Object(Ot.convertToRaw)(o.getCurrentContent()))))}})}),yt=(n(777),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.setLoading,n=void 0===t?function(){}:t,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=function(e){s(e),n(e)},l=function(){var e=Object(b.a)(j.a.mark((function e(t,n,a){var r,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,t();case 4:return r=e.sent,c=r.results,i=void 0===c?[]:c,s=r.result,n&&h.b.success(n),o(!1),e.abrupt("return",a?r:{results:i,result:s});case 11:if(e.prev=11,e.t0=e.catch(1),o(!1),!a){e.next=16;break}return e.abrupt("return",e.t0);case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),u=function(e,t){return l(e,void 0,t)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Register updated with success.";return l(e,t)},x=function(e){return l(e,"Test Passed.",!0)};return{doFetch:u,doRequest:d,doAPITest:x,loading:i}}),wt=ct.a.Title,Ct=function(e){var t=e.history,n=e.location.state,r=Object(s.c)((function(e){return e.settings})).settings.language,c=void 0===r?[]:r,i=je.a.useForm(),o=Object(ue.a)(i,1)[0],l=Object(a.useState)(!1),u=Object(ue.a)(l,2),d=u[0],x=u[1],f=Object(a.useState)(!1),m=Object(ue.a)(f,2),g=m[0],v=m[1],y=Object(a.useState)(!1),w=Object(ue.a)(y,2),C=w[0],k=w[1],F=Object(a.useState)([]),I=Object(ue.a)(F,2),D=I[0],E=I[1],L=Object(a.useState)([]),N=Object(ue.a)(L,2),A=N[0],V=N[1],M=Object(a.useState)(""),U=Object(ue.a)(M,2),R=U[0],Y=U[1],B=Object(a.useState)(),W=Object(ue.a)(B,2),K=W[0],q=W[1],G=Object(a.useState)(0),H=Object(ue.a)(G,2),z=H[0],_=H[1],J=Object(a.useState)(!1),X=Object(ue.a)(J,2),Z=X[0],Q=X[1],$=Object(a.useState)([]),ee=Object(ue.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)([]),re=Object(ue.a)(ae,2),ce=re[0],ie=re[1],se=Object(a.useState)(),oe=Object(ue.a)(se,2),le=oe[0],de=oe[1],he=Object(a.useState)(-1),pe=Object(ue.a)(he,2),ge=pe[0],ye=pe[1],we=Object(a.useState)(!1),ke=Object(ue.a)(we,2),Fe=ke[0],Se=ke[1],Ie=Object(a.useState)(),De=Object(ue.a)(Ie,2),Te=De[0],Pe=De[1],Ee=Object(a.useState)(-1),Le=Object(ue.a)(Ee,2),Me=Le[0],Ue=Le[1],Ye=Object(a.useState)([12,100]),Be=Object(ue.a)(Ye,2),We=Be[0],Ke=Be[1],qe=Object(a.useState)(),Ge=Object(ue.a)(qe,2),He=Ge[0],ze=Ge[1],_e=yt({setLoading:x}).doRequest;Object(a.useEffect)((function(){function e(){return(e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,E(t.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,ie(t.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,V(t.results);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){t.apply(this,arguments)}(),function(){n.apply(this,arguments)}()}),[]);var Je=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=o.getFieldsValue(!0)).package=null===(n=a.package)||void 0===n?void 0:n.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{tags:e.tags?e.tags:[]})})),e.next=4,_e((function(){return(e=a).id?p.put("Disco/Feed/Update",e):p.put("Disco/Feed/Add",e);var e}));case 4:t.push("/feed");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe=function(e,t){e.stopPropagation();var n=Object(fe.a)(o.getFieldValue("package"));n.splice(t,1),o.setFieldsValue({package:Object(fe.a)(n)}),Pe(void 0),Ue(-1)},Ze=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e((function(){return e=R,p.get("/Disco/Feed/RebuildOne/".concat(e));var e}));case 2:Y(""),k(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e((function(){return e=n.id,t=R,p.get("Disco/Feed/LockToOne/".concat(e,"/").concat(t));var e,t}));case 2:Y(""),v(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(e){Y(e)};Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.ageMin)&&(null===n||void 0===n?void 0:n.ageMax)&&Ke([null===n||void 0===n?void 0:n.ageMin,null===n||void 0===n?void 0:n.ageMax])}),[n]);return Object(Oe.jsxs)("div",{className:"video-feed-detail",children:[Object(Oe.jsx)(Ce.a,{title:"Video feed update",subTitle:"Video",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){v(!0)},type:"primary",danger:!0,disabled:!(null===n||void 0===n?void 0:n.id),children:"Lock user feed"},"lock-button"),Object(Oe.jsx)(xe.a,{onClick:function(){k(!0)},type:"primary",disabled:!(null===n||void 0===n?void 0:n.id),children:"Unlock user feed"},"unlock-button")]}),Object(Oe.jsxs)(je.a.Provider,{onFormFinish:function(e,t){t.values;var n=t.forms;if("tagForm"===e){var a=n.segmentForm,r=n.tagForm,c=a.getFieldValue("tags")||[],i=r.getFieldsValue(!0);z>-1?(c[z]=i,c[z].position=te,a.setFieldsValue({tags:Object(fe.a)(c)})):(i.position=te,a.setFieldsValue({tags:[].concat(Object(fe.a)(c),[i])})),ne([]),Q(!1)}if("brandForm"===e){var s=n.segmentForm,o=n.brandForm,l=s.getFieldValue("brands")||[],u=o.getFieldsValue(!0);ge>-1?(l[ge]=u,s.setFieldsValue({brands:Object(fe.a)(l)})):s.setFieldsValue({brands:[].concat(Object(fe.a)(l),[u])}),Se(!1)}if("segmentForm"===e){var d=n.feedForm,j=n.segmentForm,b=d.getFieldValue("package")||[];Me>-1?(b[Me]=j.getFieldsValue(!0),d.setFieldsValue({package:Object(fe.a)(b)})):d.setFieldsValue({package:[].concat(Object(fe.a)(b),[j.getFieldsValue(!0)])}),Pe(void 0),Ue(-1)}},children:[Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(je.a,{form:o,onFinish:Je,name:"feedForm",initialValues:n,onFinishFailed:function(e){e.errorFields.forEach((function(e){h.b.error(e.errors[0])}))},layout:"vertical",className:"video-feed",children:[Object(Oe.jsxs)(it.a,{defaultActiveKey:"Video Details",children:[Object(Oe.jsx)(it.a.TabPane,{tab:"Video Details",children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"status",label:"Status",children:Object(Oe.jsxs)(st.a.Group,{buttonStyle:"solid",children:[Object(Oe.jsx)(st.a.Button,{value:"live",children:"Live"}),Object(Oe.jsx)(st.a.Button,{value:"paused",children:"Paused"}),Object(Oe.jsx)(st.a.Button,{value:"expired",children:"Expired"}),Object(Oe.jsx)(st.a.Button,{value:"pending",children:"Pending"})]})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"title",label:"Title",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"shortDescription",label:"Short description",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"category",label:"Category",children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a category",children:A.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.name,children:e.name},e.name)}))})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:["creator","id"],label:"Creator",children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a creator",onChange:function(e){return o.setFieldsValue({creator:ce.find((function(t){return t.id===e}))})},children:ce.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.firstName},e.id)}))})})})]})},"Video Details"),Object(Oe.jsx)(it.a.TabPane,{tab:"Descriptors",children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"description",label:"Long description",children:Object(Oe.jsx)(vt,{formField:"description",form:o})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"creatorHtml",label:"Creator Descriptor",children:Object(Oe.jsx)(vt,{formField:"creatorHtml",form:o})})})]})},"Descriptors"),Object(Oe.jsxs)(it.a.TabPane,{tab:"Settings",children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"lengthTotal",label:"Length",children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"format",label:"Format",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"language",label:"Language",children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a language",children:c.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.value,children:e.name},e.value)}))})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"videoType",label:"Video Type",rules:[{required:!0}],children:Object(Oe.jsxs)(Ve.a,{mode:"multiple",children:[Object(Oe.jsx)(Ve.a.Option,{value:"Feed",children:"Feed"}),Object(Oe.jsx)(Ve.a.Option,{value:"Brand",children:"Brand"}),Object(Oe.jsx)(Ve.a.Option,{value:"Review",children:"Review"})]})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(ct.a.Title,{level:4,children:"Target"})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Slider",children:Object(Oe.jsx)(ot.a,{range:!0,marks:{12:"12",100:"100"},min:12,max:100,value:We,onChange:function(e){o.setFieldsValue({ageMin:e[0],ageMax:e[1]}),Ke(e)}})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"gender",label:"Gender",children:Object(Oe.jsxs)(Ve.a,{mode:"multiple",children:[Object(Oe.jsx)(Ve.a.Option,{value:"Female",children:"Female"}),Object(Oe.jsx)(Ve.a.Option,{value:"Male",children:"Male"}),Object(Oe.jsx)(Ve.a.Option,{value:"Other",children:"Other"}),Object(Oe.jsx)(Ve.a.Option,{value:"Prefer not to say",children:"Prefer not to say"})]})})})]})]},"Settings"),Object(Oe.jsxs)(it.a.TabPane,{tab:"Segments",children:[Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"goLiveDate",label:"Go Live Date",getValueProps:jt,children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"validity",label:"Expiration Date",getValueProps:jt,children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})})]})})}),Object(Oe.jsx)(xe.a,{htmlType:"button",style:{margin:"8px 0"},onClick:function(){var e=o.getFieldValue("package");Pe({sequence:e?e.length+1:1,tags:[]}),Ue(-1)},children:"Add Segment"}),Object(Oe.jsx)(wt,{level:3,children:"Segments"}),Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.package!==t.package},children:function(e){var t=(0,e.getFieldValue)("package")||[];return Object(Oe.jsx)("div",{style:{display:"flex"},children:t.map((function(e,t){var n,a,r,c;return Object(Oe.jsx)("div",{className:"segment-thumbnail ".concat(Me===t?"selected":""),onClick:function(){return function(e,t){(null===He||void 0===He?void 0:He.isFieldsTouched())&&(console.log(He.getFieldsValue(!0)),He.submit()),setTimeout((function(){Pe(e),Ue(t)}),1)}(e,t)},children:(null===e||void 0===e||null===(n=e.thumbnail)||void 0===n?void 0:n.url)?[Object(Oe.jsx)("img",{alt:e.thumbnail||"Thumbnail",src:null===(a=e.thumbnail)||void 0===a?void 0:a.url,style:{height:"auto",width:"100%"}},null===(r=e.thumbnail)||void 0===r?void 0:r.url),Object(Oe.jsx)(xe.a,{icon:Object(Oe.jsx)(me.a,{}),shape:"circle",danger:!0,type:"primary",className:"remove-button",onClick:function(e){return Xe(e,t)}},"botao_".concat(null===(c=e.thumbnail)||void 0===c?void 0:c.url))]:[Object(Oe.jsx)(xe.a,{icon:Object(Oe.jsx)(me.a,{}),shape:"circle",type:"primary",danger:!0,onClick:function(e){return Xe(e,t)}}),Object(Oe.jsx)("div",{children:"No Thumbnail"})]},e.sequence)}))})}})]},"Segments")]}),Object(Oe.jsxs)(Ne.a,{gutter:8,hidden:!!Te,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/feed")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"primary",onClick:Je,loading:d,children:"Save Changes"})})]})]})}),Te&&Object(Oe.jsx)(xt,{segment:Te,onCancel:function(){Pe(void 0)},onEditTag:function(e,t){q(e),Q(!0),_(t),ne(e.position||[])},onEditBrand:function(e,t){de(e),ye(t),Se(!0)},onAddBrand:function(){de(void 0),ye(-1),Se(!0)},onAddTag:function(){q(void 0),_(-1),ne([]),Q(!0)},formFn:function(e){setTimeout((function(){ze(e)}),1)}}),Object(Oe.jsx)(rt,{visible:Fe,brand:le,onCancel:function(){Se(!1)}}),Object(Oe.jsx)(at,{visible:Z,onCancel:function(){Q(!1)},tag:K,selectedPositions:te,onDeletePosition:function(e){var t=Object(fe.a)(te);t.splice(e,1),ne(t)},onSavePosition:function(e,t){var n=Object(fe.a)(te),a=n[t];n.splice(t,1,Object(O.a)(Object(O.a)({},a),e)),ne(n)},onAddPosition:function(){ne([].concat(Object(fe.a)(te),[{key:"".concat(Math.random()),startTime:0,opacity:0,x:0,y:0,z:0}]))}}),Object(Oe.jsx)(ve.a,{visible:g,onCancel:function(){return v(!1)},onOk:function(){return Qe()},okButtonProps:{disabled:!R},title:"Lock feed to User",children:Object(Oe.jsx)(Ve.a,{onChange:$e,placeholder:"Please select user",style:{width:"100%"},children:D.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:"".concat(e.name," - ").concat(e.user)},e.id)}))})}),Object(Oe.jsx)(ve.a,{visible:C,onCancel:function(){return k(!1)},onOk:function(){return Ze()},okButtonProps:{disabled:!R},title:"Unlock user feed",children:Object(Oe.jsx)(Ve.a,{onChange:$e,placeholder:"Please select user",style:{width:"100%"},children:D.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:"".concat(e.name," - ").concat(e.user)},e.id)}))})})]})]})},kt=n(1085),Ft="57111747-53ad-4449-a624-87f1c1545262_STR",St=[{key:"Super Category",field:"superCategory",ep:"ProductSuperCategories"},{key:"Category",field:"category",ep:"ProductCategories"},{key:"Sub Category",field:"subCategory",ep:"ProductSubCategories"},{key:"Sub Sub Category",field:"subSubCategory",ep:"ProductSubSubCategories"}],It={categoriesArray:St,categoriesKeys:St.map((function(e){return e.key})),categoriesFields:St.map((function(e){return e.field})),categoriesEps:St.map((function(e){return e.ep}))},Dt=It.categoriesKeys,Tt=It.categoriesFields,Pt=It.categoriesArray,Et=function(e){var t=e.initialValues,n=e.setLoading,r=e.allCategories,c=Object(a.useState)({"Super Category":[],Category:[],"Sub Category":[],"Sub Sub Category":[]}),i=Object(ue.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)({"Super Category":[],Category:[],"Sub Category":[],"Sub Sub Category":[]}),u=Object(ue.a)(l,2),d=u[0],x=u[1],h=yt({setLoading:n}).doFetch,f=Object(a.useState)(t||{}),p=Object(ue.a)(f,2),m=p[0],g=p[1],v=function(e,t,n){var a=Dt.indexOf(t),r=Tt[a],c=Dt[a+1];c&&(n[c]=s[c].filter((function(t){if(!(t[r]===e))return!1;for(var n=a;n>0;n--){var c=Tt[n-1];if(!(m[c]===t[c]))return!1}return!0}))),g((function(t){return t[r]=e,t}))};return Object(a.useEffect)((function(){r&&o(r)}),[r]),Object(a.useEffect)((function(){if(t&&s["Super Category"].length){var e={"Super Category":[],Category:[],"Sub Category":[],"Sub Sub Category":[]};Pt.forEach((function(n){var a=n.key,r=n.field,c=t[r];c&&v(c,a,e)})),x(Object(O.a)(Object(O.a)({},e),{},{"Super Category":s["Super Category"]}))}else x((function(e){return Object(O.a)(Object(O.a)({},e),{},{"Super Category":s["Super Category"]})}))}),[s,x]),{fetchAllCategories:Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([h(I.superCategory.fetch),h(I.category.fetch),h(I.subCategory.fetch),h(I.subSubCategory.fetch)]);case 2:t=e.sent,o({"Super Category":t[0].results,Category:t[1].results,"Sub Category":t[2].results,"Sub Sub Category":t[3].results});case 4:case"end":return e.stop()}}),e)}))),[]),allCategories:s,filteredCategories:d,filterCategory:function(e,t,n){for(var a=Object(O.a)({},d),r=Dt.indexOf(t),c=r+1;c<Dt.length;c++){var i=Dt[c];c===r+1?v(e,Dt[r],a):a[i]=[],n(Tt[c])}x(a)}}},Lt=n(1077),Nt=It.categoriesArray,At=function(e){var t={superCategory:""};return Object.keys(e).forEach((function(n){var a=n;e[a]?t[a]=e[a][a]:delete t[a]})),t},Vt=function(e){var t=e.allCategories,n=e.productCategoryIndex,a=e.initialValues,r=e.handleCategoryChange,c=Et({initialValues:At(a[n]),allCategories:t}),i=c.filteredCategories,s=c.filterCategory;return Object(Oe.jsx)(Oe.Fragment,{children:Nt.map((function(e,t){var a=e.key,c=e.field;return Object(Oe.jsx)(je.a.Item,{label:a,name:["categories",n,c,"id"],rules:[{required:t<2,message:"".concat(a," is required")}],children:Object(Oe.jsx)(Ve.a,{disabled:!i[a].length,allowClear:t>=2,placeholder:"Please select a category",style:{width:"180px"},onChange:function(e,t){return function(e,t){var a=Nt.map((function(t){var n=t.key,a=t.field,r=e;return i[n].find((function(e){return e[a]===r}))})).filter((function(e){return e}));r(a,n,(function(a){s(e,t,(function(e){var t=a.getFieldValue("categories");t[n][e]=void 0,a.setFieldsValue({categories:t})}))}))}(null===t||void 0===t?void 0:t.children,a)},children:i[a].map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e[c]},e.id)}))})},t)}))})},Mt=function(e){var t=e.categories,n=e.allCategories,r=e.form,c=e.handleCategoryChange,i=Object(a.useState)(t||[{}]),s=Object(ue.a)(i,2),o=s[0],l=s[1];return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)(Ae.a,{lg:24,xs:12,children:[o.map((function(e,t){return Object(Oe.jsxs)(Ne.a,{justify:"space-between",style:{maxWidth:"1000px"},children:[Object(Oe.jsx)(Vt,{productCategoryIndex:t,initialValues:o,allCategories:n,handleCategoryChange:c}),o.length>1?Object(Oe.jsxs)(xe.a,{onClick:function(){return function(e){var t=r.getFieldValue("categories");r.setFieldsValue({categories:[].concat(Object(fe.a)(t.slice(0,e)),Object(fe.a)(t.slice(e+1)))}),l((function(t){return[].concat(Object(fe.a)(t.slice(0,e)),Object(fe.a)(t.slice(e+1)))}))}(t)},type:"link",style:{padding:0,marginTop:"30px"},children:["Remove Category Tree",Object(Oe.jsx)(Lt.a,{})]}):Object(Oe.jsx)("div",{style:{width:"168px"}})]},t)})),Object(Oe.jsxs)(xe.a,{onClick:function(){l((function(e){return[].concat(Object(fe.a)(e),[{}])}))},type:"link",style:{padding:0,marginTop:"-6px",marginBottom:"16px"},children:["Add Category Tree",Object(Oe.jsx)(qe.a,{})]})]})})},Ut=(n(778),It.categoriesKeys),Rt=It.categoriesFields,Yt=[{title:"ID",dataIndex:"videoFeedId",width:"50%",align:"center"},{title:"Thumbnail URL",dataIndex:"thumbnailUrl",width:"50%"}],Bt=function(e){var t=e.history,n=e.location,r="staging"===Object(le.h)().productMode,c=r?q:K,i=r?"/staging-products":"/products",o=n.state,l=Object(a.useState)(!1),u=Object(ue.a)(l,2),d=u[0],x=u[1],O=Object(a.useState)([]),f=Object(ue.a)(O,2),p=f[0],m=f[1],g=Object(a.useState)([12,100]),v=Object(ue.a)(g,2),y=v[0],w=v[1],C=je.a.useForm(),k=Object(ue.a)(C,1)[0],S=Object(a.useState)(!1),I=Object(ue.a)(S,2),D=I[0],T=I[1],P=Et({setLoading:x}),E=P.fetchAllCategories,L=P.allCategories,N=Object(s.c)((function(e){return e.settings})).settings.currency,A=void 0===N?[]:N,V=Object(a.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.filter((function(e){return e&&e.searchTags})).map((function(e){return e.searchTags})).reduce((function(e,t){return null===e||void 0===e?void 0:e.concat(t||[])}),[]),a=k.getFieldValue("searchTags")||[],r=Array.from(new Set([].concat(Object(fe.a)(a),Object(fe.a)(n))));a=e&&o&&o.searchTags||r,k.setFieldsValue({searchTags:a})}),[k,o]);Object(a.useEffect)((function(){V(!0)}),[p,V]),Object(a.useEffect)((function(){var e=!0;return function(){var t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.next=3,F();case 3:n=t.sent,e&&(x(!1),m(n.results));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(),E(),function(){e=!1}}),[E]),Object(a.useEffect)((function(){(null===o||void 0===o?void 0:o.ageMin)&&(null===o||void 0===o?void 0:o.ageMax)&&w([null===o||void 0===o?void 0:o.ageMin,null===o||void 0===o?void 0:o.ageMax])}),[o]);var M=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,(n=k.getFieldsValue(!0)).brand=null===p||void 0===p?void 0:p.find((function(e){var t;return e.id===(null===(t=n.brand)||void 0===t?void 0:t.id)})),Rt.forEach((function(e,t){n.categories.forEach((function(n){n[e]=L[Ut[t]].find((function(t){var a;return t.id===(null===(a=n[e])||void 0===a?void 0:a.id)}))}))})),e.next=7,c(n);case 7:x(!1),h.b.success("Register updated with success."),t.push(i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),x(!1);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{className:"products-details",children:[Object(Oe.jsx)(Ce.a,{title:"Product",subTitle:"Form"}),Object(Oe.jsxs)(je.a,{form:k,name:"productForm",initialValues:o,onFinish:M,onFinishFailed:function(e){e.errorFields.forEach((function(e){h.b.error(e.errors[0])}))},layout:"vertical",children:[Object(Oe.jsxs)(it.a,{defaultActiveKey:"Details",children:[Object(Oe.jsx)(it.a.TabPane,{tab:"Details",children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:20,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"status",label:"Status",children:Object(Oe.jsxs)(st.a.Group,{buttonStyle:"solid",children:[Object(Oe.jsx)(st.a.Button,{value:"live",children:"Live"}),Object(Oe.jsx)(st.a.Button,{value:"paused",children:"Paused"}),Object(Oe.jsx)(st.a.Button,{value:"expired",children:"Expired"}),Object(Oe.jsx)(st.a.Button,{value:"pending",children:"Pending"})]})})}),Object(Oe.jsx)(Ae.a,{lg:4,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"outOfStock",label:"Out of stock",valuePropName:"checked",children:Object(Oe.jsx)(kt.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"name",label:"Short description",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Long description",children:Object(Oe.jsx)(vt,{formField:"description",form:k})})})]})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:["brand","id"],label:"Brand",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{children:p.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.brandName},e.id)}))})})})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"goLiveDate",label:"Go Live Date",getValueProps:jt,children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"validity",label:"Expiration Date",getValueProps:jt,children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})})]})})]})},"Details"),Object(Oe.jsxs)(it.a.TabPane,{tab:"Categories",children:[Object(Oe.jsx)(Mt,{categories:null===o||void 0===o?void 0:o.categories,allCategories:L,form:k,handleCategoryChange:function(e,t,n){n(k),V(!1,e)}}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.category!==t.category},children:function(e){var t,n=e.getFieldValue;return Object(Oe.jsx)(je.a.Item,{name:"searchTags",label:"Search Tags",children:Object(Oe.jsx)(Ve.a,{mode:"tags",className:"product-search-tags",children:null===(t=n("searchTags"))||void 0===t?void 0:t.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e,children:e},e)}))})})}})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(ct.a.Title,{level:4,children:"Target"})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Age Range",children:Object(Oe.jsx)(ot.a,{range:!0,marks:{12:"12",100:"100"},min:12,max:100,value:y,onChange:function(e){k.setFieldsValue({ageMin:e[0],ageMax:e[1]}),w(e)}})})})]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"gender",label:"Gender",rules:[{required:!0}],children:Object(Oe.jsxs)(Ve.a,{mode:"multiple",children:[Object(Oe.jsx)(Ve.a.Option,{value:"Female",children:"Female"}),Object(Oe.jsx)(Ve.a.Option,{value:"Male",children:"Male"}),Object(Oe.jsx)(Ve.a.Option,{value:"Other",children:"Other"}),Object(Oe.jsx)(Ve.a.Option,{value:"Prefer not to say",children:"Prefer not to say"})]})})})})]},"Categories"),Object(Oe.jsxs)(it.a.TabPane,{tab:"Checkout",children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"currencyIsoCode",label:"Currency",children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a currency",children:A.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.value,children:e.name},e.value)}))})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"originalPrice",label:"Price",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"maxDiscoDollars",label:"Max Discount in DD",dependencies:["originalPrice"],rules:[{required:!0,message:"Max Discount is required."},function(e){var t=e.getFieldValue;return{validator:function(e,n){var a=Math.trunc(3*Number(t("originalPrice")));return n&&n>a?(D||setTimeout((function(){return alert("The largest amount of DD you can apply for this price is ".concat(a,"."))}),100),T(!0),Promise.reject(new Error("Max discount not allowed."))):(T(!1),Promise.resolve())}}}],children:Object(Oe.jsx)(Re.a,{parser:function(e){return(e||"").replace(/-/g,"")},precision:0})})})]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"displayDiscountPage",label:"Allow Use of D-Dollars?",valuePropName:"checked",children:Object(Oe.jsx)(kt.a,{})})})}),Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"weight",label:"Weight",children:Object(Oe.jsx)(be.a,{type:"number",placeholder:"Weight in Kg"})})})})]},"Checkout"),Object(Oe.jsx)(it.a.TabPane,{tab:"Images",children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Tag Image",children:Object(Oe.jsx)(_e.ImageUpload,{fileList:null===o||void 0===o?void 0:o.tagImage,formProp:"tagImage",form:k})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Thumbnail",children:Object(Oe.jsx)(_e.ImageUpload,{fileList:null===o||void 0===o?void 0:o.thumbnailUrl,formProp:"thumbnailUrl",form:k})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Image",children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:20,fileList:null===o||void 0===o?void 0:o.image,formProp:"image",form:k})})}),Object(Oe.jsxs)(Ae.a,{lg:24,children:[Object(Oe.jsx)(ct.a.Title,{level:5,children:"Videos feed"}),Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.relatedVideoFeed!==t.relatedVideoFeed},children:function(e){var t=(0,e.getFieldValue)("relatedVideoFeed")||[];return Object(Oe.jsx)(Fe.a,{columns:Yt,dataSource:t,bordered:!0,rowKey:function(e){return"video_".concat(e.videoFeedId)}})}})]})]})},"Images")]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push(i)},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{disabled:!0===(null===o||void 0===o?void 0:o.brand.automated)&&!r,type:"primary",onClick:M,loading:d,children:"Save Changes"})})]})]})]})},Wt=n(224),Kt=n(96),qt=function(e){var t=Object(a.useState)(e),n=Object(ue.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),s=Object(ue.a)(i,2),o=s[0],l=s[1],u=Object(a.useState)({}),d=Object(ue.a)(u,2),j=d[0],b=d[1];return Object(a.useEffect)((function(){var e=Object(fe.a)(r);for(var t in j)if(Object.prototype.hasOwnProperty.call(j,t)){var n=j[t];e=Object(fe.a)(n(e))}l(e)}),[j,r]),{arrayList:r,setArrayList:c,filteredArrayList:o,addFilterFunction:function(e,t){b((function(n){return n[e]=t,Object(O.a)({},n)}))},removeFilterFunction:function(e){b((function(t){return delete t[e],Object(O.a)({},t)}))}}},Gt=n(334),Ht=function(e){var t=e.filterFunction,n=e.label,a=void 0===n?"Search":n;return Object(Oe.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Oe.jsx)(ct.a.Title,{level:5,title:a,children:a}),Object(Oe.jsx)(be.a,{onChange:function(e){t(e.target.value)},suffix:Object(Oe.jsx)(Gt.a,{})})]})},zt={approved:"green",rejected:"red",pending:""},_t=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=qt([]),o=s.setArrayList,u=s.filteredArrayList,d=s.addFilterFunction,x=[{title:"_id",dataIndex:"id",width:"3%",render:function(e){return Object(Oe.jsx)(Te,{id:e})},align:"center"},{title:"Name",dataIndex:"firstName",width:"15%"},{title:"Last Name",dataIndex:"lastName",width:"15%"},{title:"Status",dataIndex:"status",width:"15%",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending";return Object(Oe.jsx)(ye.a,{color:zt[e],children:e})}},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[!t.status&&[Object(Oe.jsx)(Wt.a,{style:{color:"green"},onClick:function(){return O(!0,t)}},"approve"),Object(Oe.jsx)(Kt.a,{style:{color:"red",margin:"6px"},onClick:function(){return O(!1,t)}},"reject")],Object(Oe.jsx)(l.b,{to:{pathname:"/creator",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return h(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}],O=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),n.status=t?"approved":"rejected",e.next=4,G(n);case 4:f();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),e.next=4,Z(t);case 4:return e.next=6,f();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),i(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,T();case 3:t=e.sent,i(!1),o(t.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);return Object(Oe.jsxs)("div",{className:"creators",children:[Object(Oe.jsx)(Ce.a,{title:"Creators",subTitle:"List of Creators",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/creator")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){d("creatorFirstName",(function(t){return t.filter((function(t){return(t.firstName||"").toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by First Name"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:x,dataSource:u,loading:c})]})},Jt=n(1078),Xt=n(1079),Zt=n(1080),Qt=n(1081),$t=n(1082),en=n(1083),tn=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)([12,100]),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=je.a.useForm(),O=Object(ue.a)(x,1)[0],f=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=O.getFieldsValue(!0),e.next=5,G(n);case 5:s(!1),h.b.success("Register updated with success."),t.push("/creators"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),s(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.ageMin)&&(null===n||void 0===n?void 0:n.ageMax)&&d([null===n||void 0===n?void 0:n.ageMin,null===n||void 0===n?void 0:n.ageMax])}),[n]);return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Creator Update",subTitle:"Creator"}),Object(Oe.jsxs)(je.a,{form:O,layout:"vertical",onFinish:f,initialValues:n,autoComplete:"off",children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"First Name",name:"firstName",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Last name",name:"lastName",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Email",name:"user",rules:[{type:"email",message:"please use an valid email"}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Password",name:"pwd",children:Object(Oe.jsx)(be.a.Password,{autoComplete:"off"})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Phone",name:"phone",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Username",name:"userName",children:Object(Oe.jsx)(be.a,{prefix:"@",autoComplete:"off"})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Describe your content focus",name:"contentFocus",children:Object(Oe.jsx)(be.a.TextArea,{rows:4})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Top Brand collaborations you have completed",name:"topBrands",children:Object(Oe.jsx)(be.a.TextArea,{rows:4})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(ct.a.Title,{level:4,children:"Target"})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Slider",children:Object(Oe.jsx)(ot.a,{range:!0,marks:{12:"12",100:"100"},min:12,max:100,value:u,onChange:function(e){O.setFieldsValue({ageMin:e[0],ageMax:e[1]}),d(e)}})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"gender",label:"Gender",children:Object(Oe.jsxs)(Ve.a,{mode:"multiple",children:[Object(Oe.jsx)(Ve.a.Option,{value:"Female",children:"Female"}),Object(Oe.jsx)(Ve.a.Option,{value:"Male",children:"Male"}),Object(Oe.jsx)(Ve.a.Option,{value:"Other",children:"Other"}),Object(Oe.jsx)(Ve.a.Option,{value:"Prefer not to say",children:"Prefer not to say"})]})})})]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Image",children:Object(Oe.jsx)(_e.ImageUpload,{fileList:null===n||void 0===n?void 0:n.image,formProp:"image",form:O})})})}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(ct.a.Title,{level:4,children:"Social Channels"})})}),Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsxs)(Ae.a,{lg:8,xs:24,md:24,children:[Object(Oe.jsx)(je.a.Item,{name:"instagram",label:"Instagram",children:Object(Oe.jsx)(be.a,{prefix:Object(Oe.jsx)(Jt.a,{})})}),Object(Oe.jsx)(je.a.Item,{name:"facebook",label:"Facebook",children:Object(Oe.jsx)(be.a,{prefix:Object(Oe.jsx)(Xt.a,{})})}),Object(Oe.jsx)(je.a.Item,{name:"tiktok",label:"TikTok",children:Object(Oe.jsx)(be.a,{prefix:Object(Oe.jsx)(Zt.a,{})})}),Object(Oe.jsx)(je.a.Item,{name:"youtube",label:"Youtube",children:Object(Oe.jsx)(be.a,{prefix:Object(Oe.jsx)(Qt.a,{})})}),Object(Oe.jsx)(je.a.Item,{name:"website",label:"Website",children:Object(Oe.jsx)(be.a,{prefix:Object(Oe.jsx)($t.a,{})})}),Object(Oe.jsx)(je.a.Item,{name:"twitter",label:"Twitter",children:Object(Oe.jsx)(be.a,{prefix:Object(Oe.jsx)(en.a,{})})})]})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/creators")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:f,children:"Save Changes"})})]})]})]})},nn=n(1084),an=n(259),rn=function(e){var t=e.columns,n=void 0===t?[]:t,a=e.onSave,r=n.map((function(e){return e.editable?Object(O.a)(Object(O.a)({},e),{},{onCell:function(t){return{record:t,editable:e.editable,number:e.number,dataIndex:e.dataIndex,title:e.title,onSave:a}}}):e}));return Object(Oe.jsx)(Fe.a,Object(O.a)(Object(O.a)({},e),{},{columns:r,components:{body:{row:We,cell:Be}}}))},cn=function(e){var t=e.text,n=void 0===t?"Edit":t,r=e.arrayList,c=e.selectedRowKeys,i=e.onOk,s=e.ModalComponent,o=Object(a.useState)(!1),l=Object(ue.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)([]),b=Object(ue.a)(j,2),x=b[0],O=b[1];Object(a.useEffect)((function(){O(r.filter((function(e){return c.includes(e.id)})))}),[r,c]);return Object(Oe.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){return d(!0)},disabled:0===x.length,children:n}),Object(Oe.jsx)(s,{selectedItems:x,visible:u,onCancel:function(){d(!1)},onOk:function(){d(!1),i()}})]})},sn=n(549),on=function(e){var t=e.filterFunction,n=e.label,r=void 0===n?"Search":n,c=Object(a.useState)(""),i=Object(ue.a)(c,2),s=i[0],o=i[1],l=Object(a.useRef)(Object(sn.debounce)((function(e){return t(e)}),1e3));return Object(a.useEffect)((function(){return l.current(s)}),[s]),Object(Oe.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Oe.jsx)(ct.a.Title,{level:5,title:r,children:r}),Object(Oe.jsx)(be.a,{onChange:function(e){o(e.target.value)},suffix:Object(Oe.jsx)(Gt.a,{})})]})},ln=n(118),un=n.n(ln),dn=function(e){var t=e.onChange,n=e.placeholder,r=void 0===n?"Select a brand":n,c=e.style,i=e.allowClear,s=e.label,o=void 0===s?"Brand Filter":s,l=Object(a.useState)([]),u=Object(ue.a)(l,2),d=u[0],x=u[1],O=Object(a.useState)(""),h=Object(ue.a)(O,2),f=h[0],p=h[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t=e.sent,n=t.results,x(n),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(Oe.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Oe.jsx)(ct.a.Title,{level:5,title:o,children:o}),Object(Oe.jsx)(un.a,{value:f,onChange:function(e){p(e),t(d.find((function(t){return t.brandName===e})))},showSearch:!0,allowClear:i,style:c,placeholder:r,children:d.map((function(e){var t=e.brandName,n=e.brandId;return Object(Oe.jsx)(un.a.Option,{value:n,children:t},t)}))})]})},jn=function(e){var t=e.selectedItems,n=e.visible,r=e.onCancel,c=e.onOk,i=je.a.useForm(),s=Object(ue.a)(i,1)[0],o=Object(a.useState)(!1),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=yt({setLoading:d}).doRequest;Object(a.useEffect)((function(){s.resetFields()}),[s]),Me({form:s,visible:n});return Object(Oe.jsx)(ve.a,{title:"Update Products",visible:n,okText:"Save",onOk:function(){s.validateFields().then(function(){var e=Object(b.a)(j.a.mark((function e(n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.maxDiscoDollars,r=t.map((function(e){return e.maxDiscoDollars=a,e})),e.next=4,x((function(){return e=r,p.post("/Disco/Product/UpdateMany",e);var e}),"Products updated.");case 4:c(),s.resetFields();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCancel:r,width:"300px",okButtonProps:{loading:u},forceRender:!0,children:Object(Oe.jsx)(je.a,{form:s,name:"updateProducts",layout:"vertical",children:Object(Oe.jsx)(be.a.Group,{children:Object(Oe.jsx)(Ne.a,{gutter:8,justify:"center",children:Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(je.a.Item,{name:"maxDiscoDollars",label:"Max Discount",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{})})})})})})})},bn=n(1035),xn=function(e){var t=e.selectedRecord,n=e.setSelectedRecord,r=e.getRecordAPIRequests,c=yt(),i=c.doAPITest,s=c.loading,o=Object(a.useState)(),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=Object(a.useState)([]),O=Object(ue.a)(x,2),h=O[0],f=O[1],p=Object(a.useState)([]),m=Object(ue.a)(p,2),g=m[0],v=m[1];Object(a.useEffect)((function(){t&&(v(r(t)),f(Object(fe.a)(r(t).map((function(e){var t={};return e.params.forEach((function(e){t[e.field]=e.default})),t})))))}),[t]);var y=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i((function(){return t(n)}));case 2:a=e.sent,d(JSON.stringify(a,null,4));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){n(null),d("")};return Object(Oe.jsx)(ve.a,{onCancel:w,onOk:w,title:"API Test",width:"65%",visible:Boolean(t),children:Object(Oe.jsxs)(Ne.a,{gutter:16,children:[Object(Oe.jsxs)(Ae.a,{xs:12,children:[Object(Oe.jsx)("h3",{children:"Requests List"}),g.map((function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(Ne.a,{justify:"space-between",align:"middle",children:[Object(Oe.jsx)(Ae.a,{children:e.name}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{onClick:function(){return y(e.route,h[t])},loading:s,children:e.method})})]}),e.params.map((function(e){return Object(Oe.jsx)(Ne.a,{style:{margin:"8px 0"},children:Object(Oe.jsx)(be.a,{type:e.type,defaultValue:e.default,value:h[t][e.field],onChange:function(n){return function(e,t,n){f((function(a){return a[t][n]=e.target.value,Object(fe.a)(a)}))}(n,t,e.field)}})})})),t!==g.length-1&&Object(Oe.jsx)(bn.a,{})]})}))]}),Object(Oe.jsxs)(Ae.a,{xs:12,children:[Object(Oe.jsxs)(Ne.a,{justify:"space-between",children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)("h3",{children:"Response"})}),Object(Oe.jsx)(Ae.a,{children:u&&Object(Oe.jsx)("h4",{style:{color:"grey"},children:"Use Ctrl + F to search."})})]}),Object(Oe.jsx)("pre",{children:u})]})]})})},On=function(e){return[{name:"PreCheckout/{productId}/{DD Quantity}",route:function(t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return p.get("Disco/Product/PreCheckout/".concat(e,"/").concat(t))}(e.id,t.ddQuantity)},method:"GET",params:[{label:"DD Quantity",field:"ddQuantity",type:"number",default:e.maxDiscoDollars}]}]},hn=function(e){return Object(Oe.jsx)(xn,Object(O.a)({},Object(O.a)(Object(O.a)({},e),{},{getRecordAPIRequests:On})))},fn=It.categoriesKeys,pn=It.categoriesFields,mn=function(e){var t=e.record,n=e.allCategories,a=e.onSaveProduct,r=e.loading,c=je.a.useForm(),i=Object(ue.a)(c,1)[0],s="/staging-list"===Object(le.g)().pathname,o=function(){var e=Object(b.a)(j.a.mark((function e(){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(fe.a)(i.getFieldValue("categories")),pn.forEach((function(e,t){r.forEach((function(a){a[e]=n[fn[t]].find((function(t){var n;return t.id===(null===(n=a[e])||void 0===n?void 0:n.id)}))}))})),e.next=4,a(Object(O.a)(Object(O.a)({},t),{},{categories:r}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(je.a,{layout:"vertical",initialValues:t,onFinish:o,form:i,children:[Object(Oe.jsx)(Ae.a,{lg:20,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"status",label:"Status",children:Object(Oe.jsxs)(st.a.Group,{buttonStyle:"solid",children:[Object(Oe.jsx)(st.a.Button,{value:"live",children:"Live"}),Object(Oe.jsx)(st.a.Button,{value:"paused",children:"Paused"}),Object(Oe.jsx)(st.a.Button,{value:"expired",children:"Expired"}),Object(Oe.jsx)(st.a.Button,{value:"pending",children:"Pending"})]})})}),Object(Oe.jsx)(Mt,{categories:t.categories,allCategories:n,form:i,handleCategoryChange:function(e,t,n){n(i)}}),Object(Oe.jsx)(Ae.a,{lg:24,xs:12,children:Object(Oe.jsx)(xe.a,{disabled:!0===t.brand.automated&&!s,type:"primary",onClick:o,loading:r,children:"Save"})})]})},gn=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)(!1),o=Object(ue.a)(s,2),u=o[0],d=o[1],x=Object(a.useState)([]),O=Object(ue.a)(x,2),h=O[0],f=O[1],m=Object(a.useState)(null),g=Object(ue.a)(m,2),v=g[0],y=g[1],w=yt({setLoading:i}),k=w.doFetch,F=w.doRequest,S=yt(),I=S.doRequest,D=S.loading,T=Object(a.useState)(""),P=Object(ue.a)(T,2),E=P[0],L=P[1],N=Object(a.useState)(""),A=Object(ue.a)(N,2),V=A[0],M=A[1],U=Object(a.useState)(!1),R=Object(ue.a)(U,2),Y=R[0],B=R[1],W=Object(a.useState)(0),q=Object(ue.a)(W,2),G=q[0],H=q[1],z=Object(a.useState)(!1),_=Object(ue.a)(z,2),J=_[0],X=_[1],Z=Object(a.useState)([]),Q=Object(ue.a)(Z,2),$=Q[0],ee=Q[1],te=Et({setLoading:i}),ne=te.fetchAllCategories,ae=te.allCategories,re=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u?0:G,e.next=3,k((function(){return C({limit:30,page:t,brandId:V,query:E,unclassified:Y})}));case 3:return n=e.sent,H(t+1),n.results.length<30&&X(!0),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([re(),ne()]);case 2:t=e.sent,n=Object(ue.a)(t,1),a=n[0].results,ee(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f([]),H(0),d(!0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,re();case 4:t=e.sent,n=t.results,ee((function(e){return Object(fe.a)(e.concat(n))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re();case 2:t=e.sent,n=t.results,ee(n),d(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&(X(!1),e())}),[u]),Object(a.useEffect)((function(){ae["Super Category"].length&&ie()}),[E,V,Y]),Object(a.useEffect)((function(){ce()}),[]);var oe=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F((function(){return e={id:t},p.delete("Wi/Ep/RemoveProduct",{data:e});var e}));case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I((function(){return K(t)}));case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F((function(){return K(t)}));case 2:return e.next=4,ie();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=[{title:"_id",dataIndex:"id",width:"6%",render:function(e){return Object(Oe.jsx)(Te,{id:e})},align:"center"},{title:"Name",dataIndex:"name",width:"22%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"/product/commited",state:t},children:e})}},{title:"Brand",dataIndex:["brand","brandName"],width:"20%",align:"center",responsive:["sm"]},{title:"Max Disco Dollars",dataIndex:"maxDiscoDollars",width:"12%",align:"center",responsive:["sm"]},{title:"Related Videos",dataIndex:"relatedVideoFeed",width:"15%",align:"center",responsive:["sm"],render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:e.length})}},{title:"Expiration Date",dataIndex:"offerExpirationDate",width:"13%",align:"center",responsive:["sm"],render:function(e){return dt()(e).format("DD/MM/YYYY")}},{title:"Actions",key:"action",width:"12%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/product/commited",state:t},children:Object(Oe.jsx)(pe.a,{})}),!0!==t.brand.automated&&Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return oe(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:"6px 0 6px 6px"},children:Object(Oe.jsx)(me.a,{})})}),Object(Oe.jsx)(xe.a,{onClick:function(){return y(t)},type:"link",style:{padding:0,margin:"6px 0 6px 6px"},children:Object(Oe.jsx)(nn.a,{})})]})}}],be=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((null===t||void 0===t?void 0:t.id)||"");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Products",subTitle:"List of Products",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/product/commited/0")},children:"New Item"},"1")]}),Object(Oe.jsxs)(Ne.a,{align:"bottom",justify:"space-between",children:[Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(on,{filterFunction:L,label:"Search by Name"})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(dn,{style:{width:"100%"},allowClear:!0,onChange:be})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(an.a,{onChange:function(e){B(e.target.checked)},style:{margin:"42px 0 16px 8px"},children:"Unclassified only"})})]})}),Object(Oe.jsx)(cn,{text:"Edit Products",arrayList:$,ModalComponent:jn,selectedRowKeys:h,onOk:ie})]}),Object(Oe.jsx)(hn,{selectedRecord:v,setSelectedRecord:y}),Object(Oe.jsx)(Se.a,{dataLength:$.length,next:se,hasMore:!J,loader:0!==G&&Object(Oe.jsx)("div",{className:"scroll-message",children:Object(Oe.jsx)(ke.a,{})}),endMessage:Object(Oe.jsx)("div",{className:"scroll-message",children:Object(Oe.jsx)("b",{children:"End of results."})}),children:Object(Oe.jsx)(rn,{rowKey:"id",columns:je,dataSource:$,loading:u||!$.length&&c,onSave:de,pagination:!1,rowSelection:{selectedRowKeys:h,onChange:function(e){var t=[];e.forEach((function(e){!0!==$.find((function(t){return t.id===e})).brand.automated&&t.push(e)})),f(t)}},expandable:{expandedRowRender:function(e){return Object(Oe.jsx)(mn,{record:e,allCategories:ae,onSaveProduct:le,loading:D},e.id)}}})})]})},vn=function(e){var t,n=e.history,r=e.location.state,c=Object(a.useState)(!1),i=Object(ue.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)([]),d=Object(ue.a)(u,2),x=d[0],O=d[1],f=Object(a.useState)([]),m=Object(ue.a)(f,2),g=m[0],v=m[1],y=Object(a.useState)((null===r||void 0===r||null===(t=r.brand)||void 0===t?void 0:t.id)||""),w=Object(ue.a)(y,2),k=w[0],S=w[1],I=je.a.useForm(),D=Object(ue.a)(I,1)[0],T=Object(s.c)((function(e){return e.settings})).settings,P=T.template,E=void 0===P?[]:P,L=T.clickSound,N=void 0===L?[]:L;Object(a.useEffect)((function(){var e,t,n,a,c=!0;function i(){return(i=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({});case 2:t=e.sent,c&&(O(t.results),l(!1));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,c&&(v(t.results),l(!1));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return D.setFieldsValue({position:[{x:(null===r||void 0===r||null===(e=r.position)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.x)||50,y:(null===r||void 0===r||null===(n=r.position)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.y)||50}]}),l(!0),function(){i.apply(this,arguments)}(),function(){s.apply(this,arguments)}(),function(){c=!1}}),[r,D]);var A=function(){D.validateFields().then(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,(t=D.getFieldsValue(!0)).product=x.find((function(e){var n;return e.id===(null===(n=t.product)||void 0===n?void 0:n.id)})),t.brand=g.find((function(e){var n;return e.id===(null===(n=t.brand)||void 0===n?void 0:n.id)})),e.next=7,(a=t).id?p.post("Wi/Ep/UpdateTag",a):p.put("Wi/Ep/AddTag",a);case 7:l(!1),h.b.success("Register updated with success."),n.push("/tags"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0),l(!1);case 16:case"end":return e.stop()}var a}),e,null,[[1,12]])}))))};return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Tag Update",subTitle:"Tag"}),Object(Oe.jsxs)(je.a,{name:"tagForm",layout:"vertical",form:D,initialValues:r,onFinish:A,className:"tags",children:[Object(Oe.jsx)(be.a.Group,{children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"tagName",label:"Tag Name",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:0,children:Object(Oe.jsx)(je.a.Item,{name:["brand","id"],label:"Brand",children:Object(Oe.jsx)(Ve.a,{onChange:function(e){S(e),D.setFieldsValue({product:{}})},children:g.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.brandName},e.id)}))})})}),Object(Oe.jsx)(Ae.a,{xxl:6,md:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"template",label:"Template",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a template",onChange:function(){D.setFieldsValue({product:{}})},children:E.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.value,children:e.name},e.value)}))})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:0,children:Object(Oe.jsx)(je.a.Item,{shouldUpdate:!0,children:function(){return Object(Oe.jsx)(je.a.Item,{name:["product","id"],label:"Product",children:Object(Oe.jsx)(Ve.a,{disabled:"dollar"===D.getFieldValue("template"),children:x.filter((function(e){var t;return(null===(t=e.brand)||void 0===t?void 0:t.id)===k})).map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.name},e.id)}))})})}})}),Object(Oe.jsxs)(Ae.a,{lg:12,xs:24,children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"discoGold",label:"Disco Gold",rules:[{required:!0}],children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"discoDollars",label:"Disco Dollar",children:Object(Oe.jsx)(Re.a,{style:{width:"100%"}})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:["position",0,"x"],label:"Disco Dollar Position X",children:Object(Oe.jsx)(ot.a,{tipFormatter:function(e){return"".concat(e,"%")},min:0,max:100})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:["position",0,"y"],label:"Disco Dollar Position Y",children:Object(Oe.jsx)(ot.a,{tipFormatter:function(e){return"".concat(e,"%")},min:0,max:100})})})]}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"clickSound",label:"Click Sound",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a click sound",children:N.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.value,children:e.name},e.value)}))})})})]})]})}),Object(Oe.jsx)(be.a.Group,{children:Object(Oe.jsx)(Ne.a,{gutter:8})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return n.push("/tags")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"primary",onClick:A,disabled:!!r,loading:o,children:"Save Changes"})})]})]})]})},yn=n(222),wn=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=qt([]),o=s.setArrayList,u=s.filteredArrayList,d=s.addFilterFunction,x=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,D();case 3:t=e.sent,i(!1),o(t.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){x()}),[]);var O=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,n={id:t},p.delete("Wi/Ep/RemoveTag",{data:n});case 4:x(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),i(!1);case 11:case"end":return e.stop()}var n}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),h=[{title:"Tag",dataIndex:"tagName",width:"15%"},{title:"Product",dataIndex:["product","name"],width:"20%"},{title:"Brand",dataIndex:["brand","brandName"],width:"20%"},{title:"Template",dataIndex:"template",width:"15%"},{title:"DD's",dataIndex:"discoDollars",width:"5%"},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/tag",state:t},children:Object(Oe.jsx)(yn.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return O(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}];return Object(Oe.jsxs)("div",{className:"tags",children:[Object(Oe.jsx)(Ce.a,{title:"Tags",subTitle:"List of Tags",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/tag")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){d("tagName",(function(t){return t.filter((function(t){return t.tagName.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by Name"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:h,dataSource:u,loading:c})]})},Cn=n(582),kn={approved:"green",rejected:"red",pending:""},Fn=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)([]),o=Object(ue.a)(s,2),u=o[0],d=o[1],x=Object(a.useState)(""),O=Object(ue.a)(x,2),h=O[0],f=O[1],m=function(){var e=Object(b.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.status=t?"approved":"rejected",i(!0),e.next=4,H(n);case 4:v();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,n={id:t},p.delete("Wi/Ep/RemoveBrand",{data:n});case 4:v(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0),i(!1);case 11:case"end":return e.stop()}var n}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.next=3,F();case 3:t=e.sent,i(!1),d(t.results);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v()}),[]);var y=[{title:"Brand Name",dataIndex:"brandName",width:"35%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"/brand",state:t},children:t.id!==Ft?e:Object(Oe.jsx)("b",{style:{color:"lightcoral"},children:e})})}},{title:"Automated",dataIndex:"automated",width:"15%",align:"center",render:function(e){return Object(Oe.jsx)("b",{children:e?"Yes":"No"})}},{title:"Brand Color",dataIndex:"brandTxtColor",width:"20%",align:"center",render:function(e){return Object(Oe.jsx)(Cn.a,{style:{backgroundColor:e,border:"1px solid #9c9c9c"}})}},{title:"Status",dataIndex:"status",width:"20%",align:"center",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pending";return Object(Oe.jsx)(ye.a,{color:kn[e],children:e})}},{title:"Actions",key:"action",width:"10%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[!t.status&&[Object(Oe.jsx)(Wt.a,{style:{color:"green"},onClick:function(){return m(!0,t)}},"approve"),Object(Oe.jsx)(Kt.a,{style:{color:"red",margin:"6px"},onClick:function(){return m(!1,t)}},"reject")],Object(Oe.jsx)(l.b,{to:{pathname:"/brand",state:t},children:Object(Oe.jsx)(pe.a,{})}),t.id!==Ft&&Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return g(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}];return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Brands",subTitle:"List of Brands",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/brand")},children:"New Item"},"1")]}),Object(Oe.jsx)("div",{style:{marginBottom:"16px"},children:Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsxs)(Ae.a,{lg:12,xs:24,children:[Object(Oe.jsx)(ct.a.Title,{level:5,title:"Search",children:"Search"}),Object(Oe.jsx)(be.a,{onChange:function(e){f(e.target.value)},suffix:Object(Oe.jsx)(Gt.a,{})})]})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:y,dataSource:u.filter((function(e){var t;return null===(t=e.brandName)||void 0===t?void 0:t.toUpperCase().includes(h.toUpperCase())})),loading:c})]})},Sn=n(578),In=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],o=c[1],l=je.a.useForm(),u=Object(ue.a)(l,1)[0],d=Object(s.c)((function(e){return e.settings})).settings.checkoutType,x=void 0===d?[]:d,O=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,n=u.getFieldsValue(!0),e.next=5,H(n);case 5:o(!1),h.b.success("Register updated with success."),t.push("/brands"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),o(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Brand Update",subTitle:"Brand"}),Object(Oe.jsxs)(je.a,{name:"brandForm",layout:"vertical",form:u,initialValues:n,onFinish:O,children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsxs)(Ae.a,{lg:12,xs:24,children:[Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Brand Name",name:"brandName",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"checkoutType",label:"Checkout Type",rules:[{required:!0}],children:Object(Oe.jsxs)(st.a.Group,{buttonStyle:"solid",onChange:function(e){var t=e.target.value;u.setFieldsValue({requireMobilePurchaseStatus:"external"===t})},children:[Object(Oe.jsx)(st.a.Button,{value:"internal",children:"Internal"}),Object(Oe.jsx)(st.a.Button,{value:"external",children:"External"})]})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"checkout",label:"Checkout",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{placeholder:"Select a checkout type",children:x.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.value,children:e.name},e.value)}))})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"confirmationUrl",label:"External Payment Confirmation URL",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"cancelationUrl",label:"External Payment Cancelation URL",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.checkout!==t.checkout},children:function(e){var t=e.getFieldValue;return Object(Oe.jsx)(je.a.Item,{name:"requireMobilePurchaseStatus",label:"Log Completed Purchases?",valuePropName:"checked",children:Object(Oe.jsx)(kt.a,{disabled:"Disco"===t("checkout")})})}})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"shopName",label:"Shop Name (without https:// or spaces)",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{placeholder:"casey-temp.myshopify.com"})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Pre-Checkout Message (With Discount)",children:Object(Oe.jsx)(vt,{formField:"overlayHtmlWithDiscount",form:u})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Pre-Checkout Message (WithOUT Discount)",children:Object(Oe.jsx)(vt,{formField:"overlayHtmlWithoutDiscount",form:u})})})]}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsxs)(Ne.a,{children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Colour",children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:1,fileList:null===n||void 0===n?void 0:n.colourLogo,form:u,formProp:"colourLogo"})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Black",children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:1,fileList:null===n||void 0===n?void 0:n.blackLogo,form:u,formProp:"blackLogo"})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"White",children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:1,fileList:null===n||void 0===n?void 0:n.whiteLogo,form:u,formProp:"whiteLogo"})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Logo Round",rules:[{required:!0}],name:"brandLogo",children:Object(Oe.jsx)(_e.ImageUpload,{fileList:null===n||void 0===n?void 0:n.brandLogo,maxCount:1,form:u,formProp:"brandLogo"})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Upload Card",name:"brandCard",rules:[{required:!0}],children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:1,fileList:null===n||void 0===n?void 0:n.brandCard,form:u,formProp:"brandCard"})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Thumbnail",name:"thumbnail",rules:[{required:!1}],children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:1,fileList:null===n||void 0===n?void 0:n.thumbnail,form:u,formProp:"thumbnail"})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Brand Color",name:"brandTxtColor",rules:[{required:!0}],valuePropName:"color",children:Object(Oe.jsx)(Dn,{})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:12,children:Object(Oe.jsx)(je.a.Item,{name:"automated",label:"Automated",valuePropName:"checked",children:Object(Oe.jsx)(kt.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:12,children:Object(Oe.jsx)(je.a.Item,{name:"paused",label:"Paused",valuePropName:"checked",children:Object(Oe.jsx)(kt.a,{})})})]})})]})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/brands")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:O,children:"Save Changes"})})]})]})]})},Dn=function(e){var t=e.onChange;return Object(Oe.jsx)(Sn.a,{onChangeComplete:function(e){return t(e.hex)}})},Tn=(n(885),function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)([]),o=Object(ue.a)(s,2),u=o[0],d=o[1],x=yt({setLoading:i}),O=x.doFetch,h=x.doRequest,f=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O((function(){return V()}));case 2:t=e.sent,n=t.results,d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return e={id:t},p.delete("Wi/Ep/RemovePromoCode",{data:e});var e}));case 2:return e.next=4,O((function(){return V()}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=[{title:"Code",dataIndex:"code",width:"20%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"promo-code",state:t},children:e})}},{title:"Shop Name",dataIndex:"shopName",width:"20%",align:"center"},{title:"Dollars",dataIndex:"dollars",width:"10%",align:"center"},{title:"Discount",dataIndex:"discount",width:"10%",align:"center"},{title:"Creation",dataIndex:"hCreationDate",width:"12%",align:"center",render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}},{title:"Actions",key:"action",width:"10%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"promo-code",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return m(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}],v=Object(a.useState)([]),y=Object(ue.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(0),F=Object(ue.a)(k,2),S=F[0],I=F[1],D=function(){var e=function(){C((function(e){return Object(fe.a)(e.concat(u.slice(20*S,20*S+20)))})),I((function(e){return e+1}))};u.length&&(w.length?setTimeout(e,1e3):e())};return Object(a.useEffect)((function(){f()}),[]),Object(a.useEffect)((function(){D()}),[u]),Object(Oe.jsxs)("div",{className:"promo-codes",children:[Object(Oe.jsx)(Ce.a,{title:"Promo Codes",subTitle:"List of Promo Codes",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("promo-code")},children:"New Item"},"1")]}),Object(Oe.jsx)(Se.a,{dataLength:w.length,next:D,hasMore:c||w.length!==u.length,loader:!c&&Object(Oe.jsx)("div",{className:"scroll-message",children:Object(Oe.jsx)(ke.a,{})}),endMessage:Object(Oe.jsx)("div",{className:"scroll-message",children:Object(Oe.jsx)("b",{children:"End of results."})}),children:Object(Oe.jsx)(Fe.a,{rowKey:"id",pagination:!1,columns:g,dataSource:w,loading:c})})]})}),Pn=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=je.a.useForm(),l=Object(ue.a)(o,1)[0],u=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=l.getFieldsValue(!0),e.next=5,(a=n).id?p.post("Wi/Ep/UpdatePromoCode",a):p.put("Wi/Ep/AddPromoCode",a);case 5:s(!1),h.b.success("Register updated with success."),t.push("/promo-codes"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s(!1);case 13:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Promo Code Update",subTitle:"Promo Code"}),Object(Oe.jsxs)(je.a,{name:"promoCodeForm",layout:"vertical",form:l,initialValues:n,onFinish:u,children:[Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsxs)(Ae.a,{lg:12,xs:24,children:[Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Promo Code",name:"code",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Shop Name",name:"shopName",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Discount",name:"discount",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{type:"number"})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Disco Dollars",name:"dollars",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{type:"number"})})})]})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/promo-codes")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:u,children:"Save Changes"})})]})]})]})},En=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=je.a.useForm(),l=Object(ue.a)(o,1)[0];Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.id)?l.setFieldsValue(Object(O.a)({},n)):l.setFieldsValue({name:"",description:"",container:"",action:"Search",application:"Custom",isActive:!1})}),[l,n]);var u=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=l.getFieldsValue(!0),e.next=5,(a=n).id?p.post("Wi/Ep/UpdateEndpoint",a):p.put("Wi/Ep/AddEndpoint",a);case 5:s(!1),h.b.success("Register updated with success."),t.push("/endpoints"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s(!1);case 13:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Endpoint Update",subTitle:"Endpoint"}),Object(Oe.jsxs)(je.a,{name:"endpointForm",layout:"vertical",form:l,initialValues:n,onFinish:u,children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Name",name:"name",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Description",name:"description",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Container",name:"container",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Application",name:"application",children:Object(Oe.jsx)(be.a,{disabled:!0})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"action",children:Object(Oe.jsxs)(st.a.Group,{children:[Object(Oe.jsx)(st.a,{value:"Search",children:"Search"}),Object(Oe.jsx)(st.a,{value:"Insert",children:"Insert"}),Object(Oe.jsx)(st.a,{value:"Update",children:"Update"}),Object(Oe.jsx)(st.a,{value:"Delete",children:"Delete"})]})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"isActive",children:Object(Oe.jsx)(an.a,{disabled:!0,children:"isActive"})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/endpoints")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:u,children:"Save Changes"})})]})]})]})},Ln=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=qt([]),o=s.setArrayList,u=s.filteredArrayList,d=s.addFilterFunction,x=[{title:"Name",dataIndex:"name",width:"15%"},{title:"Container",dataIndex:"container",width:"15%"},{title:"Method",dataIndex:"action",width:"10%"},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsx)(Oe.Fragment,{children:!t.isActive&&Object(Oe.jsx)(l.b,{to:{pathname:"/endpoint",state:t},children:Object(Oe.jsx)(pe.a,{})})})}}];function O(){return(O=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,N();case 4:t=e.sent,o(t.results),i(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){O.apply(this,arguments)}()}),[]);return Object(Oe.jsxs)("div",{className:"endpoints",children:[Object(Oe.jsx)(Ce.a,{title:"Endpoints",subTitle:"List of Endpoints",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/endpoint")},children:"New Endpoint"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){d("endpointName",(function(t){return t.filter((function(t){return t.name.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by Name"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:x,dataSource:u,loading:c})]})},Nn=function(e){var t=e.form,n=e.loading,r=e.setLoading,c=yt({setLoading:r}),i=c.doFetch,s=c.doRequest,o=Object(a.useState)([]),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=Object(a.useState)(t.getFieldValue("fanGroup")),O=Object(ue.a)(x,2),h=O[0],f=O[1],p=Object(a.useState)(""),m=Object(ue.a)(p,2),g=m[0],v=m[1],y=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:t=e.sent,d(t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[]);var w=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((function(){return J({name:g})}),"Fan Group Created.");case 2:return e.next=4,i((function(){return W()}));case 4:t=e.sent,d(t.results),v("");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){v(e.target.value)};return Object(Oe.jsx)(je.a.Item,{label:"Fan Group",children:Object(Oe.jsx)(Ve.a,{style:{width:240},placeholder:"Fan Group",allowClear:!0,onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";f(String(e)),t.setFieldsValue({fanGroup:String(e)})},value:h,dropdownRender:function(e){return Object(Oe.jsxs)("div",{children:[e,Object(Oe.jsx)(bn.a,{style:{margin:"4px 0"}}),Object(Oe.jsxs)("div",{style:{display:"flex",flexWrap:"nowrap",justifyContent:"space-between",padding:8},children:[Object(Oe.jsx)(be.a,{style:{flex:"auto",marginRight:"6px"},value:g,onChange:C}),Object(Oe.jsx)(xe.a,{onClick:w,loading:n,type:"primary",children:"Add item"})]})]})},children:u.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.id,children:e.name},e.id)}))})})},An=Ve.a.Option,Vn=function(e){var t,n,r,c,i,s,o,l,u,d,x,f,m=e.history,g=e.location,v=Object(a.useState)(!1),y=Object(ue.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)([]),F=Object(ue.a)(k,2),I=F[0],D=F[1],P=Object(a.useState)([]),E=Object(ue.a)(P,2),N=E[0],A=E[1],V=Object(a.useState)([]),M=Object(ue.a)(V,2),U=M[0],R=M[1],Y=g.state||{},B=je.a.useForm(),W=Object(ue.a)(B,1)[0];Object(a.useEffect)((function(){var e=!0;function t(){return(t=Object(b.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L();case 2:n=t.sent,e&&(D(n.results),C(!1));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var n=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:t=e.sent,A(t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:t=e.sent,R(t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return C(!0),function(){t.apply(this,arguments)}(),n(),a(),function(){e=!1}}),[W]);var K,q=function(e){if(e){var t=N.find((function(t){return t.userName===e}))||{},n=t.id,a=t.firstName,r=t.lastName,c=t.userName,i=W.getFieldValue("followingCreators")||[];W.setFieldsValue({followingCreators:[].concat(Object(fe.a)(i),[{creatorId:n,firstName:a,lastName:r,userName:c}])})}},G=[{title:"UserName",dataIndex:"userName",width:"15%"},{title:"Actions",key:"action",width:"5%",render:function(e,t){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},onClick:function(){return function(e){var t=W.getFieldValue("followingCreators")||[];W.setFieldsValue({followingCreators:t.filter((function(t){return t.userName!==e.userName}))})}(t)},children:Object(Oe.jsx)(me.a,{})})})}}],H=function(e){if(e){var t=U.find((function(t){return t.name===e}))||{},n=t.id,a=t.name,r=W.getFieldValue("followingCategories")||[];W.setFieldsValue({followingCategories:[].concat(Object(fe.a)(r),[{idCategory:n,name:a}])})}},z=[{title:"Name",dataIndex:"name",width:"15%"},{title:"Actions",key:"action",width:"5%",render:function(e,t,n){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},onClick:function(){return function(e){var t=W.getFieldValue("followingCategories")||[];t.splice(e,1),W.setFieldsValue({followingCategories:t.filter((function(t){return t.id!==e.id}))})}(t)},children:Object(Oe.jsx)(me.a,{})})})}}],_=function(e){var t=Object(O.a)({},e);return"string"===typeof e.birthday&&(t.birthday=e.birthday),"object"===typeof e.birthday&&(t.birthday=e.birthday.format("DD-MM-YYYY")),t.personalDetails=t.personalDetails||{},t.personalDetails.phone=t.personalDetails.phone||{},t.personalDetails.phone.number=e.phoneNumber,t.addresses=[{line1:e.line1,line2:"",city:e.city,stateOrCounty:"",country:e.country,postalCode:e.postalCode,isDefault:!0}],t},J=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,t=W.getFieldsValue(!0),n=_(t),e.next=6,(a=n).id?p.post("Disco/Identity/UpdateUser",a):p.put("Disco/Identity/AddUser",a);case 6:C(!1),h.b.success("Register updated with success."),m.push("/fans"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),C(!1);case 14:case"end":return e.stop()}var a}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Fan Update",subTitle:"Fan"}),Object(Oe.jsxs)(je.a,{name:"userForm",layout:"vertical",form:W,initialValues:Object(O.a)(Object(O.a)({},Y),{},{phoneNumber:null===(t=Y.personalDetails)||void 0===t||null===(n=t.phone)||void 0===n?void 0:n.number,line1:null===(r=Y.addresses)||void 0===r||null===(c=r[0])||void 0===c?void 0:c.line1,city:null===(i=Y.addresses)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.city,country:null===(o=Y.addresses)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.country,postalCode:null===(u=Y.addresses)||void 0===u||null===(d=u[0])||void 0===d?void 0:d.postalCode}),onFinish:J,children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Y.id&&Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"_id",name:"id",children:Object(Oe.jsx)(be.a,{disabled:!0})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Name",name:"userName",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Email",name:"user",children:Object(Oe.jsx)(be.a,{type:"email"})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Password",name:"pwd",children:Object(Oe.jsx)(be.a.Password,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"profile",label:"Profile",children:Object(Oe.jsx)(Ve.a,{children:I.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.name,children:e.name},e.id)}))})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Birthday",name:"birthday",getValueProps:jt,children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"gender",label:"Gender",children:Object(Oe.jsxs)(Ve.a,{children:[Object(Oe.jsx)(Ve.a.Option,{value:"Female",children:"Female"}),Object(Oe.jsx)(Ve.a.Option,{value:"Male",children:"Male"}),Object(Oe.jsx)(Ve.a.Option,{value:"Other",children:"Other"}),Object(Oe.jsx)(Ve.a.Option,{value:"Prefer not to say",children:"Prefer not to say"})]})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Phone",name:"phoneNumber",children:Object(Oe.jsx)(be.a,{addonBefore:(K=null===(x=Y.personalDetails)||void 0===x||null===(f=x.phone)||void 0===f?void 0:f.dialCode,Object(Oe.jsx)(je.a.Item,{name:"dialCode",noStyle:!0,children:Object(Oe.jsxs)(Ve.a,{defaultValue:K||"+353",style:{width:80},children:[Object(Oe.jsx)(An,{value:"+353",children:"+353"}),Object(Oe.jsx)(An,{value:"+55",children:"+55"}),Object(Oe.jsx)(An,{value:"+86",children:"+86"}),Object(Oe.jsx)(An,{value:"+87",children:"+87"})]})}))})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Address",name:"line1",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"City",name:"city",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Country",name:"country",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Postal Code",name:"postalCode",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(Nn,{form:W,loading:w,setLoading:C})})]}),Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.followingCreators!==t.followingCreators},children:function(e){var t=(0,e.getFieldValue)("followingCreators")||[];return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(Ae.a,{lg:8,xs:24,children:[Object(Oe.jsx)(ct.a.Title,{level:5,children:"Following Creators"}),Object(Oe.jsx)(je.a.Item,{children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a creator",onChange:q,allowClear:!0,children:N.filter((function(e){return!t.map((function(e){return e.userName})).includes(e.userName)})).map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.userName,children:e.userName},e.id)}))})})]}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(Fe.a,{dataSource:t,columns:G})})]})}})})}),Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.followingCategories!==t.followingCategories},children:function(e){var t=(0,e.getFieldValue)("followingCategories")||[];return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(Ae.a,{lg:8,xs:24,children:[Object(Oe.jsx)(ct.a.Title,{level:5,children:"Following Categories"}),Object(Oe.jsx)(je.a.Item,{children:Object(Oe.jsx)(Ve.a,{placeholder:"Please select a categories",onChange:H,allowClear:!0,children:U.filter((function(e){return!t.map((function(e){return e.id})).includes(e.id)})).map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.name,children:e.name},e.id)}))})})]}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(Fe.a,{dataSource:t,columns:z})})]})}})})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return m.push("/fans")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:w,type:"primary",onClick:J,children:"Save Changes"})})]})]})]})},Mn=n(1074),Un=function(e){var t=e.selectedItems,n=e.visible,r=e.onCancel,c=e.onOk,i=je.a.useForm(),s=Object(ue.a)(i,1)[0],o=Object(a.useState)(!1),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=yt({setLoading:d}).doRequest;Object(a.useEffect)((function(){s.resetFields()}),[s]),Me({form:s,visible:n});return Object(Oe.jsx)(ve.a,{title:"Update Fans",visible:n,okText:"Save",onOk:function(){s.validateFields().then(Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.getFieldValue("fanGroup"),a=t.map((function(e){return e.id})),e.next=4,x((function(){return e=n,t=a,p.post("/Disco/Fan/SetUsersGroup/".concat(e),t);var e,t}),"Fans updated.");case 4:c(),s.resetFields();case 6:case"end":return e.stop()}}),e)}))))},onCancel:r,width:"300px",okButtonProps:{loading:u},forceRender:!0,children:Object(Oe.jsx)(je.a,{form:s,name:"updateFans",layout:"vertical",children:Object(Oe.jsx)(be.a.Group,{children:Object(Oe.jsx)(Ne.a,{gutter:8,justify:"center",children:Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(Nn,{form:s,loading:u,setLoading:d})})})})})})},Rn=function(e){return[{name:"GetOne/{userId}",route:function(){return t=e.id,p.get("Disco/Feed/GetOne/".concat(t));var t},method:"GET",params:[]}]},Yn=function(e){return Object(Oe.jsx)(xn,Object(O.a)({},Object(O.a)(Object(O.a)({},e),{},{getRecordAPIRequests:Rn})))},Bn=function(e){return e.reduce((function(e,t){var n;return e+(null===(n=t.tags)||void 0===n?void 0:n.length)}),0)},Wn=function(e){var t=e.selectedRecord,n=e.setSelectedRecord,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=Object(a.useState)([]),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=yt({setLoading:s}).doFetch,O=function(){var e=Object(b.a)(j.a.mark((function e(){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d([]),e.next=3,x((function(){return A(t.id)}));case 3:n=e.sent,a=n.results,d(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){null!==t&&O()}),[t]);var h=function(){n(null)},f=[{title:"Title",dataIndex:"title",width:"15%",align:"center"},{title:"Segments",dataIndex:"package",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:e.length})},width:"5%",align:"center"},{title:"Length",dataIndex:"lengthTotal",width:"5%",align:"center"},{title:"Expiration Date",dataIndex:"validity",width:"5%",render:function(e){return new Date(e).toLocaleDateString()},align:"center"},{title:"Tags",dataIndex:"package",width:"5%",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:Bn(e)})},align:"center"}];return Object(Oe.jsx)(ve.a,{title:"Video Feed",visible:!!t,footer:null,width:"800px",onOk:h,onCancel:h,okButtonProps:{loading:i},forceRender:!0,children:Object(Oe.jsx)("div",{className:"feed-mixer",children:Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:f,dataSource:u,loading:i})})})},Kn={Admin:"green",Temp:"blue",Fan:""},qn=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=Object(a.useState)([]),o=Object(ue.a)(s,2),u=o[0],d=o[1],x=Object(a.useState)(null),O=Object(ue.a)(x,2),h=O[0],f=O[1],p=Object(a.useState)(null),m=Object(ue.a)(p,2),g=m[0],v=m[1],y=Object(a.useState)([]),w=Object(ue.a)(y,2),C=w[0],k=w[1],F=yt({setLoading:i}).doFetch,S=qt([]),I=S.setArrayList,D=S.filteredArrayList,T=S.addFilterFunction,P=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F((function(){return W()}));case 2:t=e.sent,n=t.results,k(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F((function(){return E()}));case 2:t=e.sent,n=t.results,I(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([L(),P()]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){N()}),[]);var A=[{title:"_id",dataIndex:"id",width:"10%",render:function(e){return Object(Oe.jsx)(Te,{id:e})},align:"center"},{title:"Name",dataIndex:"userName",width:"25%",align:"center"},{title:"E-mail",dataIndex:"user",width:"25%",align:"center"},{title:"Profile",dataIndex:"profile",width:"10%",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Fan";return Object(Oe.jsx)(ye.a,{color:Kn[e],children:e})},align:"center"},{title:"Group",dataIndex:"fanGroup",width:"10%",render:function(e,t){var n,a=(null===(n=C.find((function(e){return e.id===t.fanGroup})))||void 0===n?void 0:n.name)||"";return Object(Oe.jsx)(ye.a,{color:Kn[t.profile],children:a})},align:"center"},{title:"Actions",key:"action",width:"10%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/fan",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(xe.a,{onClick:function(){return f(t)},type:"link",style:{padding:0,margin:"6px 0 6px 6px"},children:Object(Oe.jsx)(nn.a,{})}),Object(Oe.jsx)(xe.a,{onClick:function(){return v(t)},type:"link",style:{padding:0,margin:"6px 0 6px 6px"},children:Object(Oe.jsx)(Mn.a,{})})]})}}],V=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:d([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{className:"fans",children:[Object(Oe.jsx)(Ce.a,{title:"Fans",subTitle:"List of Fans",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/fan")},children:"New Item"},"1")]}),Object(Oe.jsxs)(Ne.a,{align:"bottom",justify:"space-between",children:[Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){T("fanName",(function(t){return t.filter((function(t){t.name=t.name||"";var n=e.toUpperCase();return t.name.toUpperCase().includes(n)||t.user.toUpperCase().includes(n)}))}))},label:"Search by Email"})})})}),Object(Oe.jsx)(cn,{text:"Edit Fans",arrayList:D,ModalComponent:Un,selectedRowKeys:u,onOk:V})]}),Object(Oe.jsx)(Yn,{selectedRecord:h,setSelectedRecord:f}),Object(Oe.jsx)(Wn,{selectedRecord:g,setSelectedRecord:v}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:A,dataSource:D,loading:c,rowSelection:{selectedRowKeys:u,onChange:d}})]})},Gn=function(){return null},Hn=it.a.TabPane,zn=function(e){var t=e.name;return Object(Oe.jsx)(je.a.List,{name:t,children:function(e,n){var a=n.add,r=n.remove;return Object(Oe.jsxs)("div",{children:[Object(Oe.jsxs)(xe.a,{onClick:function(){return a()},children:["Add ",t.charAt(0).toUpperCase()+t.slice(1)]}),e.map((function(e){return Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"name"],fieldKey:[e.fieldKey,"name"],label:"Name",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:[e.name,"value"],fieldKey:[e.fieldKey,"value"],label:"Value",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{style:{display:"flex",alignItems:"center"},children:Object(Oe.jsx)(bt.a,{onClick:function(){return r(e.name)}})})]},Math.random())}))]})}})},_n=function(){var e=je.a.useForm(),t=Object(ue.a)(e,1)[0],n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],o=Object(s.c)((function(e){return e.settings})).settings,l=Object(s.b)();Object(a.useEffect)((function(){t.resetFields()}),[o,t]),Object(a.useEffect)((function(){l(ie())}),[l]);var u=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,n=t.getFieldsValue(!0),p.post("Wi/Ep/UpdateSettings",n);case 4:i(!1),l(ie()),h.b.success("Register updated with success."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(!1);case 12:case"end":return e.stop()}var n}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Settings",subTitle:"Configuration"}),Object(Oe.jsxs)(je.a,{form:t,name:"settingsForm",layout:"vertical",onFinish:u,initialValues:o,children:[Object(Oe.jsxs)(it.a,{defaultActiveKey:"template",children:[Object(Oe.jsx)(Hn,{tab:"Template",children:Object(Oe.jsx)(zn,{name:"template"})},"template"),Object(Oe.jsx)(Hn,{tab:"Category",children:Object(Oe.jsx)(zn,{name:"category"})},"category"),Object(Oe.jsx)(Hn,{tab:"Click Sound",children:Object(Oe.jsx)(zn,{name:"clickSound"})},"clickSound"),Object(Oe.jsx)(Hn,{tab:"Currency",children:Object(Oe.jsx)(zn,{name:"currency"})},"currency"),Object(Oe.jsx)(Hn,{tab:"Market",children:Object(Oe.jsx)(zn,{name:"market"})},"market"),Object(Oe.jsx)(Hn,{tab:"Language",children:Object(Oe.jsx)(zn,{name:"language"})},"language"),Object(Oe.jsx)(Hn,{tab:"Status (Orders)",children:Object(Oe.jsx)(zn,{name:"order"})},"orders"),Object(Oe.jsx)(Hn,{tab:"Status (Promotions)",children:Object(Oe.jsx)(zn,{name:"promoStatus"})},"promoStatus"),Object(Oe.jsx)(Hn,{tab:"Checkout Type",children:Object(Oe.jsx)(zn,{name:"checkoutType"})},"checkoutType")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"primary",onClick:u,loading:c,children:"Save Settings"})})})]})]})},Jn=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=qt([]),o=s.setArrayList,u=s.filteredArrayList,d=s.addFilterFunction;function x(){return(x=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,L();case 4:t=e.sent,o(t.results),i(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}Object(a.useEffect)((function(){!function(){x.apply(this,arguments)}()}),[]);var O=[{title:"Name",dataIndex:"name",width:"15%"},{title:"Description",dataIndex:"description",width:"15%"},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(l.b,{to:{pathname:"/role",state:t},children:Object(Oe.jsx)(pe.a,{})})})}}];return Object(Oe.jsxs)("div",{className:"roles",children:[Object(Oe.jsx)(Ce.a,{title:"Roles",subTitle:"List of Roles",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/role")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){d("roleName",(function(t){return t.filter((function(t){return t.name.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by Name"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:O,dataSource:u,loading:c})]})},Xn=function(e){var t=e.history,n=e.location,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=n.state,l=je.a.useForm(),u=Object(ue.a)(l,1)[0],d=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=u.getFieldsValue(!0),e.next=5,(a=n).id?p.post("Wi/Ep/UpdateProfile",a):p.put("Wi/Ep/AddProfile",a);case 5:s(!1),h.b.success("Register updated with success."),t.push("/roles"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s(!1);case 13:case"end":return e.stop()}var a}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Role Update",subTitle:"Role"}),Object(Oe.jsxs)(je.a,{name:"roleForm",layout:"vertical",form:u,initialValues:o,onFinish:d,children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:8,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Name",name:"name",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Description",name:"description",children:Object(Oe.jsx)(be.a.TextArea,{})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/roles")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"primary",onClick:d,loading:i,children:"Save Changes"})})]})]})]})},Zn=function(e){e.children;var t=e.component,n=e.layout,a=e.path,r=e.returnComponent,c=Object(Ue.a)(e,["children","component","layout","path","returnComponent"]);return o()||"/login"===a?r?t:Object(Oe.jsx)(le.b,Object(O.a)(Object(O.a)({},c),{},{render:function(e){return Object(Oe.jsx)(n,{children:Object(Oe.jsx)(t,Object(O.a)(Object(O.a)({},c),{},{path:a},e))})}})):Object(Oe.jsx)(le.a,{to:"login"})},Qn=n(213),$n=n(214),ea=n(215),ta=n(219),na=function(e){Object(ea.a)(n,e);var t=Object(ta.a)(n);function n(){var e;Object(Qn.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object($n.a)(n,[{key:"componentDidCatch",value:function(e,t){console.error("Uncaught error:",e,t)}},{key:"render",value:function(){return this.state.hasError?this.props.fallbackComponent:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(a.Component),aa=n(556),ra={decode:function(e){try{return Object(aa.a)(e)}catch(t){}}},ca=function(){return Object(Oe.jsxs)("div",{style:{height:"100%",width:"100%"},children:[Object(Oe.jsx)("h1",{children:"Sorry... there was an error."}),Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){return window.location.reload()},children:"Reload Page"})]})},ia=(n(505),n(1073)),sa=n(1072),oa=n(1071),la=n(1070),ua=n(1069),da=n(1068),ja=n(1067),ba=n(1066),xa=n(1065),Oa=n(1064),ha=n(1063),fa=n(1062),pa=n(1061),ma=n(1060),ga=n(134),va=n(251),ya=n.n(va),wa=function(){return Object(Oe.jsxs)(ga.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["dashboard"],children:[Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ia.a,{}),children:Object(Oe.jsx)(l.b,{to:"/dashboard",children:"Dashboard"})},"dashboard"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ia.a,{}),children:Object(Oe.jsx)(l.b,{to:"/brands",children:"Brands"})},"brands"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(sa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/products",children:"Products"})},"products"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(sa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/staging-products",children:"Staging"})},"staging-products"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(oa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/feed",children:"Videos Feed"})},"2"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(Mn.a,{}),children:Object(Oe.jsx)(l.b,{to:"/feed-mixer",children:"Feed Mixer"})},"feed-mixer"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(la.a,{}),children:Object(Oe.jsx)(l.b,{to:"/orders",children:"Orders"})},"orders"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ua.a,{}),children:Object(Oe.jsx)(l.b,{to:"/wallets",children:"Wallets"})},"wallets"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ua.a,{}),children:Object(Oe.jsx)(l.b,{to:"/transactions",children:"Transactions"})},"transactions"),Object(Oe.jsxs)(ya.a,{icon:Object(Oe.jsx)(da.a,{}),title:"Marketing",children:[Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ja.a,{}),children:Object(Oe.jsx)(l.b,{to:"/promotions",children:"Promotions"})},"promotions"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ba.a,{}),children:Object(Oe.jsx)(l.b,{to:"/promo-displays",children:"Shop Display"})},"promo-displays")]},"marketing"),Object(Oe.jsxs)(ya.a,{icon:Object(Oe.jsx)(xa.a,{}),title:"Users",children:[Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(Oa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/fans",children:"Fans"})},"fans"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(Oa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/creators",children:"Creators"})},"creators")]},"users"),Object(Oe.jsxs)(ya.a,{icon:Object(Oe.jsx)(nn.a,{}),title:"Settings",children:[Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ha.a,{}),children:Object(Oe.jsx)(l.b,{to:"/endpoints",children:"Endpoints"})},"endpoints"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(fa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/roles",children:"Roles"})},"roles"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(nn.a,{}),children:Object(Oe.jsx)(l.b,{to:"/settings",children:"Settings"})},"settings"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(pa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/access-control",children:"Access Control"})},"access-control"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(sa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/tags",children:"Tags"})},"tags"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ma.a,{}),children:Object(Oe.jsx)(l.b,{to:"/categories",children:"Categories"})},"categories"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ma.a,{}),children:Object(Oe.jsx)(l.b,{to:"/interests",children:"Interests"})},"interests"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ma.a,{}),children:Object(Oe.jsx)(l.b,{to:"/promo-codes",children:"Promo Codes"})},"promo-codes"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ma.a,{}),children:Object(Oe.jsx)(l.b,{to:"/dd-templates",children:"DD Templates"})},"dd-templates"),Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(ma.a,{}),children:Object(Oe.jsx)(l.b,{to:"/fan-groups",children:"Fans Groups"})},"fan-groups")]},"sub-settings")]})},Ca=function(){return Object(Oe.jsx)(ga.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["staging-list"],children:Object(Oe.jsx)(ga.a.Item,{icon:Object(Oe.jsx)(sa.a,{}),children:Object(Oe.jsx)(l.b,{to:"/staging-list",children:"Products"})},"staging-list")})},ka=ge.a.Header,Fa=ge.a.Sider,Sa=ge.a.Content,Ia=Object(le.i)((function(e){var t=e.children,n=e.history,a=oe({ADMIN:"Disco Admin",BRAND_MANAGER:"Brand Manager"});return Object(Oe.jsxs)(ge.a,{children:[Object(Oe.jsxs)(ka,{className:"header",children:[Object(Oe.jsx)("h2",{style:{width:"65%"},children:Object(Oe.jsxs)(l.b,{to:"/",children:[" ",a," ",Object(Oe.jsx)("small",{style:{fontSize:10},children:"v 1.22.06.1756"})]})}),Object(Oe.jsxs)(Ne.a,{style:{width:"35%"},justify:"end",wrap:!1,children:[Object(Oe.jsx)("div",{children:Object(Oe.jsx)(Ae.a,{xs:0,md:24,style:{textAlign:"end"},children:Object(Oe.jsx)(ct.a.Text,{style:{color:"white"},children:ra.decode(localStorage.getItem("token")||"").name})})}),Object(Oe.jsx)("div",{children:Object(Oe.jsx)(xe.a,{onClick:function(){localStorage.clear(),n.push("/login")},type:"link",children:"Logout"})})]})]}),Object(Oe.jsxs)(ge.a,{className:"site-layout",children:[Object(Oe.jsx)(Fa,{breakpoint:"lg",collapsedWidth:"0",style:{minHeight:"calc(100vh - 64px)"},children:oe({ADMIN:Object(Oe.jsx)(wa,{}),BRAND_MANAGER:Object(Oe.jsx)(Ca,{})})}),Object(Oe.jsx)(Sa,{className:"site-layout-background",style:{margin:"24px 16px",padding:24,minHeight:280},children:Object(Oe.jsx)(na,{fallbackComponent:ca(),children:t})})]})]})})),Da=ge.a.Content,Ta=function(e){var t=e.children;return Object(Oe.jsx)(ge.a,{style:{height:"100vh"},children:Object(Oe.jsx)(Da,{style:{margin:"24px 16px",padding:24,minHeight:280,display:"flex",justifyContent:"center",alignItems:"center"},children:t})})},Pa=function(e){var t=e.showCloneModal,n=e.setShowCloneModal,a=e.selectedProfile,r=e.privileges,c=e.profiles,i=je.a.useForm(),s=Object(ue.a)(i,1)[0];return Object(Oe.jsx)(ve.a,{visible:t,onCancel:function(){return n(!1)},title:"Clone profile",onOk:function(){return s.submit()},forceRender:!0,children:Object(Oe.jsxs)(je.a,{onFinish:function(){s.validateFields().then(function(){var e=Object(b.a)(j.a.mark((function e(t){var c,i,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=t.profile,i=r.filter((function(e){return e.profile===a})),s=r.filter((function(e){return e.profile===c})),(o=s.reduce((function(e,t){var n=Object(O.a)({},t),a=i.findIndex((function(e){return e.app===n.app}));if(a>-1){var r=i.splice(a,1),c=Object(ue.a)(r,1)[0];n.privileges=c.privileges}return e.push(n),e}),[])).push.apply(o,Object(fe.a)(i.map((function(e){return{app:e.app,isEndpoint:e.isEndpoint,privileges:e.privileges,profile:c}})))),o.forEach(function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(t);case 2:(n=e.sent).success?h.b.success("Profile clone was successfull"):h.b.error(n.error);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},layout:"vertical",form:s,children:[Object(Oe.jsxs)(ct.a.Title,{level:5,children:["Cloning ",Object(Oe.jsxs)(ct.a.Text,{strong:!0,children:[" ","".concat(a)]})]}),Object(Oe.jsx)(je.a.Item,{name:"profile",label:"Profile",rules:[{required:!0}],children:Object(Oe.jsx)(Ve.a,{placeholder:"Select a profile to save",style:{width:"100%"},value:a,children:c.filter((function(e){return e!==a})).map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e,children:e},e)}))})})]})})},Ea=it.a.TabPane,La=ct.a.Text,Na=["All","Search","GetById","Insert","Update","Remove"],Aa=function(e){var t=e.endpointPrivilege,n=e.profile,r=t.privilege,c=t.endpoint,i=Object(a.useState)(r||{app:c.name,privileges:"",profile:n,isEndpoint:!0}),s=Object(ue.a)(i,2),o=s[0],l=s[1],u=Object(a.useState)(!1),d=Object(ue.a)(u,2),x=d[0],f=d[1],m=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),!t.target.checked){e.next=8;break}return n=Object(O.a)(Object(O.a)({},o),{},{privileges:"ADULM"}),e.next=5,z(n);case 5:l(n),e.next=12;break;case 8:return e.next=10,r=o,p.delete("Wi/Ep/RemovePrivilege",{data:r});case 10:a=Object(O.a)(Object(O.a)({},o),{},{privileges:""}),l(a);case 12:h.b.success("Changes saved!"),f(!1);case 14:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Ae.a,{lg:8,md:12,xs:24,style:{margin:"8px 0"},children:Object(Oe.jsx)(ke.a,{spinning:x,children:Object(Oe.jsx)(an.a,{checked:"ADULM"===o.privileges,onChange:m,children:Object(Oe.jsx)(La,{children:c.name})})})})},Va=function(){var e=Object(a.useState)(!0),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(ue.a)(c,2),s=i[0],o=i[1],l=Object(a.useState)(""),u=Object(ue.a)(l,2),d=u[0],x=u[1],O=Object(a.useState)("All"),h=Object(ue.a)(O,2),f=h[0],m=h[1],g=Object(a.useState)([]),v=Object(ue.a)(g,2),y=v[0],w=v[1],C=Object(a.useState)([]),k=Object(ue.a)(C,2),F=k[0],S=k[1],I=Object(a.useState)([]),D=Object(ue.a)(I,2),T=D[0],P=D[1],E=Object(a.useState)(!1),A=Object(ue.a)(E,2),V=A[0],M=A[1],U=je.a.useForm(),R=Object(ue.a)(U,1)[0],Y=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a=t,p.put("Wi/Ep/ListPrivileges",{profile:a});case 3:n=e.sent,S(n.results),r(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}var a}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),B=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:t=e.sent,w(t.results),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[]),W=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L();case 3:t=e.sent,n=t.results.map((function(e){return e.name})),o(n),x(n[1]),Y(n[1]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),[]);Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([B(),W()]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[W,B]),Object(a.useEffect)((function(){var e="All"===f?y:y.filter((function(e){return e.action===f})),t=F.filter((function(e){return e.isEndpoint}));P(e.map((function(e){return{endpoint:e,privilege:t.find((function(t){return t.app===e.name}))}})))}),[y,F,f,P]);return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Access Control"}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{xxl:4,lg:6,xs:18,children:Object(Oe.jsx)(Ve.a,{placeholder:"please select a profile",style:{width:"100%"},onChange:function(e){r(!0),Y(e),x(e)},value:d,children:s.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e,children:e},e)}))})}),Object(Oe.jsx)(Ae.a,{xs:6,children:Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){M(!0)},disabled:!d,children:"Clone"})})]}),Object(Oe.jsx)(je.a,{form:R,name:"accessControlForm",layout:"vertical",onFinish:function(){console.log("finish")},children:Object(Oe.jsx)(it.a,{defaultActiveKey:"template",style:{width:"100%"},onChange:m,children:Na.map((function(e,t){return Object(Oe.jsx)(Ea,{tab:e,children:Object(Oe.jsx)(Ne.a,{gutter:24,children:n?Object(Oe.jsx)(ke.a,{style:{margin:"0 auto"}}):T.map((function(e,t){return Object(Oe.jsx)(Aa,{endpointPrivilege:e,profile:d},"position_".concat(t))}))})},e)}))})}),Object(Oe.jsx)(Pa,{showCloneModal:V,setShowCloneModal:M,selectedProfile:d,profiles:s,privileges:F})]})},Ma=n(1059),Ua=n(1049),Ra=n(313),Ya=n(162),Ba=n.n(Ya),Wa=It.categoriesKeys,Ka=It.categoriesFields,qa=function(){var e=Object(a.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=Et({setLoading:r}),i=c.fetchAllCategories,s=c.allCategories,o=Object(a.useState)("Super Category"),u=Object(ue.a)(o,2),d=u[0],x=u[1],h=Object(a.useState)(""),f=Object(ue.a)(h,2),p=f[0],m=f[1],g=Object(a.useState)(""),v=Object(ue.a)(g,2),y=v[0],w=v[1],C=Object(a.useRef)(null);Object(a.useEffect)((function(){i()}),[i]);var k,F=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),n=Ka[Wa.indexOf(d)],e.next=5,I[n].delete({id:t});case 5:i(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:return e.prev=11,r(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,n){t(),m(e[0]),w(n)},D=[Object(O.a)(Object(O.a)({title:"Name",width:"15%"},(k=Ka[Wa.indexOf(d)],{filterDropdown:function(e){var t=e.setSelectedKeys,n=e.selectedKeys,a=e.confirm,r=e.clearFilters;return Object(Oe.jsxs)("div",{style:{padding:8},children:[Object(Oe.jsx)(be.a,{ref:C,placeholder:"Search ".concat(k),value:n[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},onPressEnter:function(){return S(n,a,k)},style:{marginBottom:8,display:"block"}}),Object(Oe.jsxs)(Ma.b,{children:[Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){return S(n,a,k)},icon:Object(Oe.jsx)(Gt.a,{}),size:"small",style:{width:90},children:"Search"}),Object(Oe.jsx)(xe.a,{onClick:function(){return function(e){e(),m("")}(r)},size:"small",style:{width:90},children:"Reset"}),Object(Oe.jsx)(xe.a,{type:"link",size:"small",onClick:function(){a({closeDropdown:!1}),m(n[0]),w(k)},children:"Filter"})]})]})},filterIcon:function(e){return Object(Oe.jsx)(Gt.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,t){return t[k]?t[k].toString().toLowerCase().includes(e.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return C.current.select()}),100)},render:function(e){return y===k?Object(Oe.jsx)(Ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[p],autoEscape:!0,textToHighlight:e?e.toString():""}):e}})),{},{render:function(e,t){return Object(Oe.jsx)(Oe.Fragment,{children:t[Ka[Wa.indexOf(d)]]})}}),{title:"Image",dataIndex:"image",width:"15%",render:function(e){return Object(Oe.jsx)(Ua.a,{src:null===e||void 0===e?void 0:e.url,width:70})}},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/category",search:"?category-level=".concat(Wa.indexOf(d)),state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return F(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}];return Object(Oe.jsxs)("div",{className:"categories",children:[Object(Oe.jsx)(Ce.a,{title:"Categories",subTitle:"List of categories",extra:[Object(Oe.jsx)(Ra.a,{overlay:Object(Oe.jsx)(ga.a,{children:Wa.map((function(e,t){return Object(Oe.jsx)(ga.a.Item,{children:Object(Oe.jsx)(l.b,{to:{pathname:"/category",search:"?category-level=".concat(t)},children:e})})}))}),trigger:["click"],children:Object(Oe.jsx)(xe.a,{children:"New Item"})})]}),Object(Oe.jsx)(it.a,{onChange:function(e){x(e)},children:Wa.map((function(e){return Object(Oe.jsx)(it.a.TabPane,{tab:e,children:Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:D,dataSource:s[e],loading:n})},e)}))})]})},Ga=function(e){return{name:e?e.split(":")[0]:"",value:e?e.split(":")[1]:""}},Ha=function(e){var t=e.form,n=e.tagsAsStrings,r=void 0===n?[]:n;Object(a.useEffect)((function(){var e=r.length?r.map(Ga):[Ga()];t.setFieldsValue({searchTags:e})}),[]);var c=function(){t.setFieldsValue({searchTags:[].concat(Object(fe.a)(t.getFieldValue("searchTags")),[Ga()])})};return Object(Oe.jsx)(je.a.Item,{shouldUpdate:function(e,t){return e.searchTags!==t.searchTags},children:function(e){var n;return null===(n=(0,e.getFieldValue)("searchTags"))||void 0===n?void 0:n.map((function(e,n){return Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{xs:10,children:Object(Oe.jsx)(je.a.Item,{label:"Tag Name",name:["searchTags",n,"name"],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{xs:10,children:Object(Oe.jsx)(je.a.Item,{label:"Tag Value",name:["searchTags",n,"value"],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{xs:4,style:{marginTop:"24px"},children:n===t.getFieldValue("searchTags").length-1?Object(Oe.jsx)(xe.a,{onClick:c,type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(qe.a,{})}):Object(Oe.jsx)(xe.a,{onClick:function(){return function(e){t.setFieldsValue({searchTags:[].concat(Object(fe.a)(t.getFieldValue("searchTags").slice(0,e)),Object(fe.a)(t.getFieldValue("searchTags").slice(e+1)))})}(n)},type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(Lt.a,{})})})]},n)}))}})},za=It.categoriesKeys,_a=It.categoriesArray,Ja=It.categoriesFields,Xa=function(e){var t=e.history,n=e.location,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=n.state,l=new URLSearchParams(n.search),d=yt({setLoading:s}).doRequest,x=Number(l.get("category-level")),h=za[x],f=Ja[x],p=Et({setLoading:s,initialValues:o?{superCategory:o.superCategory,category:o.category,subCategory:o.subCategory,subSubCategory:o.subSubCategory}:void 0}),m=p.fetchAllCategories,g=p.filteredCategories,v=p.filterCategory,y=je.a.useForm(),w=Object(ue.a)(y,1)[0];Object(a.useEffect)((function(){m()}),[m]);var C=function(e){return"".concat(e.name,":").concat(e.value)},k=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(O.a)(Object(O.a)({},w.getFieldsValue(!0)),{},{searchTags:w.getFieldValue("searchTags").map(C).filter((function(e){return e.length>1}))}),e.next=3,d((function(){return I[f].save(n)}));case 3:t.push("/categories");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"".concat(h," Update"),subTitle:"Category"}),Object(Oe.jsxs)(je.a,{name:"categoryForm",layout:"vertical",form:w,onFinish:k,initialValues:o,children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsxs)(Ae.a,{lg:12,xs:24,children:[_a.filter((function(e,t){return t<x+1})).map((function(e,t){var n=e.key,a=e.field;return Object(Oe.jsx)(je.a.Item,{label:n,name:a,rules:[{required:!0}],children:t<x?Object(Oe.jsx)(Ve.a,{disabled:!g[n].length,placeholder:"Please select a category",onChange:function(e,t){return v(null===t||void 0===t?void 0:t.children,n,(function(e){Ja.indexOf(e)<x&&w.setFieldsValue(Object(u.a)({},e,""))}))},children:g[n].map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e[a],children:e[a]},e.id)}))}):Object(Oe.jsx)(be.a,{})})})),Object(Oe.jsx)(Ha,{form:w,tagsAsStrings:null===o||void 0===o?void 0:o.searchTags})]}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Image",children:Object(Oe.jsx)(_e.ImageUpload,{maxCount:1,fileList:null===o||void 0===o?void 0:o.image,form:w,formProp:"image"})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/categories")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:k,children:"Save Changes"})})]})]})]})},Za=n(335),Qa=function(){var e,t=Object(a.useState)(!1),n=Object(ue.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(ue.a)(i,2),u=o[0],d=o[1],x=qt([]),f=x.arrayList,m=x.setArrayList,g=x.filteredArrayList,v=x.addFilterFunction,y=x.removeFilterFunction,w=Object(a.useState)([]),C=Object(ue.a)(w,2),k=C[0],F=C[1],S=Object(a.useState)(""),I=Object(ue.a)(S,2),D=I[0],T=I[1],P=Object(a.useRef)(null),L=function(e,t,n){t(),T(e[0])},N=Object(s.c)((function(e){return e.settings})).settings.order,A=void 0===N?[]:N,V=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(fe.a)(u))[n]=!0,d(a),e.next=5,_(Object(O.a)(Object(O.a)({},f[n]),{},{stage:t}));case 5:(r=Object(fe.a)(f))[n].hLastUpdate=dt.a.utc().format("YYYY-MM-DDTHH:mm:ss.SSSSSSSZ"),m(r),h.b.success("Changes saved!"),d((function(e){return e[n]=!1,Object(fe.a)(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=function(e){if(e){var t=dt()(e[0],"DD/MM/YYYY").startOf("day").utc(),n=dt()(e[1],"DD/MM/YYYY").endOf("day").utc();v("creationDate",(function(e){return e.filter((function(e){var a=e.hCreationDate;return dt()(a).utc().isBetween(t,n)}))}))}else y("creationDate")},U=function(e){return k.find((function(t){return t.id===e}))},R=[Object(O.a)({title:"User",dataIndex:"userid",width:"10%",align:"left"},(e="userid",{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,r=t.confirm,c=t.clearFilters;return Object(Oe.jsxs)("div",{style:{padding:8},children:[Object(Oe.jsx)(be.a,{ref:P,placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return L(a,r)},style:{marginBottom:8,display:"block"}}),Object(Oe.jsxs)(Ma.b,{children:[Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){return L(a,r)},icon:Object(Oe.jsx)(Gt.a,{}),size:"small",style:{width:90},children:"Search"}),Object(Oe.jsx)(xe.a,{onClick:function(){return function(e){e(),T("")}(c)},size:"small",style:{width:90},children:"Reset"}),Object(Oe.jsx)(xe.a,{type:"link",size:"small",onClick:function(){r({closeDropdown:!1}),T(a[0])},children:"Filter"})]})]})},filterIcon:function(e){return Object(Oe.jsx)(Gt.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(e,t){var n=U(t.userid);return(null===n||void 0===n?void 0:n.user.includes(e.toLowerCase()))||!1},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return P.current.select()}),100)},render:function(e){var t=U(e);return Object(Oe.jsx)(l.b,{to:{pathname:"/fan",state:t},children:Object(Oe.jsx)(Ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[D],autoEscape:!0,textToHighlight:(null===t||void 0===t?void 0:t.user)||""})})}})),{title:"Paid",dataIndex:"paid",width:"5%",align:"center",render:function(e){return Object(Oe.jsx)("b",{children:e?"Yes":"No"})}},{title:"Amount / 100",dataIndex:"amount",width:"5%",align:"center",render:function(e){return"".concat(e/100,"x")}},{title:"Name",dataIndex:["product","name"],width:"12%",align:"center"},{title:"Creation",dataIndex:"hCreationDate",width:"10%",align:"center",filterIcon:Object(Oe.jsx)(Za.a,{}),filterDropdown:function(){return Object(Oe.jsx)(lt.a.RangePicker,{style:{padding:8},onChange:M})},render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}},{title:"Disco Dollars",dataIndex:"discoDollars",width:"5%",align:"center"},{title:"Stage",dataIndex:"stage",width:"15%",align:"center",render:function(e,t,n){return Object(Oe.jsx)(Ve.a,{loading:u[n],disabled:u[n],defaultValue:e,style:{width:"175px"},onChange:function(e){return V(e,n)},children:A.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.value,children:e.name},e.value)}))})}},{title:"Last Update",dataIndex:"hLastUpdate",width:"10%",align:"center",render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}}],Y=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("Wi/Ep/ListOrders");case 2:return t=e.sent,n=t.results.filter((function(e){return!!e.product})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,e.abrupt("return",t.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,Y();case 3:return t=e.sent,e.next=6,B();case 6:n=e.sent,a=t.map((function(e){var t=n.find((function(t){return t.id===e.userId}));return e.fanName=null===t||void 0===t?void 0:t.name,e})),m(a),F(n),c(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m]);var W=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return y("brandName"),e.abrupt("return");case 3:v("brandName",(function(e){return e.filter((function(e){var n;return(null===(n=e.product)||void 0===n?void 0:n.brand.brandName)===t.brandName}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{className:"orders",children:[Object(Oe.jsx)(Ce.a,{title:"Orders",subTitle:"List of Orders"}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{xxl:40,lg:6,xs:18,children:Object(Oe.jsx)(dn,{style:{width:"100%"},allowClear:!0,onChange:W})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:R,dataSource:g,loading:r})]})},$a=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],o=c[1],l=je.a.useForm(),u=Object(ue.a)(l,1)[0],d=(Object(s.c)((function(e){return e.settings})).settings.order,function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,n=u.getFieldsValue(!0),e.next=5,_(n);case 5:o(!1),h.b.success("Register updated with success."),t.push("/orders"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),o(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}());return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Order Update",subTitle:"Order"}),Object(Oe.jsxs)(je.a,{form:u,layout:"vertical",onFinish:d,initialValues:n,autoComplete:"off",children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"First Name",name:"firstName",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Last name",name:"lastName",children:Object(Oe.jsx)(be.a,{})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/orders")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:d,children:"Save Changes"})})]})]})]})},er=function(e){var t=e.onChange,n=e.placeholder,r=void 0===n?"Select a fan":n,c=e.style,i=e.label,s=void 0===i?"Fan Filter":i,o=Object(a.useState)([]),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=Object(a.useState)([]),O=Object(ue.a)(x,2),h=O[0],f=O[1],p=Object(a.useState)(""),m=Object(ue.a)(p,2),g=m[0],v=m[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:t=e.sent,n=t.results,a=[],n.forEach((function(e){e.user&&a.push(e.user)})),f(a),d(n),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(Oe.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Oe.jsx)(ct.a.Title,{level:5,title:s,children:s}),Object(Oe.jsx)(un.a,{value:g,onChange:function(e){v(e),t(u.find((function(t){return t.user===e})))},showSearch:!0,style:c,placeholder:r,children:h.map((function(e){return Object(Oe.jsx)(un.a.Option,{value:e,children:e},e)}))})]})},tr=function(){var e=Object(a.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(ue.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)([]),d=Object(ue.a)(u,2),x=d[0],O=d[1],h=[{title:"Creation Time",dataIndex:"hCreationDate",width:"15%",align:"left",filterIcon:Object(Oe.jsx)(Za.a,{}),filterDropdown:function(){return Object(Oe.jsx)(lt.a.RangePicker,{style:{padding:8},onChange:m})},render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}},{title:"Brand",dataIndex:"brandName",width:"15%",align:"center"},{title:"Disco Dollars",dataIndex:"discoDollars",width:"15%",align:"center"},{title:"Disco Gold",dataIndex:"discoGold",width:"15%",align:"center"},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"/transactions",state:t},children:Object(Oe.jsx)(pe.a,{})})}}],f=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,c=t.id,p.put("Wi/Ep/GetWalletTransactions",{userId:c});case 3:n=e.sent,a=n.results,r(!1),o(a),O(a);case 8:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){if(e){var t=dt()(e[0],"DD/MM/YYYY").startOf("day").utc(),n=dt()(e[1],"DD/MM/YYYY").endOf("day").utc();O(s.filter((function(e){var a=e.hCreationDate;return dt()(a).utc().isBetween(t,n)})))}else O(s)};return Object(Oe.jsxs)("div",{className:"transactions",children:[Object(Oe.jsx)(Ce.a,{title:"Transactions",subTitle:"List of Transactions"}),Object(Oe.jsx)(Ne.a,{gutter:8,style:{marginBottom:"20px"},children:Object(Oe.jsx)(Ae.a,{xxl:40,lg:6,xs:18,children:Object(Oe.jsx)(er,{style:{width:"100%"},onChange:f})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:h,dataSource:x,loading:n})]})},nr=n(298),ar=n.n(nr),rr=[{id:"allfans",user:"All Disco Fans",isFilter:!0,isGroup:!1}],cr=function(e){var t=e.onChange,n=e.placeholder,r=void 0===n?"Select":n,c=e.style,i=e.label,s=void 0===i?"Fan Filter":i,o=Object(a.useState)([]),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=Object(a.useState)([]),O=Object(ue.a)(x,2),h=O[0],f=O[1],p=Object(a.useState)(""),m=Object(ue.a)(p,2),g=m[0],v=m[1],y=yt().doFetch,w=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y((function(){return E()}));case 2:return t=e.sent,n=t.results,e.next=6,y((function(){return W()}));case 6:a=e.sent,r=a.results,c=[],i=[].concat(rr,Object(fe.a)(r.map((function(e){return{id:e.id,user:e.name,isFilter:!0,isGroup:!0}})))),n.unshift.apply(n,Object(fe.a)(i)),n.forEach((function(e){e.user&&c.push(e.user)})),f(c),d(Object(fe.a)(n));case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){w()}),[]);var C=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(n),t(u.find((function(e){return e.user===n}))),w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{style:{marginBottom:"16px"},children:[Object(Oe.jsx)(ct.a.Title,{level:5,title:s,children:s}),Object(Oe.jsx)(un.a,{value:g,onChange:C,showSearch:!0,style:c,placeholder:r,children:h.map((function(e){return Object(Oe.jsx)(un.a.Option,{value:e,children:e},e)}))})]})},ir=function(e){return e.reduce((function(e,t){var n;return e+(null===(n=t.tags)||void 0===n?void 0:n.length)}),0)},sr=function(){var e=Object(a.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=yt({setLoading:r}),i=c.doFetch,s=c.doRequest,o=Object(a.useState)([]),l=Object(ue.a)(o,2),u=l[0],d=l[1],x=Object(a.useState)([]),f=Object(ue.a)(x,2),m=f[0],g=f[1],v=Object(a.useState)(),w=Object(ue.a)(v,2),C=w[0],k=w[1],F=Object(a.useState)(""),S=Object(ue.a)(F,2),I=S[0],D=S[1],T=Object(a.useState)(""),P=Object(ue.a)(T,2),E=P[0],L=P[1],N=Object(a.useState)(""),V=Object(ue.a)(N,2),M=V[0],U=V[1],R=Object(a.useState)(!1),Y=Object(ue.a)(R,2),B=Y[0],W=Y[1],K=Object(a.useState)(),q=Object(ue.a)(K,2),G=q[0],H=q[1];Object(a.useEffect)((function(){H((null===C||void 0===C?void 0:C.isFilter)?"".concat(C.user," Feed"):"User Feed")}),[C]);var z=Object(a.useRef)(null),_=function(e,t,n){t(),L(e[0]),U(n)},J=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,r=t.confirm,c=t.clearFilters;return Object(Oe.jsxs)("div",{style:{padding:8},children:[Object(Oe.jsx)(be.a,{ref:z,placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return _(a,r,e)},style:{marginBottom:8,display:"block"}}),Object(Oe.jsxs)(Ma.b,{children:[Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){return _(a,r,e)},icon:Object(Oe.jsx)(Gt.a,{}),size:"small",style:{width:90},children:"Search"}),Object(Oe.jsx)(xe.a,{onClick:function(){return function(e){e(),L("")}(c)},size:"small",style:{width:90},children:"Reset"}),Object(Oe.jsx)(xe.a,{type:"link",size:"small",onClick:function(){r({closeDropdown:!1}),L(a[0]),U(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(Oe.jsx)(Gt.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return z.current.select()}),100)},render:function(t){return M===e?Object(Oe.jsx)(Ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[E],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},X={icon:Object(Oe.jsx)(qe.a,{}),fn:function(e,t){d((function(t){return[e].concat(Object(fe.a)(t))})),h.b.success("Video added into user feed.")}},Z={icon:Object(Oe.jsx)(Lt.a,{}),fn:function(e,t){d((function(e){return[].concat(Object(fe.a)(e.slice(0,t)),Object(fe.a)(e.slice(t+1)))}))}},Q=Object(a.useState)(Z),$=Object(ue.a)(Q,2),re=$[0],ce=$[1],ie=[Object(O.a)({title:"Title",dataIndex:"title",width:"15%",align:"center"},"Template Feed"===I?J("title"):{}),{title:"Segments",dataIndex:"package",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:e.length})},width:"5%",align:"center"},{title:"Length",dataIndex:"lengthTotal",width:"5%",align:"center"},{title:"Expiration Date",dataIndex:"validity",width:"5%",render:function(e){return new Date(e).toLocaleDateString()},align:"center"},{title:"Tags",dataIndex:"package",width:"5%",render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Oe.jsx)(ye.a,{children:ir(e)})},align:"center"},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t,n){return Object(Oe.jsx)(xe.a,{onClick:function(){return re.fn(t,n)},type:"link",style:{padding:0,margin:"0 6px"},children:re.icon})}}],se=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a,r,c,s,o,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i((function(){return t.isGroup?(e=t.id,p.get("Disco/Feed/GetGroup/".concat(e))):A(t.id);var e}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k(t),m.length){e.next=13;break}return e.next=5,Promise.all([n(t),i((function(){return y()}))]);case 5:a=e.sent,r=Object(ue.a)(a,2),c=r[0].results,s=r[1].results,d(c),g(s),e.next=18;break;case 13:return e.next=15,n(t);case 15:o=e.sent,l=o.results,d(l);case 18:W("y"===t.specialLock);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return C.isFilter?"allfans"===C.id?(n=u,p.put("Disco/Feed/UpdateMultipleUsersFeed",{query:{},feeds:n})):ae(C.id,u):(e=C.id,t=u,p.put("Disco/Feed/UpdateUserFeed/".concat(e),t));var e,t,n},e.next=3,s(t,"".concat(G," updated."));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((function(){return t?(e=C.id,p.get("Disco/Feed/LockUnlockUser/".concat(e,"/y"))):ee(C.id);var e}));case 2:W(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.checked?te:ne,e.next=3,s((function(){return n(C.id)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{className:"feed-mixer",children:[Object(Oe.jsx)(Ce.a,{title:"Feed Mixer",subTitle:"Define feed for users."}),Object(Oe.jsxs)(Ne.a,{gutter:8,style:{marginBottom:"20px"},children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(cr,{style:{width:"250px"},onChange:se})}),C&&!C.isFilter&&Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(je.a.Item,{label:"Lock Feed",style:{margin:"32px 12px 16px 16px"},children:Object(Oe.jsx)(kt.a,{loading:n,onChange:le,checked:B})})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(je.a.Item,{name:"preserveDdTags",label:"Preserve DD Tags",style:{margin:"32px 16px 16px 16px"},children:Object(Oe.jsx)(ar.a,{onChange:de,disabled:n})})})]}),C&&Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{onClick:oe,style:{marginTop:"32px",color:"white",borderColor:"white",backgroundColor:C.isFilter?"rgb(255, 77, 79)":"#4CAF50"},children:C.isFilter?"Deploy Feed to ".concat(C.user):"Deploy Feed"})})]}),C&&Object(Oe.jsxs)(it.a,{defaultActiveKey:"User Feed",onChange:function(e){D(e),ce("User Feed"===e?Z:X)},children:[Object(Oe.jsx)(it.a.TabPane,{tab:G,children:Object(Oe.jsx)(nt,{rowKey:"id",columns:ie,dataSource:u,setDataSource:d,loading:n})},"User Feed"),Object(Oe.jsx)(it.a.TabPane,{tab:"Template Feed",children:Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:ie,dataSource:m,loading:n})},"Template Feed")]})]})},or=n(587),lr=function(){var e=Object(a.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),i=Object(ue.a)(c,2),s=i[0],o=i[1],u=qt([]),d=u.setArrayList,x=u.filteredArrayList,O=u.addFilterFunction,h=u.removeFilterFunction,f=yt({setLoading:r}),p=f.doFetch,m=f.doRequest,g=yt(),v=g.doRequest,y=g.loading,w=Et({setLoading:r}),F=w.fetchAllCategories,S=w.allCategories,I=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([p(k),F()]);case 2:t=e.sent,n=Object(ue.a)(t,1),a=n[0].results,d(a);case 6:case"end":return e.stop()}}),e)}))),[]),D=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(k);case 2:t=e.sent,n=t.results,d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){I()}),[I]);var T=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m((function(){return Q(t)}));case 2:return e.next=4,D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v((function(){return q(t)}));case 2:return e.next=4,D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m((function(){return q(t)}));case 2:return e.next=4,D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m((function(){return $(t)}),"Product commited.");case 2:return e.next=4,D();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=[{title:"Name",dataIndex:"name",width:"25.5%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"/product/staging",state:t},children:e})}},{title:"Brand",dataIndex:["brand","brandName"],width:"18%",align:"center"},{title:"Max DD",dataIndex:"maxDiscoDollars",width:"7%",align:"center",editable:!0,number:!0},{title:"First Import",dataIndex:"hCreationDate",width:"12.5%",align:"center",render:function(e){return e?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)("div",{children:[dt()(e).format("DD/MM/YY")," ",dt()(e).format("HH:mm")]})}):""}},{title:"Last Import",dataIndex:"lastImportDate",width:"12.5%",align:"center",render:function(e){return e?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)("div",{children:[dt()(e).format("DD/MM/YY")," ",dt()(e).format("HH:mm")]})}):""}},{title:"Last Go-Live",dataIndex:"lastGoLiveDate",width:"12.5%",align:"center",render:function(e){return e?Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsxs)("div",{children:[dt()(e).format("DD/MM/YY")," ",dt()(e).format("HH:mm")]})}):""}},{title:"Actions",key:"action",width:"12%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/product/staging",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return T(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,marginLeft:8},children:Object(Oe.jsx)(me.a,{})})}),Object(Oe.jsx)(xe.a,{onClick:function(){return L(t.id)},type:"link",style:{color:"green",padding:0,margin:6},children:Object(Oe.jsx)(or.a,{})})]})}}],A=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return h("brandName"),e.abrupt("return");case 3:O("brandName",(function(e){return e.filter((function(e){return e.brand.brandName===t.brandName}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C({});case 2:o([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Staging",subTitle:"List of Staging Products"}),Object(Oe.jsxs)(Ne.a,{align:"bottom",justify:"space-between",children:[Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){O("productName",(function(t){return t.filter((function(t){var n;return null===(n=t.name)||void 0===n?void 0:n.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by Name"})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(dn,{style:{width:"100%"},allowClear:!0,onChange:A})}),Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(an.a,{onChange:function(e){e.target.checked?O("categorized",(function(e){return e.filter((function(e){var t;return!(null===(t=e.categories)||void 0===t?void 0:t.length)}))})):h("categorized")},style:{margin:"42px 0 16px 8px"},children:"Unclassified only"})})]})}),Object(Oe.jsx)(cn,{text:"Edit Products",arrayList:x,ModalComponent:jn,selectedRowKeys:s,onOk:V})]}),Object(Oe.jsx)(rn,{rowKey:"id",columns:N,dataSource:x,loading:n,onSave:E,rowSelection:{selectedRowKeys:s,onChange:o},expandable:{expandedRowRender:function(e){return Object(Oe.jsx)(mn,{record:e,allCategories:S,onSaveProduct:P,loading:y},e.id)}}})]})},ur=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=yt({setLoading:i}),o=s.doRequest,u=s.doFetch,d=Object(a.useState)(),x=Object(ue.a)(d,2),O=x[0],h=x[1],f=qt([]),m=f.setArrayList,g=f.filteredArrayList,v=f.addFilterFunction,y=f.removeFilterFunction,w=function(e){if(e){var t=dt()(e[0],"DD/MM/YYYY").startOf("day").utc(),n=dt()(e[1],"DD/MM/YYYY").endOf("day").utc();v("creationDate",(function(e){return e.filter((function(e){var a=e.hCreationDate;return dt()(a).utc().isBetween(t,n)}))}))}else y("creationDate")},C=[{title:"Promo ID",dataIndex:"id",width:"10%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"promotion",state:t},children:e})}},{title:"Brand",dataIndex:["brand","brandName"],width:"10%",align:"center"},{title:"Creation",dataIndex:"hCreationDate",width:"10%",align:"center",filterIcon:Object(Oe.jsx)(Za.a,{}),filterDropdown:function(){return Object(Oe.jsx)(lt.a.RangePicker,{style:{padding:8},onChange:w})},render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"/promotion",state:{promotion:t,promoStatusList:O}},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return I(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}],k=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(M);case 2:t=e.sent,n=t.results,m(n);case 5:case"end":return e.stop()}}),e)}))),[]),F=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(U);case 2:n=e.sent,a=n.results,h(null===(t=a[0])||void 0===t?void 0:t.promoStatus);case 5:case"end":return e.stop()}}),e)}))),[]),S=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([k(),F()]);case 2:case"end":return e.stop()}}),e)}))),[]),I=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o((function(){return e={id:t},p.delete("Wi/Ep/RemovePromotion",{data:e});var e}));case 2:return e.next=4,S();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S()}),[S]);return Object(Oe.jsxs)("div",{className:"promotions",children:[Object(Oe.jsx)(Ce.a,{title:"Promotions",subTitle:"List of Promotions",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("/promotion")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){v("promoId",(function(t){return t.filter((function(t){return t.id.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by ID"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:C,dataSource:g,loading:c})]})},dr=function(e){var t=e.history,n=e.location.state,r=null===n||void 0===n?void 0:n.promotion,c=je.a.useForm(),i=Object(ue.a)(c,1)[0],s=yt(),o=s.doRequest,l=s.doFetch,u=s.loading,d=Object(a.useState)([]),x=Object(ue.a)(d,2),O=x[0],h=x[1],f=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.getFieldsValue(!0),e.next=3,o((function(){return(e=n).id?p.post("Wi/Ep/UpdatePromotion",e):p.put("Wi/EP/AddPromotion",e);var e}));case 3:t.push("/promotions");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(w);case 2:t=e.sent,n=t.results,h(n);case 5:case"end":return e.stop()}}),e)}))),[]),g=Object(a.useCallback)(Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){g()}),[g]),Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Promotion Update",subTitle:"Promotion"}),Object(Oe.jsxs)(je.a,{form:i,layout:"vertical",onFinish:f,initialValues:r,autoComplete:"off",children:[Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Description",name:"description",children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Brief",name:"brief",children:Object(Oe.jsx)(vt,{formField:"brief",form:i})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"packages",label:"Packages",children:Object(Oe.jsx)(Ve.a,{mode:"tags",children:O.map((function(e){return Object(Oe.jsx)(Ve.a.Option,{value:e.title,children:e.title},e.id)}))})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/promotions")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:u,type:"primary",onClick:f,children:"Save Changes"})})]})]})]})},jr=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=yt({setLoading:i}),o=s.doFetch,u=s.doRequest,d=qt([]),x=d.setArrayList,O=d.filteredArrayList,h=d.addFilterFunction,f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(R);case 2:t=e.sent,n=t.results,x(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var g=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((function(){return e={id:t},p.delete("Wi/Ep/RemoveDdTemplate",{data:e});var e}));case 2:return e.next=4,m();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[{title:"Tag Name",dataIndex:"tagName",width:"20%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"dd-template",state:t},children:e})}},{title:"Template",dataIndex:"template",width:"12%",align:"center"},{title:"Disco Gold",dataIndex:"discoGold",width:"10%",align:"center"},{title:"Disco Dollars",dataIndex:"discoDollars",width:"10%",align:"center"},{title:"Creation",dataIndex:"hCreationDate",width:"15%",align:"center",render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}},{title:"Actions",key:"action",width:"10%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"dd-template",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return g(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Ce.a,{title:"Disco Dollars Templates",subTitle:"List of Disco Dollars Templates",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("dd-template")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){h("ddTagName",(function(t){return t.filter((function(t){return t.tagName.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by Tag Name"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:v,dataSource:O,loading:c})]})},br=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=je.a.useForm(),l=Object(ue.a)(o,1)[0],u=yt({setLoading:s}).doRequest,d=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.getFieldsValue(!0),e.next=3,u((function(){return(e=n).id?p.post("Wi/Ep/UpdateDdTemplate",e):p.put("Wi/EP/AddDdTemplate",e);var e}));case 3:t.push("/dd-templates");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Disco Dollar Template Update",subTitle:"Disco Dollar Template "}),Object(Oe.jsxs)(je.a,{name:"ddTemplateForm",layout:"vertical",form:l,initialValues:n,onFinish:d,children:[Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsxs)(Ae.a,{lg:12,xs:24,children:[Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Tag Name",name:"tagName",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Template",name:"template",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Disco Gold",name:"discoGold",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{type:"number"})})}),Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Disco Dollars",name:"discoDollars",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{type:"number"})})})]})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/dd-templates")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:d,children:"Save Changes"})})]})]})]})},xr=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=yt({setLoading:i}),o=s.doFetch,u=s.doRequest,d=qt([]),x=d.setArrayList,O=d.filteredArrayList,h=d.addFilterFunction,f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(Y);case 2:t=e.sent,n=t.results,x(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var g=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((function(){return e={id:t},p.delete("Wi/Ep/RemovePromoDisplay",{data:e});var e}));case 2:return e.next=4,m();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[{title:"Shop Display ID",dataIndex:"id",width:"20%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"promo-display",state:t},children:e})}},{title:"Display Start Date",dataIndex:"displayStartDate",width:"15%",align:"center",render:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")})})}},{title:"Display Expire Date",dataIndex:"displayExpireDate",width:"15%",align:"center",render:function(e){return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")})})}},{title:"Actions",key:"action",width:"10%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"promo-display",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return g(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Ce.a,{title:"Shop Display",subTitle:"List of Shop Display",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("promo-display")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){h("promoId",(function(t){return t.filter((function(t){return t.id.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by ID"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:v,dataSource:O,loading:c})]})},Or=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=je.a.useForm(),l=Object(ue.a)(o,1)[0],u=yt({setLoading:s}).doRequest,d=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.getFieldsValue(!0),e.next=3,u((function(){return(e=n).id?p.post("Wi/Ep/UpdatePromoDisplay",e):p.put("Wi/EP/AddPromoDisplay",e);var e}));case 3:t.push("/promo-displays");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Shop Display Update",subTitle:"Shop Display "}),Object(Oe.jsxs)(je.a,{name:"promoDisplayForm",layout:"vertical",form:l,initialValues:n,onFinish:d,children:[Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Display HTML",children:Object(Oe.jsx)(vt,{formField:"displayHtml",form:l})})})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"displayStartDate",label:"Display Start Date",getValueProps:jt,rules:[{required:!0}],children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:24,children:Object(Oe.jsx)(je.a.Item,{name:"displayExpireDate",label:"Display Expire Date",getValueProps:jt,rules:[{required:!0}],children:Object(Oe.jsx)(lt.a,{format:"DD/MM/YYYY"})})})]}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/promo-displays")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:d,children:"Save Changes"})})]})]})]})},hr=n(1036),fr=n(1043),pr=n(1044),mr=n(323),gr=n(324),vr=n(265),yr=n(256),wr=n(574),Cr=n(1045),kr=n(575),Fr=n(1037),Sr=n(569),Ir=n(318),Dr=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],Tr=["#0088FE","#00C49F","#FFBB28","#FF8042"],Pr=Math.PI/180,Er=function(e){var t=e.cx,n=e.cy,a=e.midAngle,r=e.innerRadius,c=e.outerRadius,i=e.percent,s=(e.index,r+.5*(c-r)),o=t+s*Math.cos(-a*Pr),l=n+s*Math.sin(-a*Pr);return Object(Oe.jsx)("text",{x:o,y:l,fill:"white",textAnchor:o>t?"start":"end",dominantBaseline:"central",children:"".concat((100*i).toFixed(0),"%")})},Lr=function(e){Object(ea.a)(n,e);var t=Object(ta.a)(n);function n(){return Object(Qn.a)(this,n),t.apply(this,arguments)}return Object($n.a)(n,[{key:"render",value:function(){return Object(Oe.jsx)(hr.a,{width:"100%",height:"100%",children:Object(Oe.jsx)(Fr.a,{width:400,height:400,children:Object(Oe.jsx)(Sr.a,{data:Dr,cx:"50%",cy:"50%",labelLine:!1,label:Er,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Dr.map((function(e,t){return Object(Oe.jsx)(Ir.a,{fill:Tr[t%Tr.length]},"cell-".concat(t))}))})})})}}]),n}(a.PureComponent);Lr.demoUrl="https://codesandbox.io/s/pie-chart-with-customized-label-dlhhj";var Nr=n(1041),Ar=n(1042),Vr=n(319),Mr=n(321),Ur=n(572),Rr=[{subject:"Math",A:120,B:110,fullMark:150},{subject:"Chinese",A:98,B:130,fullMark:150},{subject:"English",A:86,B:130,fullMark:150},{subject:"Geography",A:99,B:100,fullMark:150},{subject:"Physics",A:85,B:90,fullMark:150},{subject:"History",A:65,B:85,fullMark:150}],Yr=function(e){Object(ea.a)(n,e);var t=Object(ta.a)(n);function n(){return Object(Qn.a)(this,n),t.apply(this,arguments)}return Object($n.a)(n,[{key:"render",value:function(){return Object(Oe.jsx)(hr.a,{width:"100%",height:"100%",children:Object(Oe.jsxs)(Nr.a,{cx:"50%",cy:"50%",outerRadius:"80%",data:Rr,children:[Object(Oe.jsx)(Ar.a,{}),Object(Oe.jsx)(Vr.a,{dataKey:"subject"}),Object(Oe.jsx)(Mr.a,{}),Object(Oe.jsx)(Ur.a,{name:"Mike",dataKey:"A",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]})})}}]),n}(a.PureComponent);Yr.demoUrl="https://codesandbox.io/s/simple-radar-chart-rjoc6";var Br=function(){var e=[{name:"Page A",uv:4e3,pv:2400,amt:2400},{name:"Page B",uv:3e3,pv:1398,amt:2210},{name:"Page C",uv:2e3,pv:9800,amt:2290},{name:"Page D",uv:2780,pv:3908,amt:2e3},{name:"Page E",uv:1890,pv:4800,amt:2181},{name:"Page F",uv:2390,pv:3800,amt:2500},{name:"Page G",uv:3490,pv:4300,amt:2100}];return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsxs)(Ne.a,{style:{height:"50%"},children:[Object(Oe.jsx)(Ae.a,{style:{width:"75%"},children:Object(Oe.jsx)(hr.a,{children:Object(Oe.jsxs)(fr.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(Oe.jsx)(pr.a,{strokeDasharray:"3 3"}),Object(Oe.jsx)(mr.a,{dataKey:"name"}),Object(Oe.jsx)(gr.a,{}),Object(Oe.jsx)(vr.a,{}),Object(Oe.jsx)(yr.a,{}),Object(Oe.jsx)(wr.a,{type:"monotone",dataKey:"pv",stroke:"#8884d8",activeDot:{r:8}}),Object(Oe.jsx)(wr.a,{type:"monotone",dataKey:"uv",stroke:"#82ca9d"})]})})}),Object(Oe.jsx)(Ae.a,{style:{width:"25%"},children:Object(Oe.jsx)(Lr,{})})]}),Object(Oe.jsxs)(Ne.a,{style:{height:"50%"},children:[Object(Oe.jsx)(Ae.a,{style:{width:"60%"},children:Object(Oe.jsx)(hr.a,{width:"100%",height:"100%",children:Object(Oe.jsxs)(Cr.a,{width:500,height:300,data:e,margin:{top:5,right:30,left:20,bottom:5},children:[Object(Oe.jsx)(pr.a,{strokeDasharray:"3 3"}),Object(Oe.jsx)(mr.a,{dataKey:"name"}),Object(Oe.jsx)(gr.a,{}),Object(Oe.jsx)(vr.a,{}),Object(Oe.jsx)(yr.a,{}),Object(Oe.jsx)(kr.a,{dataKey:"pv",fill:"#8884d8"}),Object(Oe.jsx)(kr.a,{dataKey:"uv",fill:"#82ca9d"})]})})}),Object(Oe.jsx)(Ae.a,{style:{width:"40%"},children:Object(Oe.jsx)(Yr,{})})]})]})},Wr=n(576),Kr=n.n(Wr),qr=function(){var e=Object(a.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=Et({setLoading:r}),i=c.fetchAllCategories,s=c.allCategories,o=yt({setLoading:r}),l=o.doFetch,u=o.doRequest,d=Object(a.useState)(""),x=Object(ue.a)(d,2),f=x[0],m=x[1],g=Object(a.useState)(""),v=Object(ue.a)(g,2),y=v[0],w=v[1],C=Object(a.useState)(""),k=Object(ue.a)(C,2),F=k[0],S=k[1],I=Object(a.useState)([]),D=Object(ue.a)(I,2),T=D[0],P=D[1],E=Object(a.useState)([]),L=Object(ue.a)(E,2),N=L[0],A=L[1];Object(a.useEffect)((function(){if(s["Super Category"].length){var e=function(e){return{searchTags:e.searchTags,image:e.image}},t=[];s.Category.forEach((function(n){t.push(Object(O.a)({description:n.category,categoryId:n.id},e(n)))})),s["Sub Category"].forEach((function(n){t.push(Object(O.a)({description:n.subCategory,subCategoryId:n.id},e(n)))})),s["Sub Sub Category"].forEach((function(n){t.push(Object(O.a)({description:n.subSubCategory,subSubCategoryId:n.id},e(n)))})),A(t)}}),[s]);var V=Object(a.useRef)(null),M=function(e,t,n){t(),m(e[0]),w(n)},U=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,a=t.selectedKeys,r=t.confirm,c=t.clearFilters;return Object(Oe.jsxs)("div",{style:{padding:8},children:[Object(Oe.jsx)(be.a,{ref:V,placeholder:"Search ".concat(e),value:a[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return M(a,r,e)},style:{marginBottom:8,display:"block"}}),Object(Oe.jsxs)(Ma.b,{children:[Object(Oe.jsx)(xe.a,{type:"primary",onClick:function(){return M(a,r,e)},icon:Object(Oe.jsx)(Gt.a,{}),size:"small",style:{width:90},children:"Search"}),Object(Oe.jsx)(xe.a,{onClick:function(){return function(e){e(),m("")}(c)},size:"small",style:{width:90},children:"Reset"}),Object(Oe.jsx)(xe.a,{type:"link",size:"small",onClick:function(){r({closeDropdown:!1}),m(a[0]),w(e)},children:"Filter"})]})]})},filterIcon:function(e){return Object(Oe.jsx)(Gt.a,{style:{color:e?"#1890ff":void 0}})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return V.current.select()}),100)},render:function(t){return y===e?Object(Oe.jsx)(Ba.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[f],autoEscape:!0,textToHighlight:t?t.toString():""}):t}}},R={icon:Object(Oe.jsx)(qe.a,{}),fn:function(e,t){P((function(t){return[e].concat(Object(fe.a)(t))})),h.b.success("Category added into interests.")}},Y={icon:Object(Oe.jsx)(Lt.a,{}),fn:function(e,t){P((function(e){return[].concat(Object(fe.a)(e.slice(0,t)),Object(fe.a)(e.slice(t+1)))}))}},W=Object(a.useState)(Y),K=Object(ue.a)(W,2),q=K[0],G=K[1];Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([l(B),i()]);case 2:t=e.sent,n=Object(ue.a)(t,1),a=n[0].results,P(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var H=[Object(O.a)({title:"Title",dataIndex:"description",width:"15%"},"All Categories"===F?U("description"):{}),{title:"Image",dataIndex:"image",width:"15%",render:function(e){return Object(Oe.jsx)(Ua.a,{src:null===e||void 0===e?void 0:e.url,width:70})}},{title:"Actions",key:"action",width:"5%",align:"right",render:function(e,t,n){return Object(Oe.jsx)(xe.a,{onClick:function(){return q.fn(t,n)},type:"link",style:{padding:0,margin:"0 6px"},children:q.icon})}}],z=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((function(){return e=T,p.put("Disco/Fan/UpdateInterests",e);var e}),"Interests updated.");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{className:"interests",children:[Object(Oe.jsx)(Ce.a,{title:"Interests"}),Object(Oe.jsx)(Ne.a,{children:Object(Oe.jsx)(xe.a,{onClick:z,style:{marginBottom:"16px",color:"white",borderColor:"#4CAF50",backgroundColor:"#4CAF50"},children:"Save Changes"})}),Object(Oe.jsxs)(it.a,{defaultActiveKey:"Interests",onChange:function(e){S(e),G("Interests"===e?Y:R)},children:[Object(Oe.jsx)(it.a.TabPane,{tab:"Interests",children:Object(Oe.jsx)(nt,{rowKey:"id",columns:H,dataSource:T,setDataSource:P,loading:n})},"Interests"),Object(Oe.jsx)(it.a.TabPane,{tab:"All Categories",children:Object(Oe.jsx)(Kr.a,{rowKey:"id",columns:H,dataSource:N,loading:n})},"All Categories")]})]})},Gr=function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=yt({setLoading:i}),o=s.doFetch,u=s.doRequest,d=qt([]),x=d.setArrayList,O=d.filteredArrayList,h=d.addFilterFunction,f=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(W);case 2:t=e.sent,n=t.results,x(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f()}),[]);var g=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((function(){return e={id:t},p.delete("Wi/Ep/RemoveFanGroup",{data:e});var e}));case 2:return e.next=4,m();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=[{title:"Group Name",dataIndex:"name",width:"20%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"fans-group",state:t},children:e})}},{title:"Creation",dataIndex:"hCreationDate",width:"15%",align:"center",render:function(e){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)("div",{children:dt()(e).format("DD/MM/YYYY")}),Object(Oe.jsx)("div",{children:dt()(e).format("HH:mm")})]})}},{title:"Actions",key:"action",width:"10%",align:"right",render:function(e,t){return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(l.b,{to:{pathname:"fans-group",state:t},children:Object(Oe.jsx)(pe.a,{})}),Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return g(t.id)},children:Object(Oe.jsx)(xe.a,{type:"link",style:{padding:0,margin:6},children:Object(Oe.jsx)(me.a,{})})})]})}}];return Object(Oe.jsxs)("div",{children:[Object(Oe.jsx)(Ce.a,{title:"Fan Groups",subTitle:"List of Fan Groups",extra:[Object(Oe.jsx)(xe.a,{onClick:function(){return t.push("fans-group")},children:"New Item"},"1")]}),Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:8,xs:16,children:Object(Oe.jsx)(Ht,{filterFunction:function(e){h("fanGroupName",(function(t){return t.filter((function(t){return t.name.toUpperCase().includes(e.toUpperCase())}))}))},label:"Search by Name"})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:v,dataSource:O,loading:c})]})},Hr=function(e){var t=e.history,n=e.location.state,r=Object(a.useState)(!1),c=Object(ue.a)(r,2),i=c[0],s=c[1],o=je.a.useForm(),l=Object(ue.a)(o,1)[0],u=yt({setLoading:s}).doRequest,d=function(){var e=Object(b.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.getFieldsValue(!0),e.next=3,u((function(){return J(n)}));case 3:t.push("/fan-groups");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsxs)(Oe.Fragment,{children:[Object(Oe.jsx)(Ce.a,{title:"Fan Group Update",subTitle:"Fan Group"}),Object(Oe.jsxs)(je.a,{name:"fanGroupForm",layout:"vertical",form:l,initialValues:n,onFinish:d,children:[Object(Oe.jsx)(Ne.a,{gutter:8,children:Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsx)(Ae.a,{lg:16,xs:24,children:Object(Oe.jsx)(je.a.Item,{label:"Name",name:"name",rules:[{required:!0}],children:Object(Oe.jsx)(be.a,{})})})})}),Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{type:"default",onClick:function(){return t.push("/fan-groups")},children:"Cancel"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{loading:i,type:"primary",onClick:d,children:"Save Changes"})})]})]})]})},zr=n(577),_r=function(e){var t=e.fanId,n=e.brandId,r=e.getResources,c=e.label,i=Object(a.useState)(!1),s=Object(ue.a)(i,2),o=s[0],l=s[1],u=yt({setLoading:l}).doRequest,d=Object(zr.useForm)(),x=Object(ue.a)(d,1)[0],O=function(){var e=Object(b.a)(j.a.mark((function e(a){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.balanceToAdd,e.next=3,u((function(){return re(t,n,c)}));case 3:return x.resetFields(),e.next=6,r();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u((function(){return ce(t,n)}));case 2:return e.next=4,r();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(Ae.a,{lg:12,xs:24,children:Object(Oe.jsxs)(je.a,{form:x,onFinish:O,children:[c&&Object(Oe.jsx)(ct.a.Title,{level:5,title:c,children:c}),Object(Oe.jsxs)(Ne.a,{gutter:4,children:[Object(Oe.jsx)(Ae.a,{lg:8,xs:8,children:Object(Oe.jsx)(je.a.Item,{name:"balanceToAdd",children:Object(Oe.jsx)(Re.a,{})})}),Object(Oe.jsx)(Ae.a,{lg:12,xs:12,children:Object(Oe.jsxs)(Ne.a,{gutter:4,children:[Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(xe.a,{htmlType:"submit",loading:o,type:"primary",children:"Add"})}),Object(Oe.jsx)(Ae.a,{children:Object(Oe.jsx)(we.a,{title:"Are you sure\uff1f",okText:"Yes",cancelText:"No",onConfirm:h,children:Object(Oe.jsx)(xe.a,{danger:!0,children:"Reset"})})})]})})]})]})})})},Jr=function(){var e=Object(a.useState)(!1),t=Object(ue.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(),i=Object(ue.a)(c,2),s=i[0],o=i[1],u=Object(a.useState)(),d=Object(ue.a)(u,2),x=d[0],O=d[1],h=yt({setLoading:r}).doFetch,f=qt([]),m=f.setArrayList,g=f.filteredArrayList,v=f.addFilterFunction,y=f.removeFilterFunction,w=[{title:"Brand",dataIndex:"brandName",width:"40%",render:function(e,t){return Object(Oe.jsx)(l.b,{to:{pathname:"wallet",state:{fan:s,brand:{id:t.brandId,discoDollars:t.discoDollars,discoGold:t.discoGold,name:t.brandName}}},children:e})}},{title:"DD Balance",dataIndex:"discoDollars",width:"15%",align:"right"}],C=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h((function(){return e=t.id,p.get("Disco/Wallet/GetBalancePerBrand/".concat(e));var e}),!0);case 2:n=e.sent,a=n.balance,m(a),o(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return y("brandName"),e.abrupt("return");case 3:v("brandName",(function(e){return e.filter((function(e){return e.brandName===t.brandName}))})),O(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Oe.jsxs)("div",{className:"wallets",children:[Object(Oe.jsx)(Ce.a,{title:"Fan Wallets",subTitle:"List of fan wallets"}),Object(Oe.jsx)(Ne.a,{align:"bottom",justify:"space-between",children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:12,children:Object(Oe.jsx)(er,{onChange:C,style:{width:"100%"}})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:12,children:Object(Oe.jsx)(dn,{style:{width:"100%"},allowClear:!0,onChange:k})}),s&&x&&Object(Oe.jsx)(Oe.Fragment,{children:Object(Oe.jsx)(_r,{fanId:s.id,brandId:x.id,getResources:function(){return C(s)},label:"Manage DDs"})})]})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:w,dataSource:g,loading:n})]})},Xr=function(e){var t=e.location,n=Object(a.useState)(!1),r=Object(ue.a)(n,2),c=r[0],i=r[1],s=yt({setLoading:i}).doFetch,o=t.state,l=qt([]),u=l.setArrayList,d=l.filteredArrayList,x=l.addFilterFunction,O=l.removeFilterFunction,h=function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((function(){return e=o.fan.id,t=o.brand.id,p.get("Disco/Wallet/GetTransactionsPerBrand/".concat(e,"/").concat(t));var e,t}));case 2:t=e.sent,n=t.results,u(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){h()}),[]);var f=[{title:"Date Time",dataIndex:"hCreationDate",width:"20%",align:"left",filterIcon:Object(Oe.jsx)(Za.a,{}),filterDropdown:function(){return Object(Oe.jsx)(lt.a.RangePicker,{style:{padding:8},onChange:m})},render:function(e){return"".concat(dt()(e).format("DD/MM/YYYY")," ").concat(dt()(e).format("HH:mm:ss"))}},{title:"Type",dataIndex:"type",width:"12%"},{title:"Amount",dataIndex:"discoDollars",width:"10%",align:"center"},{title:"Who",dataIndex:"userId",width:"20%",align:"right"}],m=function(e){if(e){var t=dt()(e[0],"DD/MM/YYYY").startOf("day").utc(),n=dt()(e[1],"DD/MM/YYYY").endOf("day").utc();x("creationDate",(function(e){return e.filter((function(e){var a=e.hCreationDate;return dt()(a).utc().isBetween(t,n)}))}))}else O("creationDate")};return Object(Oe.jsxs)("div",{className:"walletdetail",children:[Object(Oe.jsx)(Ce.a,{title:"Wallet Fan/Brand Transactions"}),Object(Oe.jsx)(Ne.a,{align:"bottom",justify:"space-between",children:Object(Oe.jsx)(Ae.a,{lg:24,xs:24,children:Object(Oe.jsxs)(Ne.a,{gutter:8,children:[Object(Oe.jsx)(Ae.a,{lg:6,xs:12,children:Object(Oe.jsxs)(ct.a.Text,{strong:!0,children:["Fan: ",o.fan.user]})}),Object(Oe.jsx)(Ae.a,{lg:6,xs:12,children:Object(Oe.jsxs)(ct.a.Text,{strong:!0,children:["Brand: ",o.brand.name]})}),Object(Oe.jsx)(_r,{fanId:o.fan.id,brandId:o.brand.id,getResources:h})]})})}),Object(Oe.jsx)(Fe.a,{rowKey:"id",columns:f,dataSource:d,loading:c})]})};var Zr=function(){return Object(Oe.jsxs)(le.d,{children:[Object(Oe.jsx)(Zn,{exact:!0,path:"/",returnComponent:!0,component:Object(Oe.jsx)(le.a,{to:"/dashboard"})}),Object(Oe.jsx)(Zn,{path:"/dashboard",component:Br,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/login",component:he,layout:Ta}),Object(Oe.jsx)(Zn,{path:"/video-feed",component:Ct,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/feed",component:Le,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/product/:productMode",component:Bt,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/products",component:gn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/creator",component:tn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/creators",component:_t,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/category",component:Xa,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/categories",component:qa,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/tag",component:vn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/tags",component:wn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/brand",component:In,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/brands",component:Fn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/promo-code",component:Pn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/promo-codes",component:Tn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/endpoint",component:En,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/endpoints",component:Ln,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/fan",component:Vn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/fans",component:qn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/brand-managers",component:Gn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/role",component:Xn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/roles",component:Jn,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/settings",component:_n,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/access-control",component:Va,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/order",component:$a,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/orders",component:Qa,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/transactions",component:tr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/feed-mixer",component:sr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/staging-products",component:lr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/promotion",component:dr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/promotions",component:ur,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/dd-template",component:br,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/dd-templates",component:jr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/promo-display",component:Or,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/promo-displays",component:xr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/interests",component:qr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/fans-group",component:Hr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/fan-groups",component:Gr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/wallet",component:Xr,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/wallets",component:Jr,layout:Ia})]})};var Qr=function(){return Object(Oe.jsxs)(le.d,{children:[Object(Oe.jsx)(Zn,{exact:!0,path:"/",returnComponent:!0,component:Object(Oe.jsx)(le.a,{to:"/staging-list"})}),Object(Oe.jsx)(Zn,{path:"/login",component:he,layout:Ta}),Object(Oe.jsx)(Zn,{path:"/product/:productMode",component:Bt,layout:Ia}),Object(Oe.jsx)(Zn,{path:"/staging-list",component:lr,layout:Ia})]})},$r=function(){return oe({ADMIN:Object(Oe.jsx)(Zr,{}),BRAND_MANAGER:Object(Oe.jsx)(Qr,{})})};var ec=function(){var e=Object(s.b)();return Object(a.useEffect)((function(){o()&&e(ie())}),[e]),Object(Oe.jsx)(l.a,{children:Object(Oe.jsx)($r,{})})},tc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1086)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},nc=Object(x.a)({reducer:{settings:se}});i.a.render(Object(Oe.jsx)(r.a.StrictMode,{children:Object(Oe.jsx)(s.a,{store:nc,children:Object(Oe.jsx)(ec,{})})}),document.getElementById("root")),tc()},505:function(e,t,n){},605:function(e,t,n){},682:function(e,t,n){},777:function(e,t,n){},778:function(e,t,n){},885:function(e,t,n){}},[[1030,1,2]]]);
//# sourceMappingURL=main.6c206bf3.chunk.js.map